<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>jvpp_common.c source code [vpp_1804/src/vpp-api/java/jvpp-common/jvpp_common.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'vpp_1804/src/vpp-api/java/jvpp-common/jvpp_common.c'; var root_path = '../../../../..'; var data_path = '../../../../../../data';</script>
<script src='../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>vpp_1804</a>/<a href='../../..'>src</a>/<a href='../..'>vpp-api</a>/<a href='..'>java</a>/<a href='./'>jvpp-common</a>/<a href='jvpp_common.c.html'>jvpp_common.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Copyright (c) 2016 Cisco and/or its affiliates.</i></td></tr>
<tr><th id="3">3</th><td><i> * Licensed under the Apache License, Version 2.0 (the "License");</i></td></tr>
<tr><th id="4">4</th><td><i> * you may not use this file except in compliance with the License.</i></td></tr>
<tr><th id="5">5</th><td><i> * You may obtain a copy of the License at:</i></td></tr>
<tr><th id="6">6</th><td><i> *</i></td></tr>
<tr><th id="7">7</th><td><i> *     <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></i></td></tr>
<tr><th id="8">8</th><td><i> *</i></td></tr>
<tr><th id="9">9</th><td><i> * Unless required by applicable law or agreed to in writing, software</i></td></tr>
<tr><th id="10">10</th><td><i> * distributed under the License is distributed on an "AS IS" BASIS,</i></td></tr>
<tr><th id="11">11</th><td><i> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</i></td></tr>
<tr><th id="12">12</th><td><i> * See the License for the specific language governing permissions and</i></td></tr>
<tr><th id="13">13</th><td><i> * limitations under the License.</i></td></tr>
<tr><th id="14">14</th><td><i> */</i></td></tr>
<tr><th id="15">15</th><td><u>#define <dfn class="macro" id="_M/_GNU_SOURCE" data-ref="_M/_GNU_SOURCE">_GNU_SOURCE</dfn> /* for strcasestr(3) */</u></td></tr>
<tr><th id="16">16</th><td></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="../../../vnet/api_errno.h.html">&lt;vnet/api_errno.h&gt;</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="jvpp_common.h.html">"jvpp_common.h"</a></u></td></tr>
<tr><th id="19">19</th><td></td></tr>
<tr><th id="20">20</th><td><u>#<span data-ppcond="20">ifndef</span> <span class="macro" data-ref="_M/JVPP_DEBUG">JVPP_DEBUG</span></u></td></tr>
<tr><th id="21">21</th><td><u>#define <dfn class="macro" id="_M/JVPP_DEBUG" data-ref="_M/JVPP_DEBUG">JVPP_DEBUG</dfn> 0</u></td></tr>
<tr><th id="22">22</th><td><u>#<span data-ppcond="20">endif</span></u></td></tr>
<tr><th id="23">23</th><td></td></tr>
<tr><th id="24">24</th><td><u>#<span data-ppcond="24">if</span> <a class="macro" href="#21" title="0" data-ref="_M/JVPP_DEBUG">JVPP_DEBUG</a> == 1</u></td></tr>
<tr><th id="25">25</th><td><u>#define DEBUG_LOG(...) clib_warning(__VA_ARGS__)</u></td></tr>
<tr><th id="26">26</th><td><u>#<span data-ppcond="24">else</span></u></td></tr>
<tr><th id="27">27</th><td><u>#define <dfn class="macro" id="_M/DEBUG_LOG" data-ref="_M/DEBUG_LOG">DEBUG_LOG</dfn>(...)</u></td></tr>
<tr><th id="28">28</th><td><u>#<span data-ppcond="24">endif</span></u></td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><u>#define <dfn class="macro" id="_M/_" data-ref="_M/_">_</dfn>(error,errorCode,msg)  \</u></td></tr>
<tr><th id="31">31</th><td><u>if (errorCode == <a class="local col1 ref" href="#67" title='code' data-ref="11code">code</a>)          \</u></td></tr>
<tr><th id="32">32</th><td><u>    <a class="local col0 ref" href="#10message" title='message' data-ref="10message">message</a> = msg;              \</u></td></tr>
<tr><th id="33">33</th><td><u>else</u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><u>#define <dfn class="macro" id="_M/get_error_message" data-ref="_M/get_error_message">get_error_message</dfn>(errno)    \</u></td></tr>
<tr><th id="36">36</th><td><u>int <dfn class="local col1 decl" id="11code" title='code' data-type='int' data-ref="11code">code</dfn> = errno;                   \</u></td></tr>
<tr><th id="37">37</th><td><u>foreach_vnet_api_error              \</u></td></tr>
<tr><th id="38">38</th><td><u>    <a class="local col0 ref" href="#10message" title='message' data-ref="10message">message</a> = "Reason unknown";</u></td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><i>/* shared jvpp main structure */</i></td></tr>
<tr><th id="41">41</th><td><a class="typedef" href="jvpp_common.h.html#jvpp_main_t" title='jvpp_main_t' data-type='struct jvpp_main_t' data-ref="jvpp_main_t">jvpp_main_t</a> <dfn class="decl def" id="jvpp_main" title='jvpp_main' data-ref="jvpp_main">jvpp_main</dfn> <b>__attribute__</b>((aligned (<var>64</var>)));</td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><em>void</em> <dfn class="decl def fn" id="call_on_error" title='call_on_error' data-ref="call_on_error">call_on_error</dfn>(<em>const</em> <em>char</em>* <dfn class="local col1 decl" id="1callName" title='callName' data-type='const char *' data-ref="1callName">callName</dfn>, <em>int</em> <dfn class="local col2 decl" id="2contextId" title='contextId' data-type='int' data-ref="2contextId">contextId</dfn>, <em>int</em> <dfn class="local col3 decl" id="3retval" title='retval' data-type='int' data-ref="3retval">retval</dfn>,</td></tr>
<tr><th id="44">44</th><td>        <span class='typedef' title='jclass' data-type='jobject' data-ref="jclass">jclass</span> <dfn class="local col4 decl" id="4callbackClass" title='callbackClass' data-type='jclass' data-ref="4callbackClass">callbackClass</dfn>, <span class='typedef' title='jobject' data-type='struct _jobject *' data-ref="jobject">jobject</span> <dfn class="local col5 decl" id="5callbackObject" title='callbackObject' data-type='jobject' data-ref="5callbackObject">callbackObject</dfn>,</td></tr>
<tr><th id="45">45</th><td>        <span class='typedef' title='jclass' data-type='jobject' data-ref="jclass">jclass</span> <dfn class="local col6 decl" id="6callbackExceptionClass" title='callbackExceptionClass' data-type='jclass' data-ref="6callbackExceptionClass">callbackExceptionClass</dfn>) {</td></tr>
<tr><th id="46">46</th><td>    <a class="macro" href="#27" title="" data-ref="_M/DEBUG_LOG">DEBUG_LOG</a>(<q>"\nCallOnError : callback=%s, retval=%d, context=%d\n"</q>, callName,</td></tr>
<tr><th id="47">47</th><td>            clib_net_to_host_u32(retval), clib_net_to_host_u32(context));</td></tr>
<tr><th id="48">48</th><td>    <span class='typedef' title='JNIEnv' data-type='const struct JNINativeInterface_ *' data-ref="JNIEnv">JNIEnv</span> *<dfn class="local col7 decl" id="7env" title='env' data-type='JNIEnv *' data-ref="7env">env</dfn> = <a class="ref" href="jvpp_common.h.html#jvpp_main" title='jvpp_main' data-ref="jvpp_main">jvpp_main</a>.<a class="ref field" href="jvpp_common.h.html#(anonymous)::jenv" title='(anonymous struct)::jenv' data-ref="(anonymous)::jenv">jenv</a>;</td></tr>
<tr><th id="49">49</th><td>    <b>if</b> (!<a class="local col4 ref" href="#4callbackClass" title='callbackClass' data-ref="4callbackClass">callbackClass</a>) {</td></tr>
<tr><th id="50">50</th><td>        <a class="macro" href="#27" title="" data-ref="_M/DEBUG_LOG">DEBUG_LOG</a>(<q>"CallOnError : jm-&gt;callbackClass is null!\n"</q>);</td></tr>
<tr><th id="51">51</th><td>        <b>return</b>;</td></tr>
<tr><th id="52">52</th><td>    }</td></tr>
<tr><th id="53">53</th><td>    <span class='typedef' title='jmethodID' data-type='struct _jmethodID *' data-ref="jmethodID">jmethodID</span> <dfn class="local col8 decl" id="8excConstructor" title='excConstructor' data-type='jmethodID' data-ref="8excConstructor">excConstructor</dfn> = (*<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>)-&gt;<span class='ref field' title='JNINativeInterface_::GetMethodID' data-ref="JNINativeInterface_::GetMethodID">GetMethodID</span>(<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>, <a class="local col6 ref" href="#6callbackExceptionClass" title='callbackExceptionClass' data-ref="6callbackExceptionClass">callbackExceptionClass</a>,</td></tr>
<tr><th id="54">54</th><td>            <q>"&lt;init&gt;"</q>, <q>"(Ljava/lang/String;Ljava/lang/String;II)V"</q>);</td></tr>
<tr><th id="55">55</th><td>    <b>if</b> (!<a class="local col8 ref" href="#8excConstructor" title='excConstructor' data-ref="8excConstructor">excConstructor</a>) {</td></tr>
<tr><th id="56">56</th><td>        <a class="macro" href="#27" title="" data-ref="_M/DEBUG_LOG">DEBUG_LOG</a>(<q>"CallOnError : excConstructor is null!\n"</q>);</td></tr>
<tr><th id="57">57</th><td>        <b>return</b>;</td></tr>
<tr><th id="58">58</th><td>    }</td></tr>
<tr><th id="59">59</th><td>    <span class='typedef' title='jmethodID' data-type='struct _jmethodID *' data-ref="jmethodID">jmethodID</span> <dfn class="local col9 decl" id="9callbackExcMethod" title='callbackExcMethod' data-type='jmethodID' data-ref="9callbackExcMethod">callbackExcMethod</dfn> = (*<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>)-&gt;<span class='ref field' title='JNINativeInterface_::GetMethodID' data-ref="JNINativeInterface_::GetMethodID">GetMethodID</span>(<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>, <a class="local col4 ref" href="#4callbackClass" title='callbackClass' data-ref="4callbackClass">callbackClass</a>,</td></tr>
<tr><th id="60">60</th><td>            <q>"onError"</q>, <q>"(Lio/fd/vpp/jvpp/VppCallbackException;)V"</q>);</td></tr>
<tr><th id="61">61</th><td>    <b>if</b> (!<a class="local col9 ref" href="#9callbackExcMethod" title='callbackExcMethod' data-ref="9callbackExcMethod">callbackExcMethod</a>) {</td></tr>
<tr><th id="62">62</th><td>        <a class="macro" href="#27" title="" data-ref="_M/DEBUG_LOG">DEBUG_LOG</a>(<q>"CallOnError : callbackExcMethod is null!\n"</q>);</td></tr>
<tr><th id="63">63</th><td>        <b>return</b>;</td></tr>
<tr><th id="64">64</th><td>    }</td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td>    <em>char</em> *<dfn class="local col0 decl" id="10message" title='message' data-type='char *' data-ref="10message">message</dfn>;</td></tr>
<tr><th id="67">67</th><td>    <a class="macro" href="#35" title="int code = clib_net_to_host_u32(retval); if (-1 == code) message = &quot;Unspecified Error&quot;; else if (-2 == code) message = &quot;Invalid sw_if_index&quot;; else if (-3 == code) message = &quot;No such FIB / VRF&quot;; else if (-4 == code) message = &quot;No such inner FIB / VRF&quot;; else if (-5 == code) message = &quot;No such label&quot;; else if (-6 == code) message = &quot;No such entry&quot;; else if (-7 == code) message = &quot;Invalid value&quot;; else if (-8 == code) message = &quot;Invalid value #2&quot;; else if (-9 == code) message = &quot;Unimplemented&quot;; else if (-10 == code) message = &quot;Invalid sw_if_index #2&quot;; else if (-11 == code) message = &quot;System call error #1&quot;; else if (-12 == code) message = &quot;System call error #2&quot;; else if (-13 == code) message = &quot;System call error #3&quot;; else if (-14 == code) message = &quot;System call error #4&quot;; else if (-15 == code) message = &quot;System call error #5&quot;; else if (-16 == code) message = &quot;System call error #6&quot;; else if (-17 == code) message = &quot;System call error #7&quot;; else if (-18 == code) message = &quot;System call error #8&quot;; else if (-19 == code) message = &quot;System call error #9&quot;; else if (-20 == code) message = &quot;System call error #10&quot;; else if (-30 == code) message = &quot;Feature disabled by configuration&quot;; else if (-31 == code) message = &quot;Invalid registration&quot;; else if (-50 == code) message = &quot;Next hop not in FIB&quot;; else if (-51 == code) message = &quot;Unknown destination&quot;; else if (-52 == code) message = &quot;Prefix matches next hop&quot;; else if (-53 == code) message = &quot;Next hop not found (multipath)&quot;; else if (-54 == code) message = &quot;No matching interface for probe&quot;; else if (-55 == code) message = &quot;Invalid VLAN&quot;; else if (-56 == code) message = &quot;VLAN subif already exists&quot;; else if (-57 == code) message = &quot;Invalid src address&quot;; else if (-58 == code) message = &quot;Invalid dst address&quot;; else if (-59 == code) message = &quot;Address length mismatch&quot;; else if (-60 == code) message = &quot;Address not found for interface&quot;; else if (-61 == code) message = &quot;Address not link-local&quot;; else if (-62 == code) message = &quot;ip6 not enabled&quot;; else if (10 == code) message = &quot;Operation in progress&quot;; else if (-63 == code) message = &quot;No such graph node&quot;; else if (-64 == code) message = &quot;No such graph node #2&quot;; else if (-65 == code) message = &quot;No such table&quot;; else if (-66 == code) message = &quot;No such table #2&quot;; else if (-67 == code) message = &quot;No such table #3&quot;; else if (-68 == code) message = &quot;Subinterface already exists&quot;; else if (-69 == code) message = &quot;Subinterface creation failed&quot;; else if (-70 == code) message = &quot;Invalid memory size requested&quot;; else if (-71 == code) message = &quot;Invalid interface&quot;; else if (-72 == code) message = &quot;Invalid number of tags for requested operation&quot;; else if (-73 == code) message = &quot;Invalid argument&quot;; else if (-74 == code) message = &quot;Unexpected interface state&quot;; else if (-75 == code) message = &quot;Tunnel already exists&quot;; else if (-76 == code) message = &quot;Invalid decap-next&quot;; else if (-77 == code) message = &quot;Response not ready&quot;; else if (-78 == code) message = &quot;Not connected to the data plane&quot;; else if (-79 == code) message = &quot;Interface already exists&quot;; else if (-80 == code) message = &quot;Operation not allowed on slave of BondEthernet&quot;; else if (-81 == code) message = &quot;Value already exists&quot;; else if (-82 == code) message = &quot;Source and destination are the same&quot;; else if (-83 == code) message = &quot;IP6 multicast address required&quot;; else if (-84 == code) message = &quot;Segement routing policy name required&quot;; else if (-85 == code) message = &quot;Not running as root&quot;; else if (-86 == code) message = &quot;Connection to the data plane already exists&quot;; else if (-87 == code) message = &quot;Unsupported JNI version&quot;; else if (-88 == code) message = &quot;Failed to attach to Java thread&quot;; else if (-89 == code) message = &quot;Invalid worker thread&quot;; else if (-90 == code) message = &quot;LISP is disabled&quot;; else if (-91 == code) message = &quot;Classify table not found&quot;; else if (-92 == code) message = &quot;Unsupported LSIP EID type&quot;; else if (-93 == code) message = &quot;Cannot create pcap file&quot;; else if (-94 == code) message = &quot;Invalid adjacency type for this operation&quot;; else if (-95 == code) message = &quot;Operation would exceed configured capacity of ranges&quot;; else if (-96 == code) message = &quot;Operation would exceed capacity of number of ports&quot;; else if (-97 == code) message = &quot;Invalid address family&quot;; else if (-98 == code) message = &quot;Invalid sub-interface sw_if_index&quot;; else if (-99 == code) message = &quot;Table too big&quot;; else if (-100 == code) message = &quot;Cannot enable/disable feature&quot;; else if (-101 == code) message = &quot;Duplicate BFD object&quot;; else if (-102 == code) message = &quot;No such BFD object&quot;; else if (-103 == code) message = &quot;BFD object in use&quot;; else if (-104 == code) message = &quot;BFD feature not supported&quot;; else if (-105 == code) message = &quot;Address in use&quot;; else if (-106 == code) message = &quot;Address not in use&quot;; else if (-107 == code) message = &quot;Queue full&quot;; else if (-108 == code) message = &quot;Unsupported application config&quot;; else if (-109 == code) message = &quot;URI FIFO segment create failed&quot;; else if (-110 == code) message = &quot;RLOC address is local&quot;; else if (-111 == code) message = &quot;BFD object cannot be manipulated at this time&quot;; else if (-112 == code) message = &quot;Invalid GPE mode&quot;; else if (-113 == code) message = &quot;LISP GPE entries are present&quot;; else if (-114 == code) message = &quot;Address found for interface&quot;; else if (-115 == code) message = &quot;Session failed to connect&quot;; else if (-116 == code) message = &quot;Entry already exists&quot;; else if (-117 == code) message = &quot;svm segment create fail&quot;; else if (-118 == code) message = &quot;application not attached&quot;; else if (-119 == code) message = &quot;Bridge domain already exists&quot;; else if (-120 == code) message = &quot;Bridge domain has member interfaces&quot;; else if (-121 == code) message = &quot;Bridge domain 0 can&apos;t be deleted/modified&quot;; else if (-122 == code) message = &quot;Bridge domain ID exceed 16M limit&quot;; else if (-123 == code) message = &quot;Subinterface doesn&apos;t exist&quot;; else if (-124 == code) message = &quot;Client already exist for L2 MACs events&quot;; else if (-125 == code) message = &quot;Invalid queue&quot;; else if (-126 == code) message = &quot;Unsupported&quot;; else if (-127 == code) message = &quot;Address already present on another interface&quot;; else if (-128 == code) message = &quot;Invalid application namespace&quot;; else if (-129 == code) message = &quot;Wrong app namespace secret&quot;; else if (-130 == code) message = &quot;Connect scope&quot;; else if (-131 == code) message = &quot;App already attached&quot;; else if (-132 == code) message = &quot;Redirect failed&quot;; else if (-133 == code) message = &quot;Illegal name&quot;; else if (-134 == code) message = &quot;No name servers configured&quot;; else if (-135 == code) message = &quot;Name server not found&quot;; else if (-136 == code) message = &quot;Name resolution not enabled&quot;; else if (-137 == code) message = &quot;Server format error (bug!)&quot;; else if (-138 == code) message = &quot;No such name&quot;; else if (-139 == code) message = &quot;No addresses available&quot;; else if (-140 == code) message = &quot;Retry with new server&quot;; else if (-141 == code) message = &quot;Connect was filtered&quot;; else if (-142 == code) message = &quot;Inbound ACL in use&quot;; else if (-143 == code) message = &quot;Outbound ACL in use&quot;; else if (-144 == code) message = &quot;Initialization Failed&quot;; else if (-145 == code) message = &quot;netlink error&quot;; else if (-146 == code) message = &quot;BIER bit-string-length unsupported&quot;; else if (-147 == code) message = &quot;Instance in use&quot;; else if (-148 == code) message = &quot;session ID out of range&quot;; else if (-149 == code) message = &quot;ACL in use by a lookup context&quot;; else message = &quot;Reason unknown&quot;;" data-ref="_M/get_error_message">get_error_message</a>(<a class="ref fn" href="../../../vppinfra/byte_order.h.html#205" title='clib_net_to_host_u32' data-ref="clib_net_to_host_u32">clib_net_to_host_u32</a>(<a class="local col3 ref" href="#3retval" title='retval' data-ref="3retval">retval</a>));</td></tr>
<tr><th id="68">68</th><td>    <span class='typedef' title='jobject' data-type='struct _jobject *' data-ref="jobject">jobject</span> <dfn class="local col2 decl" id="12excObject" title='excObject' data-type='jobject' data-ref="12excObject">excObject</dfn> = (*<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>)-&gt;<span class='ref field' title='JNINativeInterface_::NewObject' data-ref="JNINativeInterface_::NewObject">NewObject</span>(<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>, <a class="local col6 ref" href="#6callbackExceptionClass" title='callbackExceptionClass' data-ref="6callbackExceptionClass">callbackExceptionClass</a>,</td></tr>
<tr><th id="69">69</th><td>            <a class="local col8 ref" href="#8excConstructor" title='excConstructor' data-ref="8excConstructor">excConstructor</a>, (*<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>)-&gt;<span class='ref field' title='JNINativeInterface_::NewStringUTF' data-ref="JNINativeInterface_::NewStringUTF">NewStringUTF</span>(<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>, <a class="local col1 ref" href="#1callName" title='callName' data-ref="1callName">callName</a>),</td></tr>
<tr><th id="70">70</th><td>            (*<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>)-&gt;<span class='ref field' title='JNINativeInterface_::NewStringUTF' data-ref="JNINativeInterface_::NewStringUTF">NewStringUTF</span>(<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>, <a class="local col0 ref" href="#10message" title='message' data-ref="10message">message</a>),</td></tr>
<tr><th id="71">71</th><td>            <a class="ref fn" href="../../../vppinfra/byte_order.h.html#205" title='clib_net_to_host_u32' data-ref="clib_net_to_host_u32">clib_net_to_host_u32</a>(<a class="local col2 ref" href="#2contextId" title='contextId' data-ref="2contextId">contextId</a>), <a class="ref fn" href="../../../vppinfra/byte_order.h.html#205" title='clib_net_to_host_u32' data-ref="clib_net_to_host_u32">clib_net_to_host_u32</a>(<a class="local col3 ref" href="#3retval" title='retval' data-ref="3retval">retval</a>));</td></tr>
<tr><th id="72">72</th><td>    <b>if</b> (!<a class="local col2 ref" href="#12excObject" title='excObject' data-ref="12excObject">excObject</a>) {</td></tr>
<tr><th id="73">73</th><td>        <a class="macro" href="#27" title="" data-ref="_M/DEBUG_LOG">DEBUG_LOG</a>(<q>"CallOnError : excObject is null!\n"</q>);</td></tr>
<tr><th id="74">74</th><td>        <b>return</b>;</td></tr>
<tr><th id="75">75</th><td>    }</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td>    (*<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>)-&gt;<span class='ref field' title='JNINativeInterface_::CallVoidMethod' data-ref="JNINativeInterface_::CallVoidMethod">CallVoidMethod</span>(<a class="local col7 ref" href="#7env" title='env' data-ref="7env">env</a>, <a class="local col5 ref" href="#5callbackObject" title='callbackObject' data-ref="5callbackObject">callbackObject</a>, <a class="local col9 ref" href="#9callbackExcMethod" title='callbackExcMethod' data-ref="9callbackExcMethod">callbackExcMethod</a>, <a class="local col2 ref" href="#12excObject" title='excObject' data-ref="12excObject">excObject</a>);</td></tr>
<tr><th id="78">78</th><td>    <a class="macro" href="#27" title="" data-ref="_M/DEBUG_LOG">DEBUG_LOG</a>(<q>"CallOnError : Response sent\n"</q>);</td></tr>
<tr><th id="79">79</th><td>}</td></tr>
<tr><th id="80">80</th><td><u>#undef <a class="macro" href="#30" data-ref="_M/_">_</a></u></td></tr>
<tr><th id="81">81</th><td></td></tr>
<tr><th id="82">82</th><td><a class="typedef" href="../../../vppinfra/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="decl def fn" id="get_message_id" title='get_message_id' data-ref="get_message_id">get_message_id</dfn>(<span class='typedef' title='JNIEnv' data-type='const struct JNINativeInterface_ *' data-ref="JNIEnv">JNIEnv</span> *<dfn class="local col3 decl" id="13env" title='env' data-type='JNIEnv *' data-ref="13env">env</dfn>, <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="14key" title='key' data-type='const char *' data-ref="14key">key</dfn>) {</td></tr>
<tr><th id="83">83</th><td>    <a class="typedef" href="../../../vppinfra/types.h.html#uword" title='uword' data-type='u64' data-ref="uword">uword</a> *<dfn class="local col5 decl" id="15p" title='p' data-type='uword *' data-ref="15p">p</dfn> = <a class="macro" href="../../../vppinfra/hash.h.html#248" title="_hash_get ((jvpp_main.messages_hash), (uword) (key))" data-ref="_M/hash_get">hash_get</a>(<a class="ref" href="jvpp_common.h.html#jvpp_main" title='jvpp_main' data-ref="jvpp_main">jvpp_main</a>.<a class="ref field" href="jvpp_common.h.html#(anonymous)::messages_hash" title='(anonymous struct)::messages_hash' data-ref="(anonymous)::messages_hash">messages_hash</a>, <a class="local col4 ref" href="#14key" title='key' data-ref="14key">key</a>);</td></tr>
<tr><th id="84">84</th><td>    <b>if</b> (!<a class="local col5 ref" href="#15p" title='p' data-ref="15p">p</a>) {</td></tr>
<tr><th id="85">85</th><td>        <span class='typedef' title='jclass' data-type='jobject' data-ref="jclass">jclass</span> <dfn class="local col6 decl" id="16exClass" title='exClass' data-type='jclass' data-ref="16exClass">exClass</dfn> = (*<a class="local col3 ref" href="#13env" title='env' data-ref="13env">env</a>)-&gt;<span class='ref field' title='JNINativeInterface_::FindClass' data-ref="JNINativeInterface_::FindClass">FindClass</span>(<a class="local col3 ref" href="#13env" title='env' data-ref="13env">env</a>, <q>"java/lang/IllegalStateException"</q>);</td></tr>
<tr><th id="86">86</th><td>        <em>char</em> *<dfn class="local col7 decl" id="17msgBuf" title='msgBuf' data-type='char *' data-ref="17msgBuf">msgBuf</dfn>  = <a class="ref fn" href="../../../vppinfra/mem.h.html#clib_mem_alloc" title='clib_mem_alloc' data-ref="clib_mem_alloc">clib_mem_alloc</a>(<a class="ref fn" href="../../../../../include/string.h.html#strlen" title='strlen' data-ref="strlen">strlen</a>(<a class="local col4 ref" href="#14key" title='key' data-ref="14key">key</a>) + <var>70</var>);</td></tr>
<tr><th id="87">87</th><td>        <a class="ref fn" href="../../../../../include/string.h.html#strcpy" title='strcpy' data-ref="strcpy">strcpy</a>(<a class="local col7 ref" href="#17msgBuf" title='msgBuf' data-ref="17msgBuf">msgBuf</a>, <q>"API mismatch detected: "</q>);</td></tr>
<tr><th id="88">88</th><td>        <a class="ref fn" href="../../../../../include/string.h.html#strcat" title='strcat' data-ref="strcat">strcat</a>(<a class="local col7 ref" href="#17msgBuf" title='msgBuf' data-ref="17msgBuf">msgBuf</a>, <a class="local col4 ref" href="#14key" title='key' data-ref="14key">key</a>);</td></tr>
<tr><th id="89">89</th><td>        <a class="ref fn" href="../../../../../include/string.h.html#strcat" title='strcat' data-ref="strcat">strcat</a>(<a class="local col7 ref" href="#17msgBuf" title='msgBuf' data-ref="17msgBuf">msgBuf</a>, <q>" is missing in global name_crc hash table."</q>);</td></tr>
<tr><th id="90">90</th><td>        <a class="macro" href="#27" title="" data-ref="_M/DEBUG_LOG">DEBUG_LOG</a>(<q>"%s"</q>, msgBuf);</td></tr>
<tr><th id="91">91</th><td>        <a class="macro" href="#27" title="" data-ref="_M/DEBUG_LOG">DEBUG_LOG</a>(<q>"Possible reasons:"</q>);</td></tr>
<tr><th id="92">92</th><td>        <a class="macro" href="#27" title="" data-ref="_M/DEBUG_LOG">DEBUG_LOG</a>(<q>"1) incompatible VPP version used"</q>);</td></tr>
<tr><th id="93">93</th><td>        <a class="macro" href="#27" title="" data-ref="_M/DEBUG_LOG">DEBUG_LOG</a>(<q>"2) message present in JSON file but not in global name_crc table"</q>);</td></tr>
<tr><th id="94">94</th><td>        (*<a class="local col3 ref" href="#13env" title='env' data-ref="13env">env</a>)-&gt;<span class='ref field' title='JNINativeInterface_::ThrowNew' data-ref="JNINativeInterface_::ThrowNew">ThrowNew</span>(<a class="local col3 ref" href="#13env" title='env' data-ref="13env">env</a>, <a class="local col6 ref" href="#16exClass" title='exClass' data-ref="16exClass">exClass</a>, <a class="local col7 ref" href="#17msgBuf" title='msgBuf' data-ref="17msgBuf">msgBuf</a>);</td></tr>
<tr><th id="95">95</th><td>        <a class="ref fn" href="../../../vppinfra/mem.h.html#clib_mem_free" title='clib_mem_free' data-ref="clib_mem_free">clib_mem_free</a>(<a class="local col7 ref" href="#17msgBuf" title='msgBuf' data-ref="17msgBuf">msgBuf</a>);</td></tr>
<tr><th id="96">96</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="97">97</th><td>    }</td></tr>
<tr><th id="98">98</th><td>    <b>return</b> (<a class="typedef" href="../../../vppinfra/types.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a>) <a class="local col5 ref" href="#15p" title='p' data-ref="15p">p</a>[<var>0</var>];</td></tr>
<tr><th id="99">99</th><td>}</td></tr>
<tr><th id="100">100</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2018-Jul-30</em> from project vpp_1804 revision <em>18.05</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
