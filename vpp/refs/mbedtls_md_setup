<dec f='include/mbedtls/md.h' l='197' type='int mbedtls_md_setup(mbedtls_md_context_t * ctx, const mbedtls_md_info_t * md_info, int hmac)'/>
<doc f='include/mbedtls/md.h' l='179'>/**
 * \brief           This function selects the message digest algorithm to use,
 *                  and allocates internal structures.
 *
 *                  It should be called after mbedtls_md_init() or
 *                  mbedtls_md_free(). Makes it necessary to call
 *                  mbedtls_md_free() later.
 *
 * \param ctx       The context to set up.
 * \param md_info   The information structure of the message-digest algorithm
 *                  to use.
 * \param hmac      &lt;ul&gt;&lt;li&gt;0: HMAC is not used. Saves some memory.&lt;/li&gt;
 *                  &lt;li&gt;non-zero: HMAC is used with this context.&lt;/li&gt;&lt;/ul&gt;
 *
 * \returns         \c 0 on success,
 *                  #MBEDTLS_ERR_MD_BAD_INPUT_DATA on parameter failure, or
 *                  #MBEDTLS_ERR_MD_ALLOC_FAILED on memory allocation failure.
 */</doc>
