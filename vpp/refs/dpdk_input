<def f='vpp_1804/src/plugins/dpdk/device/node.c' l='566' ll='604' type='uword dpdk_input(vlib_main_t * vm, vlib_node_runtime_t * node, vlib_frame_t * f)'/>
<use f='vpp_1804/src/plugins/dpdk/device/node.c' l='609'/>
<use f='vpp_1804/src/plugins/dpdk/device/node.c' l='609'/>
<doc f='vpp_1804/src/plugins/dpdk/device/node.c' l='525'>/** \brief Main DPDK input node
    @node dpdk-input

    This is the main DPDK input node: across each assigned interface,
    call rte_eth_rx_burst(...) or similar to obtain a vector of
    packets to process. Handle early packet discard. Derive @c
    vlib_buffer_t metadata from &lt;code&gt;struct rte_mbuf&lt;/code&gt; metadata,
    Depending on the resulting metadata: adjust &lt;code&gt;b-&gt;current_data,
    b-&gt;current_length &lt;/code&gt; and dispatch directly to
    ip4-input-no-checksum, or ip6-input. Trace the packet if required.

    @param vm   vlib_main_t corresponding to the current thread
    @param node vlib_node_runtime_t
    @param f    vlib_frame_t input-node, not used.

    @par Graph mechanics: buffer metadata, next index usage

    @em Uses:
    - &lt;code&gt;struct rte_mbuf mb-&gt;ol_flags&lt;/code&gt;
        - PKT_RX_IP_CKSUM_BAD
    - &lt;code&gt; RTE_ETH_IS_xxx_HDR(mb-&gt;packet_type) &lt;/code&gt;
        - packet classification result

    @em Sets:
    - &lt;code&gt;b-&gt;error&lt;/code&gt; if the packet is to be dropped immediately
    - &lt;code&gt;b-&gt;current_data, b-&gt;current_length&lt;/code&gt;
        - adjusted as needed to skip the L2 header in  direct-dispatch cases
    - &lt;code&gt;vnet_buffer(b)-&gt;sw_if_index[VLIB_RX]&lt;/code&gt;
        - rx interface sw_if_index
    - &lt;code&gt;vnet_buffer(b)-&gt;sw_if_index[VLIB_TX] = ~0&lt;/code&gt;
        - required by ipX-lookup
    - &lt;code&gt;b-&gt;flags&lt;/code&gt;
        - to indicate multi-segment pkts (VLIB_BUFFER_NEXT_PRESENT), etc.

    &lt;em&gt;Next Nodes:&lt;/em&gt;
    - Static arcs to: error-drop, ethernet-input,
      ip4-input-no-checksum, ip6-input, mpls-input
    - per-interface redirection, controlled by
      &lt;code&gt;xd-&gt;per_interface_next_index&lt;/code&gt;
*/</doc>
