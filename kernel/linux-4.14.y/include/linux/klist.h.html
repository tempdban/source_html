<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>klist.h source code [linux-4.14.y/include/linux/klist.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="klist,klist_iter,klist_node "/>
<link rel="stylesheet" href="../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'linux-4.14.y/include/linux/klist.h'; var root_path = '../../..'; var data_path = '../../../../data';</script>
<script src='../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>linux-4.14.y</a>/<a href='..'>include</a>/<a href='./'>linux</a>/<a href='klist.h.html'>klist.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> *	klist.h - Some generic list helpers, extending struct list_head a bit.</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> *	Implementations are found in lib/klist.c</i></td></tr>
<tr><th id="5">5</th><td><i> *</i></td></tr>
<tr><th id="6">6</th><td><i> *</i></td></tr>
<tr><th id="7">7</th><td><i> *	Copyright (C) 2005 Patrick Mochel</i></td></tr>
<tr><th id="8">8</th><td><i> *</i></td></tr>
<tr><th id="9">9</th><td><i> *	This file is rleased under the GPL v2.</i></td></tr>
<tr><th id="10">10</th><td><i> */</i></td></tr>
<tr><th id="11">11</th><td></td></tr>
<tr><th id="12">12</th><td><u>#<span data-ppcond="12">ifndef</span> <span class="macro" data-ref="_M/_LINUX_KLIST_H">_LINUX_KLIST_H</span></u></td></tr>
<tr><th id="13">13</th><td><u>#define <dfn class="macro" id="_M/_LINUX_KLIST_H" data-ref="_M/_LINUX_KLIST_H">_LINUX_KLIST_H</dfn></u></td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="spinlock.h.html">&lt;linux/spinlock.h&gt;</a></u></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="kref.h.html">&lt;linux/kref.h&gt;</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="list.h.html">&lt;linux/list.h&gt;</a></u></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a>;</td></tr>
<tr><th id="20">20</th><td><b>struct</b> <dfn class="type def" id="klist" title='klist' data-ref="klist">klist</dfn> {</td></tr>
<tr><th id="21">21</th><td>	<a class="typedef" href="spinlock_types.h.html#spinlock_t" title='spinlock_t' data-type='struct spinlock' data-ref="spinlock_t">spinlock_t</a>		<dfn class="decl field" id="klist::k_lock" title='klist::k_lock' data-ref="klist::k_lock">k_lock</dfn>;</td></tr>
<tr><th id="22">22</th><td>	<b>struct</b> <a class="type" href="types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a>	<dfn class="decl field" id="klist::k_list" title='klist::k_list' data-ref="klist::k_list">k_list</dfn>;</td></tr>
<tr><th id="23">23</th><td>	<em>void</em>			(*<dfn class="decl field" id="klist::get" title='klist::get' data-ref="klist::get">get</dfn>)(<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *);</td></tr>
<tr><th id="24">24</th><td>	<em>void</em>			(*<dfn class="decl field" id="klist::put" title='klist::put' data-ref="klist::put">put</dfn>)(<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *);</td></tr>
<tr><th id="25">25</th><td>} <b>__attribute__</b> ((aligned (<b>sizeof</b>(<em>void</em> *))));</td></tr>
<tr><th id="26">26</th><td></td></tr>
<tr><th id="27">27</th><td><u>#define <dfn class="macro" id="_M/KLIST_INIT" data-ref="_M/KLIST_INIT">KLIST_INIT</dfn>(_name, _get, _put)					\</u></td></tr>
<tr><th id="28">28</th><td><u>	{ .k_lock	= __SPIN_LOCK_UNLOCKED(_name.k_lock),		\</u></td></tr>
<tr><th id="29">29</th><td><u>	  .k_list	= LIST_HEAD_INIT(_name.k_list),			\</u></td></tr>
<tr><th id="30">30</th><td><u>	  .get		= _get,						\</u></td></tr>
<tr><th id="31">31</th><td><u>	  .put		= _put, }</u></td></tr>
<tr><th id="32">32</th><td></td></tr>
<tr><th id="33">33</th><td><u>#define <dfn class="macro" id="_M/DEFINE_KLIST" data-ref="_M/DEFINE_KLIST">DEFINE_KLIST</dfn>(_name, _get, _put)					\</u></td></tr>
<tr><th id="34">34</th><td><u>	struct klist _name = KLIST_INIT(_name, _get, _put)</u></td></tr>
<tr><th id="35">35</th><td></td></tr>
<tr><th id="36">36</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="klist_init" title='klist_init' data-ref="klist_init">klist_init</dfn>(<b>struct</b> <a class="type" href="#klist" title='klist' data-ref="klist">klist</a> *<dfn class="local col5 decl" id="7595k" title='k' data-type='struct klist *' data-ref="7595k">k</dfn>, <em>void</em> (*<dfn class="local col6 decl" id="7596get" title='get' data-type='void (*)(struct klist_node *)' data-ref="7596get">get</dfn>)(<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *),</td></tr>
<tr><th id="37">37</th><td>		       <em>void</em> (*<dfn class="local col7 decl" id="7597put" title='put' data-type='void (*)(struct klist_node *)' data-ref="7597put">put</dfn>)(<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *));</td></tr>
<tr><th id="38">38</th><td></td></tr>
<tr><th id="39">39</th><td><b>struct</b> <dfn class="type def" id="klist_node" title='klist_node' data-ref="klist_node">klist_node</dfn> {</td></tr>
<tr><th id="40">40</th><td>	<em>void</em>			*<dfn class="decl field" id="klist_node::n_klist" title='klist_node::n_klist' data-ref="klist_node::n_klist">n_klist</dfn>;	<i>/* never access directly */</i></td></tr>
<tr><th id="41">41</th><td>	<b>struct</b> <a class="type" href="types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a>	<dfn class="decl field" id="klist_node::n_node" title='klist_node::n_node' data-ref="klist_node::n_node">n_node</dfn>;</td></tr>
<tr><th id="42">42</th><td>	<b>struct</b> <a class="type" href="kref.h.html#kref" title='kref' data-ref="kref">kref</a>		<dfn class="decl field" id="klist_node::n_ref" title='klist_node::n_ref' data-ref="klist_node::n_ref">n_ref</dfn>;</td></tr>
<tr><th id="43">43</th><td>};</td></tr>
<tr><th id="44">44</th><td></td></tr>
<tr><th id="45">45</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="klist_add_tail" title='klist_add_tail' data-ref="klist_add_tail">klist_add_tail</dfn>(<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="local col8 decl" id="7598n" title='n' data-type='struct klist_node *' data-ref="7598n">n</dfn>, <b>struct</b> <a class="type" href="#klist" title='klist' data-ref="klist">klist</a> *<dfn class="local col9 decl" id="7599k" title='k' data-type='struct klist *' data-ref="7599k">k</dfn>);</td></tr>
<tr><th id="46">46</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="klist_add_head" title='klist_add_head' data-ref="klist_add_head">klist_add_head</dfn>(<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="local col0 decl" id="7600n" title='n' data-type='struct klist_node *' data-ref="7600n">n</dfn>, <b>struct</b> <a class="type" href="#klist" title='klist' data-ref="klist">klist</a> *<dfn class="local col1 decl" id="7601k" title='k' data-type='struct klist *' data-ref="7601k">k</dfn>);</td></tr>
<tr><th id="47">47</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="klist_add_behind" title='klist_add_behind' data-ref="klist_add_behind">klist_add_behind</dfn>(<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="local col2 decl" id="7602n" title='n' data-type='struct klist_node *' data-ref="7602n">n</dfn>, <b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="local col3 decl" id="7603pos" title='pos' data-type='struct klist_node *' data-ref="7603pos">pos</dfn>);</td></tr>
<tr><th id="48">48</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="klist_add_before" title='klist_add_before' data-ref="klist_add_before">klist_add_before</dfn>(<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="local col4 decl" id="7604n" title='n' data-type='struct klist_node *' data-ref="7604n">n</dfn>, <b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="local col5 decl" id="7605pos" title='pos' data-type='struct klist_node *' data-ref="7605pos">pos</dfn>);</td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="klist_del" title='klist_del' data-ref="klist_del">klist_del</dfn>(<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="local col6 decl" id="7606n" title='n' data-type='struct klist_node *' data-ref="7606n">n</dfn>);</td></tr>
<tr><th id="51">51</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="klist_remove" title='klist_remove' data-ref="klist_remove">klist_remove</dfn>(<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="local col7 decl" id="7607n" title='n' data-type='struct klist_node *' data-ref="7607n">n</dfn>);</td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td><b>extern</b> <em>int</em> <dfn class="decl fn" id="klist_node_attached" title='klist_node_attached' data-ref="klist_node_attached">klist_node_attached</dfn>(<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="local col8 decl" id="7608n" title='n' data-type='struct klist_node *' data-ref="7608n">n</dfn>);</td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><b>struct</b> <dfn class="type def" id="klist_iter" title='klist_iter' data-ref="klist_iter">klist_iter</dfn> {</td></tr>
<tr><th id="57">57</th><td>	<b>struct</b> <a class="type" href="#klist" title='klist' data-ref="klist">klist</a>		*<dfn class="decl field" id="klist_iter::i_klist" title='klist_iter::i_klist' data-ref="klist_iter::i_klist">i_klist</dfn>;</td></tr>
<tr><th id="58">58</th><td>	<b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a>	*<dfn class="decl field" id="klist_iter::i_cur" title='klist_iter::i_cur' data-ref="klist_iter::i_cur">i_cur</dfn>;</td></tr>
<tr><th id="59">59</th><td>};</td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="klist_iter_init" title='klist_iter_init' data-ref="klist_iter_init">klist_iter_init</dfn>(<b>struct</b> <a class="type" href="#klist" title='klist' data-ref="klist">klist</a> *<dfn class="local col9 decl" id="7609k" title='k' data-type='struct klist *' data-ref="7609k">k</dfn>, <b>struct</b> <a class="type" href="#klist_iter" title='klist_iter' data-ref="klist_iter">klist_iter</a> *<dfn class="local col0 decl" id="7610i" title='i' data-type='struct klist_iter *' data-ref="7610i">i</dfn>);</td></tr>
<tr><th id="63">63</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="klist_iter_init_node" title='klist_iter_init_node' data-ref="klist_iter_init_node">klist_iter_init_node</dfn>(<b>struct</b> <a class="type" href="#klist" title='klist' data-ref="klist">klist</a> *<dfn class="local col1 decl" id="7611k" title='k' data-type='struct klist *' data-ref="7611k">k</dfn>, <b>struct</b> <a class="type" href="#klist_iter" title='klist_iter' data-ref="klist_iter">klist_iter</a> *<dfn class="local col2 decl" id="7612i" title='i' data-type='struct klist_iter *' data-ref="7612i">i</dfn>,</td></tr>
<tr><th id="64">64</th><td>				 <b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="local col3 decl" id="7613n" title='n' data-type='struct klist_node *' data-ref="7613n">n</dfn>);</td></tr>
<tr><th id="65">65</th><td><b>extern</b> <em>void</em> <dfn class="decl fn" id="klist_iter_exit" title='klist_iter_exit' data-ref="klist_iter_exit">klist_iter_exit</dfn>(<b>struct</b> <a class="type" href="#klist_iter" title='klist_iter' data-ref="klist_iter">klist_iter</a> *<dfn class="local col4 decl" id="7614i" title='i' data-type='struct klist_iter *' data-ref="7614i">i</dfn>);</td></tr>
<tr><th id="66">66</th><td><b>extern</b> <b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="decl fn" id="klist_prev" title='klist_prev' data-ref="klist_prev">klist_prev</dfn>(<b>struct</b> <a class="type" href="#klist_iter" title='klist_iter' data-ref="klist_iter">klist_iter</a> *<dfn class="local col5 decl" id="7615i" title='i' data-type='struct klist_iter *' data-ref="7615i">i</dfn>);</td></tr>
<tr><th id="67">67</th><td><b>extern</b> <b>struct</b> <a class="type" href="#klist_node" title='klist_node' data-ref="klist_node">klist_node</a> *<dfn class="decl fn" id="klist_next" title='klist_next' data-ref="klist_next">klist_next</dfn>(<b>struct</b> <a class="type" href="#klist_iter" title='klist_iter' data-ref="klist_iter">klist_iter</a> *<dfn class="local col6 decl" id="7616i" title='i' data-type='struct klist_iter *' data-ref="7616i">i</dfn>);</td></tr>
<tr><th id="68">68</th><td></td></tr>
<tr><th id="69">69</th><td><u>#<span data-ppcond="12">endif</span></u></td></tr>
<tr><th id="70">70</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../arch/x86/entry/common.c.html'>linux-4.14.y/arch/x86/entry/common.c</a><br/>Generated on <em>2018-Jul-30</em> from project linux-4.14.y revision <em>linux-4.14.y</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
