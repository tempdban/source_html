<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>kernfs.h source code [linux-4.14.y/include/linux/kernfs.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="kernfs_elem_attr,kernfs_elem_dir,kernfs_elem_symlink,kernfs_node,kernfs_node_flag,kernfs_node_id,kernfs_node_type,kernfs_open_file,kernfs_ops,kernfs_root,kernfs_root_flag,kernfs_syscall_ops "/>
<link rel="stylesheet" href="../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'linux-4.14.y/include/linux/kernfs.h'; var root_path = '../../..'; var data_path = '../../../../data';</script>
<script src='../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>linux-4.14.y</a>/<a href='..'>include</a>/<a href='./'>linux</a>/<a href='kernfs.h.html'>kernfs.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * kernfs.h - pseudo filesystem decoupled from vfs locking</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * This file is released under the GPLv2.</i></td></tr>
<tr><th id="5">5</th><td><i> */</i></td></tr>
<tr><th id="6">6</th><td></td></tr>
<tr><th id="7">7</th><td><u>#<span data-ppcond="7">ifndef</span> <span class="macro" data-ref="_M/__LINUX_KERNFS_H">__LINUX_KERNFS_H</span></u></td></tr>
<tr><th id="8">8</th><td><u>#define <dfn class="macro" id="_M/__LINUX_KERNFS_H" data-ref="_M/__LINUX_KERNFS_H">__LINUX_KERNFS_H</dfn></u></td></tr>
<tr><th id="9">9</th><td></td></tr>
<tr><th id="10">10</th><td><u>#include <a href="kernel.h.html">&lt;linux/kernel.h&gt;</a></u></td></tr>
<tr><th id="11">11</th><td><u>#include <a href="err.h.html">&lt;linux/err.h&gt;</a></u></td></tr>
<tr><th id="12">12</th><td><u>#include <a href="list.h.html">&lt;linux/list.h&gt;</a></u></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="mutex.h.html">&lt;linux/mutex.h&gt;</a></u></td></tr>
<tr><th id="14">14</th><td><u>#include <a href="idr.h.html">&lt;linux/idr.h&gt;</a></u></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="lockdep.h.html">&lt;linux/lockdep.h&gt;</a></u></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="rbtree.h.html">&lt;linux/rbtree.h&gt;</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="atomic.h.html">&lt;linux/atomic.h&gt;</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="wait.h.html">&lt;linux/wait.h&gt;</a></u></td></tr>
<tr><th id="19">19</th><td></td></tr>
<tr><th id="20">20</th><td><b>struct</b> <a class="type" href="fs.h.html#file" title='file' data-ref="file" id="file">file</a>;</td></tr>
<tr><th id="21">21</th><td><b>struct</b> <a class="type" href="dcache.h.html#dentry" title='dentry' data-ref="dentry" id="dentry">dentry</a>;</td></tr>
<tr><th id="22">22</th><td><b>struct</b> <a class="type" href="fs.h.html#iattr" title='iattr' data-ref="iattr" id="iattr">iattr</a>;</td></tr>
<tr><th id="23">23</th><td><b>struct</b> <a class="type" href="seq_file.h.html#seq_file" title='seq_file' data-ref="seq_file" id="seq_file">seq_file</a>;</td></tr>
<tr><th id="24">24</th><td><b>struct</b> <a class="type" href="mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct" id="vm_area_struct">vm_area_struct</a>;</td></tr>
<tr><th id="25">25</th><td><b>struct</b> <a class="type" href="fs.h.html#super_block" title='super_block' data-ref="super_block" id="super_block">super_block</a>;</td></tr>
<tr><th id="26">26</th><td><b>struct</b> <a class="type" href="fs.h.html#file_system_type" title='file_system_type' data-ref="file_system_type" id="file_system_type">file_system_type</a>;</td></tr>
<tr><th id="27">27</th><td></td></tr>
<tr><th id="28">28</th><td><b>struct</b> <dfn class="type" id="kernfs_open_node" title='kernfs_open_node' data-ref="kernfs_open_node">kernfs_open_node</dfn>;</td></tr>
<tr><th id="29">29</th><td><b>struct</b> <dfn class="type" id="kernfs_iattrs" title='kernfs_iattrs' data-ref="kernfs_iattrs">kernfs_iattrs</dfn>;</td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><b>enum</b> <dfn class="type def" id="kernfs_node_type" title='kernfs_node_type' data-ref="kernfs_node_type">kernfs_node_type</dfn> {</td></tr>
<tr><th id="32">32</th><td>	<dfn class="enum" id="KERNFS_DIR" title='KERNFS_DIR' data-ref="KERNFS_DIR">KERNFS_DIR</dfn>		= <var>0x0001</var>,</td></tr>
<tr><th id="33">33</th><td>	<dfn class="enum" id="KERNFS_FILE" title='KERNFS_FILE' data-ref="KERNFS_FILE">KERNFS_FILE</dfn>		= <var>0x0002</var>,</td></tr>
<tr><th id="34">34</th><td>	<dfn class="enum" id="KERNFS_LINK" title='KERNFS_LINK' data-ref="KERNFS_LINK">KERNFS_LINK</dfn>		= <var>0x0004</var>,</td></tr>
<tr><th id="35">35</th><td>};</td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><u>#define <dfn class="macro" id="_M/KERNFS_TYPE_MASK" data-ref="_M/KERNFS_TYPE_MASK">KERNFS_TYPE_MASK</dfn>	0x000f</u></td></tr>
<tr><th id="38">38</th><td><u>#define <dfn class="macro" id="_M/KERNFS_FLAG_MASK" data-ref="_M/KERNFS_FLAG_MASK">KERNFS_FLAG_MASK</dfn>	~KERNFS_TYPE_MASK</u></td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><b>enum</b> <dfn class="type def" id="kernfs_node_flag" title='kernfs_node_flag' data-ref="kernfs_node_flag">kernfs_node_flag</dfn> {</td></tr>
<tr><th id="41">41</th><td>	<dfn class="enum" id="KERNFS_ACTIVATED" title='KERNFS_ACTIVATED' data-ref="KERNFS_ACTIVATED">KERNFS_ACTIVATED</dfn>	= <var>0x0010</var>,</td></tr>
<tr><th id="42">42</th><td>	<dfn class="enum" id="KERNFS_NS" title='KERNFS_NS' data-ref="KERNFS_NS">KERNFS_NS</dfn>		= <var>0x0020</var>,</td></tr>
<tr><th id="43">43</th><td>	<dfn class="enum" id="KERNFS_HAS_SEQ_SHOW" title='KERNFS_HAS_SEQ_SHOW' data-ref="KERNFS_HAS_SEQ_SHOW">KERNFS_HAS_SEQ_SHOW</dfn>	= <var>0x0040</var>,</td></tr>
<tr><th id="44">44</th><td>	<dfn class="enum" id="KERNFS_HAS_MMAP" title='KERNFS_HAS_MMAP' data-ref="KERNFS_HAS_MMAP">KERNFS_HAS_MMAP</dfn>		= <var>0x0080</var>,</td></tr>
<tr><th id="45">45</th><td>	<dfn class="enum" id="KERNFS_LOCKDEP" title='KERNFS_LOCKDEP' data-ref="KERNFS_LOCKDEP">KERNFS_LOCKDEP</dfn>		= <var>0x0100</var>,</td></tr>
<tr><th id="46">46</th><td>	<dfn class="enum" id="KERNFS_SUICIDAL" title='KERNFS_SUICIDAL' data-ref="KERNFS_SUICIDAL">KERNFS_SUICIDAL</dfn>		= <var>0x0400</var>,</td></tr>
<tr><th id="47">47</th><td>	<dfn class="enum" id="KERNFS_SUICIDED" title='KERNFS_SUICIDED' data-ref="KERNFS_SUICIDED">KERNFS_SUICIDED</dfn>		= <var>0x0800</var>,</td></tr>
<tr><th id="48">48</th><td>	<dfn class="enum" id="KERNFS_EMPTY_DIR" title='KERNFS_EMPTY_DIR' data-ref="KERNFS_EMPTY_DIR">KERNFS_EMPTY_DIR</dfn>	= <var>0x1000</var>,</td></tr>
<tr><th id="49">49</th><td>	<dfn class="enum" id="KERNFS_HAS_RELEASE" title='KERNFS_HAS_RELEASE' data-ref="KERNFS_HAS_RELEASE">KERNFS_HAS_RELEASE</dfn>	= <var>0x2000</var>,</td></tr>
<tr><th id="50">50</th><td>};</td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td><i>/* @flags for kernfs_create_root() */</i></td></tr>
<tr><th id="53">53</th><td><b>enum</b> <dfn class="type def" id="kernfs_root_flag" title='kernfs_root_flag' data-ref="kernfs_root_flag">kernfs_root_flag</dfn> {</td></tr>
<tr><th id="54">54</th><td>	<i>/*</i></td></tr>
<tr><th id="55">55</th><td><i>	 * kernfs_nodes are created in the deactivated state and invisible.</i></td></tr>
<tr><th id="56">56</th><td><i>	 * They require explicit kernfs_activate() to become visible.  This</i></td></tr>
<tr><th id="57">57</th><td><i>	 * can be used to make related nodes become visible atomically</i></td></tr>
<tr><th id="58">58</th><td><i>	 * after all nodes are created successfully.</i></td></tr>
<tr><th id="59">59</th><td><i>	 */</i></td></tr>
<tr><th id="60">60</th><td>	<dfn class="enum" id="KERNFS_ROOT_CREATE_DEACTIVATED" title='KERNFS_ROOT_CREATE_DEACTIVATED' data-ref="KERNFS_ROOT_CREATE_DEACTIVATED">KERNFS_ROOT_CREATE_DEACTIVATED</dfn>		= <var>0x0001</var>,</td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td>	<i>/*</i></td></tr>
<tr><th id="63">63</th><td><i>	 * For regular flies, if the opener has CAP_DAC_OVERRIDE, open(2)</i></td></tr>
<tr><th id="64">64</th><td><i>	 * succeeds regardless of the RW permissions.  sysfs had an extra</i></td></tr>
<tr><th id="65">65</th><td><i>	 * layer of enforcement where open(2) fails with -EACCES regardless</i></td></tr>
<tr><th id="66">66</th><td><i>	 * of CAP_DAC_OVERRIDE if the permission doesn't have the</i></td></tr>
<tr><th id="67">67</th><td><i>	 * respective read or write access at all (none of S_IRUGO or</i></td></tr>
<tr><th id="68">68</th><td><i>	 * S_IWUGO) or the respective operation isn't implemented.  The</i></td></tr>
<tr><th id="69">69</th><td><i>	 * following flag enables that behavior.</i></td></tr>
<tr><th id="70">70</th><td><i>	 */</i></td></tr>
<tr><th id="71">71</th><td>	<dfn class="enum" id="KERNFS_ROOT_EXTRA_OPEN_PERM_CHECK" title='KERNFS_ROOT_EXTRA_OPEN_PERM_CHECK' data-ref="KERNFS_ROOT_EXTRA_OPEN_PERM_CHECK">KERNFS_ROOT_EXTRA_OPEN_PERM_CHECK</dfn>	= <var>0x0002</var>,</td></tr>
<tr><th id="72">72</th><td></td></tr>
<tr><th id="73">73</th><td>	<i>/*</i></td></tr>
<tr><th id="74">74</th><td><i>	 * The filesystem supports exportfs operation, so userspace can use</i></td></tr>
<tr><th id="75">75</th><td><i>	 * fhandle to access nodes of the fs.</i></td></tr>
<tr><th id="76">76</th><td><i>	 */</i></td></tr>
<tr><th id="77">77</th><td>	<dfn class="enum" id="KERNFS_ROOT_SUPPORT_EXPORTOP" title='KERNFS_ROOT_SUPPORT_EXPORTOP' data-ref="KERNFS_ROOT_SUPPORT_EXPORTOP">KERNFS_ROOT_SUPPORT_EXPORTOP</dfn>		= <var>0x0004</var>,</td></tr>
<tr><th id="78">78</th><td>};</td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td><i>/* type-specific structures for kernfs_node union members */</i></td></tr>
<tr><th id="81">81</th><td><b>struct</b> <dfn class="type def" id="kernfs_elem_dir" title='kernfs_elem_dir' data-ref="kernfs_elem_dir">kernfs_elem_dir</dfn> {</td></tr>
<tr><th id="82">82</th><td>	<em>unsigned</em> <em>long</em>		<dfn class="decl field" id="kernfs_elem_dir::subdirs" title='kernfs_elem_dir::subdirs' data-ref="kernfs_elem_dir::subdirs">subdirs</dfn>;</td></tr>
<tr><th id="83">83</th><td>	<i>/* children rbtree starts here and goes through kn-&gt;rb */</i></td></tr>
<tr><th id="84">84</th><td>	<b>struct</b> <a class="type" href="rbtree.h.html#rb_root" title='rb_root' data-ref="rb_root">rb_root</a>		<dfn class="decl field" id="kernfs_elem_dir::children" title='kernfs_elem_dir::children' data-ref="kernfs_elem_dir::children">children</dfn>;</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td>	<i>/*</i></td></tr>
<tr><th id="87">87</th><td><i>	 * The kernfs hierarchy this directory belongs to.  This fits</i></td></tr>
<tr><th id="88">88</th><td><i>	 * better directly in kernfs_node but is here to save space.</i></td></tr>
<tr><th id="89">89</th><td><i>	 */</i></td></tr>
<tr><th id="90">90</th><td>	<b>struct</b> <a class="type" href="#kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</a>	*<dfn class="decl field" id="kernfs_elem_dir::root" title='kernfs_elem_dir::root' data-ref="kernfs_elem_dir::root">root</dfn>;</td></tr>
<tr><th id="91">91</th><td>};</td></tr>
<tr><th id="92">92</th><td></td></tr>
<tr><th id="93">93</th><td><b>struct</b> <dfn class="type def" id="kernfs_elem_symlink" title='kernfs_elem_symlink' data-ref="kernfs_elem_symlink">kernfs_elem_symlink</dfn> {</td></tr>
<tr><th id="94">94</th><td>	<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a>	*<dfn class="decl field" id="kernfs_elem_symlink::target_kn" title='kernfs_elem_symlink::target_kn' data-ref="kernfs_elem_symlink::target_kn">target_kn</dfn>;</td></tr>
<tr><th id="95">95</th><td>};</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td><b>struct</b> <dfn class="type def" id="kernfs_elem_attr" title='kernfs_elem_attr' data-ref="kernfs_elem_attr">kernfs_elem_attr</dfn> {</td></tr>
<tr><th id="98">98</th><td>	<em>const</em> <b>struct</b> <a class="type" href="#kernfs_ops" title='kernfs_ops' data-ref="kernfs_ops">kernfs_ops</a>	*<dfn class="decl field" id="kernfs_elem_attr::ops" title='kernfs_elem_attr::ops' data-ref="kernfs_elem_attr::ops">ops</dfn>;</td></tr>
<tr><th id="99">99</th><td>	<b>struct</b> <a class="type" href="#kernfs_open_node" title='kernfs_open_node' data-ref="kernfs_open_node">kernfs_open_node</a>	*<dfn class="decl field" id="kernfs_elem_attr::open" title='kernfs_elem_attr::open' data-ref="kernfs_elem_attr::open">open</dfn>;</td></tr>
<tr><th id="100">100</th><td>	<a class="typedef" href="types.h.html#loff_t" title='loff_t' data-type='__kernel_loff_t' data-ref="loff_t">loff_t</a>			<dfn class="decl field" id="kernfs_elem_attr::size" title='kernfs_elem_attr::size' data-ref="kernfs_elem_attr::size">size</dfn>;</td></tr>
<tr><th id="101">101</th><td>	<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a>	*<dfn class="decl field" id="kernfs_elem_attr::notify_next" title='kernfs_elem_attr::notify_next' data-ref="kernfs_elem_attr::notify_next">notify_next</dfn>;	<i>/* for kernfs_notify() */</i></td></tr>
<tr><th id="102">102</th><td>};</td></tr>
<tr><th id="103">103</th><td></td></tr>
<tr><th id="104">104</th><td><i>/* represent a kernfs node */</i></td></tr>
<tr><th id="105">105</th><td><b>union</b> <dfn class="type def" id="kernfs_node_id" title='kernfs_node_id' data-ref="kernfs_node_id">kernfs_node_id</dfn> {</td></tr>
<tr><th id="106">106</th><td>	<b>struct</b> {</td></tr>
<tr><th id="107">107</th><td>		<i>/*</i></td></tr>
<tr><th id="108">108</th><td><i>		 * blktrace will export this struct as a simplified 'struct</i></td></tr>
<tr><th id="109">109</th><td><i>		 * fid' (which is a big data struction), so userspace can use</i></td></tr>
<tr><th id="110">110</th><td><i>		 * it to find kernfs node. The layout must match the first two</i></td></tr>
<tr><th id="111">111</th><td><i>		 * fields of 'struct fid' exactly.</i></td></tr>
<tr><th id="112">112</th><td><i>		 */</i></td></tr>
<tr><th id="113">113</th><td>		<a class="typedef" href="../asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a>		<dfn class="decl field" id="kernfs_node_id::(anonymous)::ino" title='kernfs_node_id::(anonymous struct)::ino' data-ref="kernfs_node_id::(anonymous)::ino">ino</dfn>;</td></tr>
<tr><th id="114">114</th><td>		<a class="typedef" href="../asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a>		<dfn class="decl field" id="kernfs_node_id::(anonymous)::generation" title='kernfs_node_id::(anonymous struct)::generation' data-ref="kernfs_node_id::(anonymous)::generation">generation</dfn>;</td></tr>
<tr><th id="115">115</th><td>	};</td></tr>
<tr><th id="116">116</th><td>	<a class="typedef" href="../asm-generic/int-ll64.h.html#u64" title='u64' data-type='unsigned long long' data-ref="u64">u64</a>			<dfn class="decl field" id="kernfs_node_id::id" title='kernfs_node_id::id' data-ref="kernfs_node_id::id">id</dfn>;</td></tr>
<tr><th id="117">117</th><td>};</td></tr>
<tr><th id="118">118</th><td></td></tr>
<tr><th id="119">119</th><td><i>/*</i></td></tr>
<tr><th id="120">120</th><td><i> * kernfs_node - the building block of kernfs hierarchy.  Each and every</i></td></tr>
<tr><th id="121">121</th><td><i> * kernfs node is represented by single kernfs_node.  Most fields are</i></td></tr>
<tr><th id="122">122</th><td><i> * private to kernfs and shouldn't be accessed directly by kernfs users.</i></td></tr>
<tr><th id="123">123</th><td><i> *</i></td></tr>
<tr><th id="124">124</th><td><i> * As long as s_count reference is held, the kernfs_node itself is</i></td></tr>
<tr><th id="125">125</th><td><i> * accessible.  Dereferencing elem or any other outer entity requires</i></td></tr>
<tr><th id="126">126</th><td><i> * active reference.</i></td></tr>
<tr><th id="127">127</th><td><i> */</i></td></tr>
<tr><th id="128">128</th><td><b>struct</b> <dfn class="type def" id="kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</dfn> {</td></tr>
<tr><th id="129">129</th><td>	<a class="typedef" href="types.h.html#atomic_t" title='atomic_t' data-type='struct atomic_t' data-ref="atomic_t">atomic_t</a>		<dfn class="decl field" id="kernfs_node::count" title='kernfs_node::count' data-ref="kernfs_node::count">count</dfn>;</td></tr>
<tr><th id="130">130</th><td>	<a class="typedef" href="types.h.html#atomic_t" title='atomic_t' data-type='struct atomic_t' data-ref="atomic_t">atomic_t</a>		<dfn class="decl field" id="kernfs_node::active" title='kernfs_node::active' data-ref="kernfs_node::active">active</dfn>;</td></tr>
<tr><th id="131">131</th><td><u>#<span data-ppcond="131">ifdef</span> <span class="macro" data-ref="_M/CONFIG_DEBUG_LOCK_ALLOC">CONFIG_DEBUG_LOCK_ALLOC</span></u></td></tr>
<tr><th id="132">132</th><td>	<b>struct</b> lockdep_map	dep_map;</td></tr>
<tr><th id="133">133</th><td><u>#<span data-ppcond="131">endif</span></u></td></tr>
<tr><th id="134">134</th><td>	<i>/*</i></td></tr>
<tr><th id="135">135</th><td><i>	 * Use kernfs_get_parent() and kernfs_name/path() instead of</i></td></tr>
<tr><th id="136">136</th><td><i>	 * accessing the following two fields directly.  If the node is</i></td></tr>
<tr><th id="137">137</th><td><i>	 * never moved to a different parent, it is safe to access the</i></td></tr>
<tr><th id="138">138</th><td><i>	 * parent directly.</i></td></tr>
<tr><th id="139">139</th><td><i>	 */</i></td></tr>
<tr><th id="140">140</th><td>	<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a>	*<dfn class="decl field" id="kernfs_node::parent" title='kernfs_node::parent' data-ref="kernfs_node::parent">parent</dfn>;</td></tr>
<tr><th id="141">141</th><td>	<em>const</em> <em>char</em>		*<dfn class="decl field" id="kernfs_node::name" title='kernfs_node::name' data-ref="kernfs_node::name">name</dfn>;</td></tr>
<tr><th id="142">142</th><td></td></tr>
<tr><th id="143">143</th><td>	<b>struct</b> <a class="type" href="rbtree.h.html#rb_node" title='rb_node' data-ref="rb_node">rb_node</a>		<dfn class="decl field" id="kernfs_node::rb" title='kernfs_node::rb' data-ref="kernfs_node::rb">rb</dfn>;</td></tr>
<tr><th id="144">144</th><td></td></tr>
<tr><th id="145">145</th><td>	<em>const</em> <em>void</em>		*<dfn class="decl field" id="kernfs_node::ns" title='kernfs_node::ns' data-ref="kernfs_node::ns">ns</dfn>;	<i>/* namespace tag */</i></td></tr>
<tr><th id="146">146</th><td>	<em>unsigned</em> <em>int</em>		<dfn class="decl field" id="kernfs_node::hash" title='kernfs_node::hash' data-ref="kernfs_node::hash">hash</dfn>;	<i>/* ns + name hash */</i></td></tr>
<tr><th id="147">147</th><td>	<b>union</b> {</td></tr>
<tr><th id="148">148</th><td>		<b>struct</b> <a class="type" href="#kernfs_elem_dir" title='kernfs_elem_dir' data-ref="kernfs_elem_dir">kernfs_elem_dir</a>		<dfn class="decl field" id="kernfs_node::(anonymous)::dir" title='kernfs_node::(anonymous union)::dir' data-ref="kernfs_node::(anonymous)::dir">dir</dfn>;</td></tr>
<tr><th id="149">149</th><td>		<b>struct</b> <a class="type" href="#kernfs_elem_symlink" title='kernfs_elem_symlink' data-ref="kernfs_elem_symlink">kernfs_elem_symlink</a>	<dfn class="decl field" id="kernfs_node::(anonymous)::symlink" title='kernfs_node::(anonymous union)::symlink' data-ref="kernfs_node::(anonymous)::symlink">symlink</dfn>;</td></tr>
<tr><th id="150">150</th><td>		<b>struct</b> <a class="type" href="#kernfs_elem_attr" title='kernfs_elem_attr' data-ref="kernfs_elem_attr">kernfs_elem_attr</a>		<dfn class="decl field" id="kernfs_node::(anonymous)::attr" title='kernfs_node::(anonymous union)::attr' data-ref="kernfs_node::(anonymous)::attr">attr</dfn>;</td></tr>
<tr><th id="151">151</th><td>	};</td></tr>
<tr><th id="152">152</th><td></td></tr>
<tr><th id="153">153</th><td>	<em>void</em>			*<dfn class="decl field" id="kernfs_node::priv" title='kernfs_node::priv' data-ref="kernfs_node::priv">priv</dfn>;</td></tr>
<tr><th id="154">154</th><td></td></tr>
<tr><th id="155">155</th><td>	<b>union</b> <a class="type" href="#kernfs_node_id" title='kernfs_node_id' data-ref="kernfs_node_id">kernfs_node_id</a>	<dfn class="decl field" id="kernfs_node::id" title='kernfs_node::id' data-ref="kernfs_node::id">id</dfn>;</td></tr>
<tr><th id="156">156</th><td>	<em>unsigned</em> <em>short</em>		<dfn class="decl field" id="kernfs_node::flags" title='kernfs_node::flags' data-ref="kernfs_node::flags">flags</dfn>;</td></tr>
<tr><th id="157">157</th><td>	<a class="typedef" href="types.h.html#umode_t" title='umode_t' data-type='unsigned short' data-ref="umode_t">umode_t</a>			<dfn class="decl field" id="kernfs_node::mode" title='kernfs_node::mode' data-ref="kernfs_node::mode">mode</dfn>;</td></tr>
<tr><th id="158">158</th><td>	<b>struct</b> <a class="type" href="#kernfs_iattrs" title='kernfs_iattrs' data-ref="kernfs_iattrs">kernfs_iattrs</a>	*<dfn class="decl field" id="kernfs_node::iattr" title='kernfs_node::iattr' data-ref="kernfs_node::iattr">iattr</dfn>;</td></tr>
<tr><th id="159">159</th><td>};</td></tr>
<tr><th id="160">160</th><td></td></tr>
<tr><th id="161">161</th><td><i>/*</i></td></tr>
<tr><th id="162">162</th><td><i> * kernfs_syscall_ops may be specified on kernfs_create_root() to support</i></td></tr>
<tr><th id="163">163</th><td><i> * syscalls.  These optional callbacks are invoked on the matching syscalls</i></td></tr>
<tr><th id="164">164</th><td><i> * and can perform any kernfs operations which don't necessarily have to be</i></td></tr>
<tr><th id="165">165</th><td><i> * the exact operation requested.  An active reference is held for each</i></td></tr>
<tr><th id="166">166</th><td><i> * kernfs_node parameter.</i></td></tr>
<tr><th id="167">167</th><td><i> */</i></td></tr>
<tr><th id="168">168</th><td><b>struct</b> <dfn class="type def" id="kernfs_syscall_ops" title='kernfs_syscall_ops' data-ref="kernfs_syscall_ops">kernfs_syscall_ops</dfn> {</td></tr>
<tr><th id="169">169</th><td>	<em>int</em> (*<dfn class="decl field" id="kernfs_syscall_ops::remount_fs" title='kernfs_syscall_ops::remount_fs' data-ref="kernfs_syscall_ops::remount_fs">remount_fs</dfn>)(<b>struct</b> <a class="type" href="#kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</a> *<dfn class="local col1 decl" id="921root" title='root' data-type='struct kernfs_root *' data-ref="921root">root</dfn>, <em>int</em> *<dfn class="local col2 decl" id="922flags" title='flags' data-type='int *' data-ref="922flags">flags</dfn>, <em>char</em> *<dfn class="local col3 decl" id="923data" title='data' data-type='char *' data-ref="923data">data</dfn>);</td></tr>
<tr><th id="170">170</th><td>	<em>int</em> (*<dfn class="decl field" id="kernfs_syscall_ops::show_options" title='kernfs_syscall_ops::show_options' data-ref="kernfs_syscall_ops::show_options">show_options</dfn>)(<b>struct</b> <a class="type" href="seq_file.h.html#seq_file" title='seq_file' data-ref="seq_file">seq_file</a> *<dfn class="local col4 decl" id="924sf" title='sf' data-type='struct seq_file *' data-ref="924sf">sf</dfn>, <b>struct</b> <a class="type" href="#kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</a> *<dfn class="local col5 decl" id="925root" title='root' data-type='struct kernfs_root *' data-ref="925root">root</dfn>);</td></tr>
<tr><th id="171">171</th><td></td></tr>
<tr><th id="172">172</th><td>	<em>int</em> (*<dfn class="decl field" id="kernfs_syscall_ops::mkdir" title='kernfs_syscall_ops::mkdir' data-ref="kernfs_syscall_ops::mkdir">mkdir</dfn>)(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col6 decl" id="926parent" title='parent' data-type='struct kernfs_node *' data-ref="926parent">parent</dfn>, <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="927name" title='name' data-type='const char *' data-ref="927name">name</dfn>,</td></tr>
<tr><th id="173">173</th><td>		     <a class="typedef" href="types.h.html#umode_t" title='umode_t' data-type='unsigned short' data-ref="umode_t">umode_t</a> <dfn class="local col8 decl" id="928mode" title='mode' data-type='umode_t' data-ref="928mode">mode</dfn>);</td></tr>
<tr><th id="174">174</th><td>	<em>int</em> (*<dfn class="decl field" id="kernfs_syscall_ops::rmdir" title='kernfs_syscall_ops::rmdir' data-ref="kernfs_syscall_ops::rmdir">rmdir</dfn>)(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col9 decl" id="929kn" title='kn' data-type='struct kernfs_node *' data-ref="929kn">kn</dfn>);</td></tr>
<tr><th id="175">175</th><td>	<em>int</em> (*<dfn class="decl field" id="kernfs_syscall_ops::rename" title='kernfs_syscall_ops::rename' data-ref="kernfs_syscall_ops::rename">rename</dfn>)(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col0 decl" id="930kn" title='kn' data-type='struct kernfs_node *' data-ref="930kn">kn</dfn>, <b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col1 decl" id="931new_parent" title='new_parent' data-type='struct kernfs_node *' data-ref="931new_parent">new_parent</dfn>,</td></tr>
<tr><th id="176">176</th><td>		      <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="932new_name" title='new_name' data-type='const char *' data-ref="932new_name">new_name</dfn>);</td></tr>
<tr><th id="177">177</th><td>	<em>int</em> (*<dfn class="decl field" id="kernfs_syscall_ops::show_path" title='kernfs_syscall_ops::show_path' data-ref="kernfs_syscall_ops::show_path">show_path</dfn>)(<b>struct</b> <a class="type" href="seq_file.h.html#seq_file" title='seq_file' data-ref="seq_file">seq_file</a> *<dfn class="local col3 decl" id="933sf" title='sf' data-type='struct seq_file *' data-ref="933sf">sf</dfn>, <b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col4 decl" id="934kn" title='kn' data-type='struct kernfs_node *' data-ref="934kn">kn</dfn>,</td></tr>
<tr><th id="178">178</th><td>			 <b>struct</b> <a class="type" href="#kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</a> *<dfn class="local col5 decl" id="935root" title='root' data-type='struct kernfs_root *' data-ref="935root">root</dfn>);</td></tr>
<tr><th id="179">179</th><td>};</td></tr>
<tr><th id="180">180</th><td></td></tr>
<tr><th id="181">181</th><td><b>struct</b> <dfn class="type def" id="kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</dfn> {</td></tr>
<tr><th id="182">182</th><td>	<i>/* published fields */</i></td></tr>
<tr><th id="183">183</th><td>	<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a>	*<dfn class="decl field" id="kernfs_root::kn" title='kernfs_root::kn' data-ref="kernfs_root::kn">kn</dfn>;</td></tr>
<tr><th id="184">184</th><td>	<em>unsigned</em> <em>int</em>		<dfn class="decl field" id="kernfs_root::flags" title='kernfs_root::flags' data-ref="kernfs_root::flags">flags</dfn>;	<i>/* KERNFS_ROOT_* flags */</i></td></tr>
<tr><th id="185">185</th><td></td></tr>
<tr><th id="186">186</th><td>	<i>/* private fields, do not use outside kernfs proper */</i></td></tr>
<tr><th id="187">187</th><td>	<b>struct</b> <a class="type" href="idr.h.html#idr" title='idr' data-ref="idr">idr</a>		<dfn class="decl field" id="kernfs_root::ino_idr" title='kernfs_root::ino_idr' data-ref="kernfs_root::ino_idr">ino_idr</dfn>;</td></tr>
<tr><th id="188">188</th><td>	<a class="typedef" href="../asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a>			<dfn class="decl field" id="kernfs_root::next_generation" title='kernfs_root::next_generation' data-ref="kernfs_root::next_generation">next_generation</dfn>;</td></tr>
<tr><th id="189">189</th><td>	<b>struct</b> <a class="type" href="#kernfs_syscall_ops" title='kernfs_syscall_ops' data-ref="kernfs_syscall_ops">kernfs_syscall_ops</a> *<dfn class="decl field" id="kernfs_root::syscall_ops" title='kernfs_root::syscall_ops' data-ref="kernfs_root::syscall_ops">syscall_ops</dfn>;</td></tr>
<tr><th id="190">190</th><td></td></tr>
<tr><th id="191">191</th><td>	<i>/* list of kernfs_super_info of this root, protected by kernfs_mutex */</i></td></tr>
<tr><th id="192">192</th><td>	<b>struct</b> <a class="type" href="types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a>	<dfn class="decl field" id="kernfs_root::supers" title='kernfs_root::supers' data-ref="kernfs_root::supers">supers</dfn>;</td></tr>
<tr><th id="193">193</th><td></td></tr>
<tr><th id="194">194</th><td>	<a class="typedef" href="wait.h.html#wait_queue_head_t" title='wait_queue_head_t' data-type='struct wait_queue_head' data-ref="wait_queue_head_t">wait_queue_head_t</a>	<dfn class="decl field" id="kernfs_root::deactivate_waitq" title='kernfs_root::deactivate_waitq' data-ref="kernfs_root::deactivate_waitq">deactivate_waitq</dfn>;</td></tr>
<tr><th id="195">195</th><td>};</td></tr>
<tr><th id="196">196</th><td></td></tr>
<tr><th id="197">197</th><td><b>struct</b> <dfn class="type def" id="kernfs_open_file" title='kernfs_open_file' data-ref="kernfs_open_file">kernfs_open_file</dfn> {</td></tr>
<tr><th id="198">198</th><td>	<i>/* published fields */</i></td></tr>
<tr><th id="199">199</th><td>	<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a>	*<dfn class="decl field" id="kernfs_open_file::kn" title='kernfs_open_file::kn' data-ref="kernfs_open_file::kn">kn</dfn>;</td></tr>
<tr><th id="200">200</th><td>	<b>struct</b> <a class="type" href="fs.h.html#file" title='file' data-ref="file">file</a>		*<dfn class="decl field" id="kernfs_open_file::file" title='kernfs_open_file::file' data-ref="kernfs_open_file::file">file</dfn>;</td></tr>
<tr><th id="201">201</th><td>	<b>struct</b> <a class="type" href="seq_file.h.html#seq_file" title='seq_file' data-ref="seq_file">seq_file</a>		*<dfn class="decl field" id="kernfs_open_file::seq_file" title='kernfs_open_file::seq_file' data-ref="kernfs_open_file::seq_file">seq_file</dfn>;</td></tr>
<tr><th id="202">202</th><td>	<em>void</em>			*<dfn class="decl field" id="kernfs_open_file::priv" title='kernfs_open_file::priv' data-ref="kernfs_open_file::priv">priv</dfn>;</td></tr>
<tr><th id="203">203</th><td></td></tr>
<tr><th id="204">204</th><td>	<i>/* private fields, do not use outside kernfs proper */</i></td></tr>
<tr><th id="205">205</th><td>	<b>struct</b> <a class="type" href="mutex.h.html#mutex" title='mutex' data-ref="mutex">mutex</a>		<dfn class="decl field" id="kernfs_open_file::mutex" title='kernfs_open_file::mutex' data-ref="kernfs_open_file::mutex">mutex</dfn>;</td></tr>
<tr><th id="206">206</th><td>	<b>struct</b> <a class="type" href="mutex.h.html#mutex" title='mutex' data-ref="mutex">mutex</a>		<dfn class="decl field" id="kernfs_open_file::prealloc_mutex" title='kernfs_open_file::prealloc_mutex' data-ref="kernfs_open_file::prealloc_mutex">prealloc_mutex</dfn>;</td></tr>
<tr><th id="207">207</th><td>	<em>int</em>			<dfn class="decl field" id="kernfs_open_file::event" title='kernfs_open_file::event' data-ref="kernfs_open_file::event">event</dfn>;</td></tr>
<tr><th id="208">208</th><td>	<b>struct</b> <a class="type" href="types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a>	<dfn class="decl field" id="kernfs_open_file::list" title='kernfs_open_file::list' data-ref="kernfs_open_file::list">list</dfn>;</td></tr>
<tr><th id="209">209</th><td>	<em>char</em>			*<dfn class="decl field" id="kernfs_open_file::prealloc_buf" title='kernfs_open_file::prealloc_buf' data-ref="kernfs_open_file::prealloc_buf">prealloc_buf</dfn>;</td></tr>
<tr><th id="210">210</th><td></td></tr>
<tr><th id="211">211</th><td>	<a class="typedef" href="types.h.html#size_t" title='size_t' data-type='__kernel_size_t' data-ref="size_t">size_t</a>			<dfn class="decl field" id="kernfs_open_file::atomic_write_len" title='kernfs_open_file::atomic_write_len' data-ref="kernfs_open_file::atomic_write_len">atomic_write_len</dfn>;</td></tr>
<tr><th id="212">212</th><td>	<a class="typedef" href="types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a>			<dfn class="decl field" id="kernfs_open_file::mmapped" title='kernfs_open_file::mmapped' data-ref="kernfs_open_file::mmapped">mmapped</dfn>:<var>1</var>;</td></tr>
<tr><th id="213">213</th><td>	<a class="typedef" href="types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a>			<dfn class="decl field" id="kernfs_open_file::released" title='kernfs_open_file::released' data-ref="kernfs_open_file::released">released</dfn>:<var>1</var>;</td></tr>
<tr><th id="214">214</th><td>	<em>const</em> <b>struct</b> <a class="type" href="mm.h.html#vm_operations_struct" title='vm_operations_struct' data-ref="vm_operations_struct">vm_operations_struct</a> *<dfn class="decl field" id="kernfs_open_file::vm_ops" title='kernfs_open_file::vm_ops' data-ref="kernfs_open_file::vm_ops">vm_ops</dfn>;</td></tr>
<tr><th id="215">215</th><td>};</td></tr>
<tr><th id="216">216</th><td></td></tr>
<tr><th id="217">217</th><td><b>struct</b> <dfn class="type def" id="kernfs_ops" title='kernfs_ops' data-ref="kernfs_ops">kernfs_ops</dfn> {</td></tr>
<tr><th id="218">218</th><td>	<i>/*</i></td></tr>
<tr><th id="219">219</th><td><i>	 * Optional open/release methods.  Both are called with</i></td></tr>
<tr><th id="220">220</th><td><i>	 * @of-&gt;seq_file populated.</i></td></tr>
<tr><th id="221">221</th><td><i>	 */</i></td></tr>
<tr><th id="222">222</th><td>	<em>int</em> (*<dfn class="decl field" id="kernfs_ops::open" title='kernfs_ops::open' data-ref="kernfs_ops::open">open</dfn>)(<b>struct</b> <a class="type" href="#kernfs_open_file" title='kernfs_open_file' data-ref="kernfs_open_file">kernfs_open_file</a> *<dfn class="local col6 decl" id="936of" title='of' data-type='struct kernfs_open_file *' data-ref="936of">of</dfn>);</td></tr>
<tr><th id="223">223</th><td>	<em>void</em> (*<dfn class="decl field" id="kernfs_ops::release" title='kernfs_ops::release' data-ref="kernfs_ops::release">release</dfn>)(<b>struct</b> <a class="type" href="#kernfs_open_file" title='kernfs_open_file' data-ref="kernfs_open_file">kernfs_open_file</a> *<dfn class="local col7 decl" id="937of" title='of' data-type='struct kernfs_open_file *' data-ref="937of">of</dfn>);</td></tr>
<tr><th id="224">224</th><td></td></tr>
<tr><th id="225">225</th><td>	<i>/*</i></td></tr>
<tr><th id="226">226</th><td><i>	 * Read is handled by either seq_file or raw_read().</i></td></tr>
<tr><th id="227">227</th><td><i>	 *</i></td></tr>
<tr><th id="228">228</th><td><i>	 * If seq_show() is present, seq_file path is active.  Other seq</i></td></tr>
<tr><th id="229">229</th><td><i>	 * operations are optional and if not implemented, the behavior is</i></td></tr>
<tr><th id="230">230</th><td><i>	 * equivalent to single_open().  @sf-&gt;private points to the</i></td></tr>
<tr><th id="231">231</th><td><i>	 * associated kernfs_open_file.</i></td></tr>
<tr><th id="232">232</th><td><i>	 *</i></td></tr>
<tr><th id="233">233</th><td><i>	 * read() is bounced through kernel buffer and a read larger than</i></td></tr>
<tr><th id="234">234</th><td><i>	 * PAGE_SIZE results in partial operation of PAGE_SIZE.</i></td></tr>
<tr><th id="235">235</th><td><i>	 */</i></td></tr>
<tr><th id="236">236</th><td>	<em>int</em> (*<dfn class="decl field" id="kernfs_ops::seq_show" title='kernfs_ops::seq_show' data-ref="kernfs_ops::seq_show">seq_show</dfn>)(<b>struct</b> <a class="type" href="seq_file.h.html#seq_file" title='seq_file' data-ref="seq_file">seq_file</a> *<dfn class="local col8 decl" id="938sf" title='sf' data-type='struct seq_file *' data-ref="938sf">sf</dfn>, <em>void</em> *<dfn class="local col9 decl" id="939v" title='v' data-type='void *' data-ref="939v">v</dfn>);</td></tr>
<tr><th id="237">237</th><td></td></tr>
<tr><th id="238">238</th><td>	<em>void</em> *(*<dfn class="decl field" id="kernfs_ops::seq_start" title='kernfs_ops::seq_start' data-ref="kernfs_ops::seq_start">seq_start</dfn>)(<b>struct</b> <a class="type" href="seq_file.h.html#seq_file" title='seq_file' data-ref="seq_file">seq_file</a> *<dfn class="local col0 decl" id="940sf" title='sf' data-type='struct seq_file *' data-ref="940sf">sf</dfn>, <a class="typedef" href="types.h.html#loff_t" title='loff_t' data-type='__kernel_loff_t' data-ref="loff_t">loff_t</a> *<dfn class="local col1 decl" id="941ppos" title='ppos' data-type='loff_t *' data-ref="941ppos">ppos</dfn>);</td></tr>
<tr><th id="239">239</th><td>	<em>void</em> *(*<dfn class="decl field" id="kernfs_ops::seq_next" title='kernfs_ops::seq_next' data-ref="kernfs_ops::seq_next">seq_next</dfn>)(<b>struct</b> <a class="type" href="seq_file.h.html#seq_file" title='seq_file' data-ref="seq_file">seq_file</a> *<dfn class="local col2 decl" id="942sf" title='sf' data-type='struct seq_file *' data-ref="942sf">sf</dfn>, <em>void</em> *<dfn class="local col3 decl" id="943v" title='v' data-type='void *' data-ref="943v">v</dfn>, <a class="typedef" href="types.h.html#loff_t" title='loff_t' data-type='__kernel_loff_t' data-ref="loff_t">loff_t</a> *<dfn class="local col4 decl" id="944ppos" title='ppos' data-type='loff_t *' data-ref="944ppos">ppos</dfn>);</td></tr>
<tr><th id="240">240</th><td>	<em>void</em> (*<dfn class="decl field" id="kernfs_ops::seq_stop" title='kernfs_ops::seq_stop' data-ref="kernfs_ops::seq_stop">seq_stop</dfn>)(<b>struct</b> <a class="type" href="seq_file.h.html#seq_file" title='seq_file' data-ref="seq_file">seq_file</a> *<dfn class="local col5 decl" id="945sf" title='sf' data-type='struct seq_file *' data-ref="945sf">sf</dfn>, <em>void</em> *<dfn class="local col6 decl" id="946v" title='v' data-type='void *' data-ref="946v">v</dfn>);</td></tr>
<tr><th id="241">241</th><td></td></tr>
<tr><th id="242">242</th><td>	<a class="typedef" href="types.h.html#ssize_t" title='ssize_t' data-type='__kernel_ssize_t' data-ref="ssize_t">ssize_t</a> (*<dfn class="decl field" id="kernfs_ops::read" title='kernfs_ops::read' data-ref="kernfs_ops::read">read</dfn>)(<b>struct</b> <a class="type" href="#kernfs_open_file" title='kernfs_open_file' data-ref="kernfs_open_file">kernfs_open_file</a> *<dfn class="local col7 decl" id="947of" title='of' data-type='struct kernfs_open_file *' data-ref="947of">of</dfn>, <em>char</em> *<dfn class="local col8 decl" id="948buf" title='buf' data-type='char *' data-ref="948buf">buf</dfn>, <a class="typedef" href="types.h.html#size_t" title='size_t' data-type='__kernel_size_t' data-ref="size_t">size_t</a> <dfn class="local col9 decl" id="949bytes" title='bytes' data-type='size_t' data-ref="949bytes">bytes</dfn>,</td></tr>
<tr><th id="243">243</th><td>			<a class="typedef" href="types.h.html#loff_t" title='loff_t' data-type='__kernel_loff_t' data-ref="loff_t">loff_t</a> <dfn class="local col0 decl" id="950off" title='off' data-type='loff_t' data-ref="950off">off</dfn>);</td></tr>
<tr><th id="244">244</th><td></td></tr>
<tr><th id="245">245</th><td>	<i>/*</i></td></tr>
<tr><th id="246">246</th><td><i>	 * write() is bounced through kernel buffer.  If atomic_write_len</i></td></tr>
<tr><th id="247">247</th><td><i>	 * is not set, a write larger than PAGE_SIZE results in partial</i></td></tr>
<tr><th id="248">248</th><td><i>	 * operations of PAGE_SIZE chunks.  If atomic_write_len is set,</i></td></tr>
<tr><th id="249">249</th><td><i>	 * writes upto the specified size are executed atomically but</i></td></tr>
<tr><th id="250">250</th><td><i>	 * larger ones are rejected with -E2BIG.</i></td></tr>
<tr><th id="251">251</th><td><i>	 */</i></td></tr>
<tr><th id="252">252</th><td>	<a class="typedef" href="types.h.html#size_t" title='size_t' data-type='__kernel_size_t' data-ref="size_t">size_t</a> <dfn class="decl field" id="kernfs_ops::atomic_write_len" title='kernfs_ops::atomic_write_len' data-ref="kernfs_ops::atomic_write_len">atomic_write_len</dfn>;</td></tr>
<tr><th id="253">253</th><td>	<i>/*</i></td></tr>
<tr><th id="254">254</th><td><i>	 * "prealloc" causes a buffer to be allocated at open for</i></td></tr>
<tr><th id="255">255</th><td><i>	 * all read/write requests.  As -&gt;seq_show uses seq_read()</i></td></tr>
<tr><th id="256">256</th><td><i>	 * which does its own allocation, it is incompatible with</i></td></tr>
<tr><th id="257">257</th><td><i>	 * -&gt;prealloc.  Provide -&gt;read and -&gt;write with -&gt;prealloc.</i></td></tr>
<tr><th id="258">258</th><td><i>	 */</i></td></tr>
<tr><th id="259">259</th><td>	<a class="typedef" href="types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="decl field" id="kernfs_ops::prealloc" title='kernfs_ops::prealloc' data-ref="kernfs_ops::prealloc">prealloc</dfn>;</td></tr>
<tr><th id="260">260</th><td>	<a class="typedef" href="types.h.html#ssize_t" title='ssize_t' data-type='__kernel_ssize_t' data-ref="ssize_t">ssize_t</a> (*<dfn class="decl field" id="kernfs_ops::write" title='kernfs_ops::write' data-ref="kernfs_ops::write">write</dfn>)(<b>struct</b> <a class="type" href="#kernfs_open_file" title='kernfs_open_file' data-ref="kernfs_open_file">kernfs_open_file</a> *<dfn class="local col1 decl" id="951of" title='of' data-type='struct kernfs_open_file *' data-ref="951of">of</dfn>, <em>char</em> *<dfn class="local col2 decl" id="952buf" title='buf' data-type='char *' data-ref="952buf">buf</dfn>, <a class="typedef" href="types.h.html#size_t" title='size_t' data-type='__kernel_size_t' data-ref="size_t">size_t</a> <dfn class="local col3 decl" id="953bytes" title='bytes' data-type='size_t' data-ref="953bytes">bytes</dfn>,</td></tr>
<tr><th id="261">261</th><td>			 <a class="typedef" href="types.h.html#loff_t" title='loff_t' data-type='__kernel_loff_t' data-ref="loff_t">loff_t</a> <dfn class="local col4 decl" id="954off" title='off' data-type='loff_t' data-ref="954off">off</dfn>);</td></tr>
<tr><th id="262">262</th><td></td></tr>
<tr><th id="263">263</th><td>	<em>int</em> (*<dfn class="decl field" id="kernfs_ops::mmap" title='kernfs_ops::mmap' data-ref="kernfs_ops::mmap">mmap</dfn>)(<b>struct</b> <a class="type" href="#kernfs_open_file" title='kernfs_open_file' data-ref="kernfs_open_file">kernfs_open_file</a> *<dfn class="local col5 decl" id="955of" title='of' data-type='struct kernfs_open_file *' data-ref="955of">of</dfn>, <b>struct</b> <a class="type" href="mm_types.h.html#vm_area_struct" title='vm_area_struct' data-ref="vm_area_struct">vm_area_struct</a> *<dfn class="local col6 decl" id="956vma" title='vma' data-type='struct vm_area_struct *' data-ref="956vma">vma</dfn>);</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td><u>#<span data-ppcond="265">ifdef</span> <span class="macro" data-ref="_M/CONFIG_DEBUG_LOCK_ALLOC">CONFIG_DEBUG_LOCK_ALLOC</span></u></td></tr>
<tr><th id="266">266</th><td>	<b>struct</b> lock_class_key	lockdep_key;</td></tr>
<tr><th id="267">267</th><td><u>#<span data-ppcond="265">endif</span></u></td></tr>
<tr><th id="268">268</th><td>};</td></tr>
<tr><th id="269">269</th><td></td></tr>
<tr><th id="270">270</th><td><u>#<span data-ppcond="270">ifdef</span> <a class="macro" href="../generated/autoconf.h.html#977" data-ref="_M/CONFIG_KERNFS">CONFIG_KERNFS</a></u></td></tr>
<tr><th id="271">271</th><td></td></tr>
<tr><th id="272">272</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <b>enum</b> <a class="type" href="#kernfs_node_type" title='kernfs_node_type' data-ref="kernfs_node_type">kernfs_node_type</a> <dfn class="decl def fn" id="kernfs_type" title='kernfs_type' data-ref="kernfs_type">kernfs_type</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col7 decl" id="957kn" title='kn' data-type='struct kernfs_node *' data-ref="957kn">kn</dfn>)</td></tr>
<tr><th id="273">273</th><td>{</td></tr>
<tr><th id="274">274</th><td>	<b>return</b> <a class="local col7 ref" href="#957kn" title='kn' data-ref="957kn">kn</a>-&gt;<a class="ref field" href="#kernfs_node::flags" title='kernfs_node::flags' data-ref="kernfs_node::flags">flags</a> &amp; <a class="macro" href="#37" title="0x000f" data-ref="_M/KERNFS_TYPE_MASK">KERNFS_TYPE_MASK</a>;</td></tr>
<tr><th id="275">275</th><td>}</td></tr>
<tr><th id="276">276</th><td></td></tr>
<tr><th id="277">277</th><td><i class="doc">/**</i></td></tr>
<tr><th id="278">278</th><td><i class="doc"> * kernfs_enable_ns - enable namespace under a directory</i></td></tr>
<tr><th id="279">279</th><td><i class="doc"> * <span class="command">@kn</span>:<span class="verb"> directory of interest, should be empty</span></i></td></tr>
<tr><th id="280">280</th><td><i class="doc"> *</i></td></tr>
<tr><th id="281">281</th><td><i class="doc"> * This is to be called right after <span class="command">@kn</span> <span class="verb">is created to enable namespace</span></i></td></tr>
<tr><th id="282">282</th><td><i class="doc"> * under it.  All children of <span class="command">@kn</span> <span class="verb">must have non-NULL namespace tags and</span></i></td></tr>
<tr><th id="283">283</th><td><i class="doc"> * only the ones which match the super_block's tag will be visible.</i></td></tr>
<tr><th id="284">284</th><td><i class="doc"> */</i></td></tr>
<tr><th id="285">285</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <em>void</em> <dfn class="decl def fn" id="kernfs_enable_ns" title='kernfs_enable_ns' data-ref="kernfs_enable_ns">kernfs_enable_ns</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col8 decl" id="958kn" title='kn' data-type='struct kernfs_node *' data-ref="958kn">kn</dfn>)</td></tr>
<tr><th id="286">286</th><td>{</td></tr>
<tr><th id="287">287</th><td>	<a class="macro" href="../asm-generic/bug.h.html#66" title="({ int __ret_warn_on = !!(kernfs_type(kn) != KERNFS_DIR); if (__builtin_expect(!!(__ret_warn_on), 0)) do { do { asm volatile(&quot;1:\t&quot; &quot;.byte 0x0f, 0x0b&quot; &quot;\n&quot; &quot;.pushsection __bug_table,\&quot;aw\&quot;\n&quot; &quot;2:\t&quot; &quot;.long &quot; &quot;1b&quot; &quot; - 2b&quot; &quot;\t# bug_entry::bug_addr\n&quot; &quot;\t&quot; &quot;.long &quot; &quot;%c0&quot; &quot; - 2b&quot; &quot;\t# bug_entry::file\n&quot; &quot;\t.word %c1&quot; &quot;\t# bug_entry::line\n&quot; &quot;\t.word %c2&quot; &quot;\t# bug_entry::flags\n&quot; &quot;\t.org 2b+%c3\n&quot; &quot;.popsection&quot; : : &quot;i&quot; (&quot;/home/tempdban/kernel/stable/./include/linux/kernfs.h&quot;), &quot;i&quot; (287), &quot;i&quot; ((1 &lt;&lt; 0)|((1 &lt;&lt; 1)|((9) &lt;&lt; 8))), &quot;i&quot; (sizeof(struct bug_entry))); } while (0); ({ asm(&quot;%c0:\n\t&quot; &quot;.pushsection .discard.reachable\n\t&quot; &quot;.long %c0b - .\n\t&quot; &quot;.popsection\n\t&quot; : : &quot;i&quot; (26)); }); } while (0); __builtin_expect(!!(__ret_warn_on), 0); })" data-ref="_M/WARN_ON_ONCE">WARN_ON_ONCE</a>(<a class="ref fn" href="#kernfs_type" title='kernfs_type' data-ref="kernfs_type">kernfs_type</a>(<a class="local col8 ref" href="#958kn" title='kn' data-ref="958kn">kn</a>) != <a class="enum" href="#KERNFS_DIR" title='KERNFS_DIR' data-ref="KERNFS_DIR">KERNFS_DIR</a>);</td></tr>
<tr><th id="288">288</th><td>	<a class="macro" href="../asm-generic/bug.h.html#66" title="({ int __ret_warn_on = !!(!(({ union { typeof((&amp;kn-&gt;dir.children)-&gt;rb_node) __val; char __c[1]; } __u; if (1) __read_once_size(&amp;((&amp;kn-&gt;dir.children)-&gt;rb_node), __u.__c, sizeof((&amp;kn-&gt;dir.children)-&gt;rb_node)); else __read_once_size_nocheck(&amp;((&amp;kn-&gt;dir.children)-&gt;rb_node), __u.__c, sizeof((&amp;kn-&gt;dir.children)-&gt;rb_node)); do { } while (0); __u.__val; }) == ((void *)0))); if (__builtin_expect(!!(__ret_warn_on), 0)) do { do { asm volatile(&quot;1:\t&quot; &quot;.byte 0x0f, 0x0b&quot; &quot;\n&quot; &quot;.pushsection __bug_table,\&quot;aw\&quot;\n&quot; &quot;2:\t&quot; &quot;.long &quot; &quot;1b&quot; &quot; - 2b&quot; &quot;\t# bug_entry::bug_addr\n&quot; &quot;\t&quot; &quot;.long &quot; &quot;%c0&quot; &quot; - 2b&quot; &quot;\t# bug_entry::file\n&quot; &quot;\t.word %c1&quot; &quot;\t# bug_entry::line\n&quot; &quot;\t.word %c2&quot; &quot;\t# bug_entry::flags\n&quot; &quot;\t.org 2b+%c3\n&quot; &quot;.popsection&quot; : : &quot;i&quot; (&quot;/home/tempdban/kernel/stable/./include/linux/kernfs.h&quot;), &quot;i&quot; (288), &quot;i&quot; ((1 &lt;&lt; 0)|((1 &lt;&lt; 1)|((9) &lt;&lt; 8))), &quot;i&quot; (sizeof(struct bug_entry))); } while (0); ({ asm(&quot;%c0:\n\t&quot; &quot;.pushsection .discard.reachable\n\t&quot; &quot;.long %c0b - .\n\t&quot; &quot;.popsection\n\t&quot; : : &quot;i&quot; (28)); }); } while (0); __builtin_expect(!!(__ret_warn_on), 0); })" data-ref="_M/WARN_ON_ONCE">WARN_ON_ONCE</a>(!<a class="macro" href="rbtree.h.html#68" title="(({ union { typeof((&amp;kn-&gt;dir.children)-&gt;rb_node) __val; char __c[1]; } __u; if (1) __read_once_size(&amp;((&amp;kn-&gt;dir.children)-&gt;rb_node), __u.__c, sizeof((&amp;kn-&gt;dir.children)-&gt;rb_node)); else __read_once_size_nocheck(&amp;((&amp;kn-&gt;dir.children)-&gt;rb_node), __u.__c, sizeof((&amp;kn-&gt;dir.children)-&gt;rb_node)); do { } while (0); __u.__val; }) == ((void *)0))" data-ref="_M/RB_EMPTY_ROOT">RB_EMPTY_ROOT</a>(&amp;<a class="local col8 ref" href="#958kn" title='kn' data-ref="958kn">kn</a>-&gt;<a class="ref field" href="#kernfs_node::(anonymous)::dir" title='kernfs_node::(anonymous union)::dir' data-ref="kernfs_node::(anonymous)::dir">dir</a>.<a class="ref field" href="#kernfs_elem_dir::children" title='kernfs_elem_dir::children' data-ref="kernfs_elem_dir::children">children</a>));</td></tr>
<tr><th id="289">289</th><td>	<a class="local col8 ref" href="#958kn" title='kn' data-ref="958kn">kn</a>-&gt;<a class="ref field" href="#kernfs_node::flags" title='kernfs_node::flags' data-ref="kernfs_node::flags">flags</a> |= <a class="enum" href="#KERNFS_NS" title='KERNFS_NS' data-ref="KERNFS_NS">KERNFS_NS</a>;</td></tr>
<tr><th id="290">290</th><td>}</td></tr>
<tr><th id="291">291</th><td></td></tr>
<tr><th id="292">292</th><td><i class="doc">/**</i></td></tr>
<tr><th id="293">293</th><td><i class="doc"> * kernfs_ns_enabled - test whether namespace is enabled</i></td></tr>
<tr><th id="294">294</th><td><i class="doc"> * <span class="command">@kn</span>:<span class="verb"> the node to test</span></i></td></tr>
<tr><th id="295">295</th><td><i class="doc"> *</i></td></tr>
<tr><th id="296">296</th><td><i class="doc"> * Test whether namespace filtering is enabled for the children of<span class="command"> @ns</span>.</i></td></tr>
<tr><th id="297">297</th><td><i class="doc"> */</i></td></tr>
<tr><th id="298">298</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <a class="typedef" href="types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="decl def fn" id="kernfs_ns_enabled" title='kernfs_ns_enabled' data-ref="kernfs_ns_enabled">kernfs_ns_enabled</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col9 decl" id="959kn" title='kn' data-type='struct kernfs_node *' data-ref="959kn">kn</dfn>)</td></tr>
<tr><th id="299">299</th><td>{</td></tr>
<tr><th id="300">300</th><td>	<b>return</b> <a class="local col9 ref" href="#959kn" title='kn' data-ref="959kn">kn</a>-&gt;<a class="ref field" href="#kernfs_node::flags" title='kernfs_node::flags' data-ref="kernfs_node::flags">flags</a> &amp; <a class="enum" href="#KERNFS_NS" title='KERNFS_NS' data-ref="KERNFS_NS">KERNFS_NS</a>;</td></tr>
<tr><th id="301">301</th><td>}</td></tr>
<tr><th id="302">302</th><td></td></tr>
<tr><th id="303">303</th><td><em>int</em> <dfn class="decl fn" id="kernfs_name" title='kernfs_name' data-ref="kernfs_name">kernfs_name</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col0 decl" id="960kn" title='kn' data-type='struct kernfs_node *' data-ref="960kn">kn</dfn>, <em>char</em> *<dfn class="local col1 decl" id="961buf" title='buf' data-type='char *' data-ref="961buf">buf</dfn>, <a class="typedef" href="types.h.html#size_t" title='size_t' data-type='__kernel_size_t' data-ref="size_t">size_t</a> <dfn class="local col2 decl" id="962buflen" title='buflen' data-type='size_t' data-ref="962buflen">buflen</dfn>);</td></tr>
<tr><th id="304">304</th><td><em>int</em> <dfn class="decl fn" id="kernfs_path_from_node" title='kernfs_path_from_node' data-ref="kernfs_path_from_node">kernfs_path_from_node</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col3 decl" id="963root_kn" title='root_kn' data-type='struct kernfs_node *' data-ref="963root_kn">root_kn</dfn>, <b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col4 decl" id="964kn" title='kn' data-type='struct kernfs_node *' data-ref="964kn">kn</dfn>,</td></tr>
<tr><th id="305">305</th><td>			  <em>char</em> *<dfn class="local col5 decl" id="965buf" title='buf' data-type='char *' data-ref="965buf">buf</dfn>, <a class="typedef" href="types.h.html#size_t" title='size_t' data-type='__kernel_size_t' data-ref="size_t">size_t</a> <dfn class="local col6 decl" id="966buflen" title='buflen' data-type='size_t' data-ref="966buflen">buflen</dfn>);</td></tr>
<tr><th id="306">306</th><td><em>void</em> <dfn class="decl fn" id="pr_cont_kernfs_name" title='pr_cont_kernfs_name' data-ref="pr_cont_kernfs_name">pr_cont_kernfs_name</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col7 decl" id="967kn" title='kn' data-type='struct kernfs_node *' data-ref="967kn">kn</dfn>);</td></tr>
<tr><th id="307">307</th><td><em>void</em> <dfn class="decl fn" id="pr_cont_kernfs_path" title='pr_cont_kernfs_path' data-ref="pr_cont_kernfs_path">pr_cont_kernfs_path</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col8 decl" id="968kn" title='kn' data-type='struct kernfs_node *' data-ref="968kn">kn</dfn>);</td></tr>
<tr><th id="308">308</th><td><b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="decl fn" id="kernfs_get_parent" title='kernfs_get_parent' data-ref="kernfs_get_parent">kernfs_get_parent</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col9 decl" id="969kn" title='kn' data-type='struct kernfs_node *' data-ref="969kn">kn</dfn>);</td></tr>
<tr><th id="309">309</th><td><b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="decl fn" id="kernfs_find_and_get_ns" title='kernfs_find_and_get_ns' data-ref="kernfs_find_and_get_ns">kernfs_find_and_get_ns</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col0 decl" id="970parent" title='parent' data-type='struct kernfs_node *' data-ref="970parent">parent</dfn>,</td></tr>
<tr><th id="310">310</th><td>					   <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="971name" title='name' data-type='const char *' data-ref="971name">name</dfn>, <em>const</em> <em>void</em> *<dfn class="local col2 decl" id="972ns" title='ns' data-type='const void *' data-ref="972ns">ns</dfn>);</td></tr>
<tr><th id="311">311</th><td><b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="decl fn" id="kernfs_walk_and_get_ns" title='kernfs_walk_and_get_ns' data-ref="kernfs_walk_and_get_ns">kernfs_walk_and_get_ns</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col3 decl" id="973parent" title='parent' data-type='struct kernfs_node *' data-ref="973parent">parent</dfn>,</td></tr>
<tr><th id="312">312</th><td>					   <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="974path" title='path' data-type='const char *' data-ref="974path">path</dfn>, <em>const</em> <em>void</em> *<dfn class="local col5 decl" id="975ns" title='ns' data-type='const void *' data-ref="975ns">ns</dfn>);</td></tr>
<tr><th id="313">313</th><td><em>void</em> <dfn class="decl fn" id="kernfs_get" title='kernfs_get' data-ref="kernfs_get">kernfs_get</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col6 decl" id="976kn" title='kn' data-type='struct kernfs_node *' data-ref="976kn">kn</dfn>);</td></tr>
<tr><th id="314">314</th><td><em>void</em> <dfn class="decl fn" id="kernfs_put" title='kernfs_put' data-ref="kernfs_put">kernfs_put</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col7 decl" id="977kn" title='kn' data-type='struct kernfs_node *' data-ref="977kn">kn</dfn>);</td></tr>
<tr><th id="315">315</th><td></td></tr>
<tr><th id="316">316</th><td><b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="decl fn" id="kernfs_node_from_dentry" title='kernfs_node_from_dentry' data-ref="kernfs_node_from_dentry">kernfs_node_from_dentry</dfn>(<b>struct</b> <a class="type" href="dcache.h.html#dentry" title='dentry' data-ref="dentry">dentry</a> *<dfn class="local col8 decl" id="978dentry" title='dentry' data-type='struct dentry *' data-ref="978dentry">dentry</dfn>);</td></tr>
<tr><th id="317">317</th><td><b>struct</b> <a class="type" href="#kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</a> *<dfn class="decl fn" id="kernfs_root_from_sb" title='kernfs_root_from_sb' data-ref="kernfs_root_from_sb">kernfs_root_from_sb</dfn>(<b>struct</b> <a class="type" href="fs.h.html#super_block" title='super_block' data-ref="super_block">super_block</a> *<dfn class="local col9 decl" id="979sb" title='sb' data-type='struct super_block *' data-ref="979sb">sb</dfn>);</td></tr>
<tr><th id="318">318</th><td><b>struct</b> <a class="type" href="fs.h.html#inode" title='inode' data-ref="inode">inode</a> *<dfn class="decl fn" id="kernfs_get_inode" title='kernfs_get_inode' data-ref="kernfs_get_inode">kernfs_get_inode</dfn>(<b>struct</b> <a class="type" href="fs.h.html#super_block" title='super_block' data-ref="super_block">super_block</a> *<dfn class="local col0 decl" id="980sb" title='sb' data-type='struct super_block *' data-ref="980sb">sb</dfn>, <b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col1 decl" id="981kn" title='kn' data-type='struct kernfs_node *' data-ref="981kn">kn</dfn>);</td></tr>
<tr><th id="319">319</th><td></td></tr>
<tr><th id="320">320</th><td><b>struct</b> <a class="type" href="dcache.h.html#dentry" title='dentry' data-ref="dentry">dentry</a> *<dfn class="decl fn" id="kernfs_node_dentry" title='kernfs_node_dentry' data-ref="kernfs_node_dentry">kernfs_node_dentry</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col2 decl" id="982kn" title='kn' data-type='struct kernfs_node *' data-ref="982kn">kn</dfn>,</td></tr>
<tr><th id="321">321</th><td>				  <b>struct</b> <a class="type" href="fs.h.html#super_block" title='super_block' data-ref="super_block">super_block</a> *<dfn class="local col3 decl" id="983sb" title='sb' data-type='struct super_block *' data-ref="983sb">sb</dfn>);</td></tr>
<tr><th id="322">322</th><td><b>struct</b> <a class="type" href="#kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</a> *<dfn class="decl fn" id="kernfs_create_root" title='kernfs_create_root' data-ref="kernfs_create_root">kernfs_create_root</dfn>(<b>struct</b> <a class="type" href="#kernfs_syscall_ops" title='kernfs_syscall_ops' data-ref="kernfs_syscall_ops">kernfs_syscall_ops</a> *<dfn class="local col4 decl" id="984scops" title='scops' data-type='struct kernfs_syscall_ops *' data-ref="984scops">scops</dfn>,</td></tr>
<tr><th id="323">323</th><td>				       <em>unsigned</em> <em>int</em> <dfn class="local col5 decl" id="985flags" title='flags' data-type='unsigned int' data-ref="985flags">flags</dfn>, <em>void</em> *<dfn class="local col6 decl" id="986priv" title='priv' data-type='void *' data-ref="986priv">priv</dfn>);</td></tr>
<tr><th id="324">324</th><td><em>void</em> <dfn class="decl fn" id="kernfs_destroy_root" title='kernfs_destroy_root' data-ref="kernfs_destroy_root">kernfs_destroy_root</dfn>(<b>struct</b> <a class="type" href="#kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</a> *<dfn class="local col7 decl" id="987root" title='root' data-type='struct kernfs_root *' data-ref="987root">root</dfn>);</td></tr>
<tr><th id="325">325</th><td></td></tr>
<tr><th id="326">326</th><td><b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="decl fn" id="kernfs_create_dir_ns" title='kernfs_create_dir_ns' data-ref="kernfs_create_dir_ns">kernfs_create_dir_ns</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col8 decl" id="988parent" title='parent' data-type='struct kernfs_node *' data-ref="988parent">parent</dfn>,</td></tr>
<tr><th id="327">327</th><td>					 <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="989name" title='name' data-type='const char *' data-ref="989name">name</dfn>, <a class="typedef" href="types.h.html#umode_t" title='umode_t' data-type='unsigned short' data-ref="umode_t">umode_t</a> <dfn class="local col0 decl" id="990mode" title='mode' data-type='umode_t' data-ref="990mode">mode</dfn>,</td></tr>
<tr><th id="328">328</th><td>					 <em>void</em> *<dfn class="local col1 decl" id="991priv" title='priv' data-type='void *' data-ref="991priv">priv</dfn>, <em>const</em> <em>void</em> *<dfn class="local col2 decl" id="992ns" title='ns' data-type='const void *' data-ref="992ns">ns</dfn>);</td></tr>
<tr><th id="329">329</th><td><b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="decl fn" id="kernfs_create_empty_dir" title='kernfs_create_empty_dir' data-ref="kernfs_create_empty_dir">kernfs_create_empty_dir</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col3 decl" id="993parent" title='parent' data-type='struct kernfs_node *' data-ref="993parent">parent</dfn>,</td></tr>
<tr><th id="330">330</th><td>					    <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="994name" title='name' data-type='const char *' data-ref="994name">name</dfn>);</td></tr>
<tr><th id="331">331</th><td><b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="decl fn" id="__kernfs_create_file" title='__kernfs_create_file' data-ref="__kernfs_create_file">__kernfs_create_file</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col5 decl" id="995parent" title='parent' data-type='struct kernfs_node *' data-ref="995parent">parent</dfn>,</td></tr>
<tr><th id="332">332</th><td>					 <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="996name" title='name' data-type='const char *' data-ref="996name">name</dfn>,</td></tr>
<tr><th id="333">333</th><td>					 <a class="typedef" href="types.h.html#umode_t" title='umode_t' data-type='unsigned short' data-ref="umode_t">umode_t</a> <dfn class="local col7 decl" id="997mode" title='mode' data-type='umode_t' data-ref="997mode">mode</dfn>, <a class="typedef" href="types.h.html#loff_t" title='loff_t' data-type='__kernel_loff_t' data-ref="loff_t">loff_t</a> <dfn class="local col8 decl" id="998size" title='size' data-type='loff_t' data-ref="998size">size</dfn>,</td></tr>
<tr><th id="334">334</th><td>					 <em>const</em> <b>struct</b> <a class="type" href="#kernfs_ops" title='kernfs_ops' data-ref="kernfs_ops">kernfs_ops</a> *<dfn class="local col9 decl" id="999ops" title='ops' data-type='const struct kernfs_ops *' data-ref="999ops">ops</dfn>,</td></tr>
<tr><th id="335">335</th><td>					 <em>void</em> *<dfn class="local col0 decl" id="1000priv" title='priv' data-type='void *' data-ref="1000priv">priv</dfn>, <em>const</em> <em>void</em> *<dfn class="local col1 decl" id="1001ns" title='ns' data-type='const void *' data-ref="1001ns">ns</dfn>,</td></tr>
<tr><th id="336">336</th><td>					 <b>struct</b> <a class="type" href="lockdep.h.html#lock_class_key" title='lock_class_key' data-ref="lock_class_key">lock_class_key</a> *<dfn class="local col2 decl" id="1002key" title='key' data-type='struct lock_class_key *' data-ref="1002key">key</dfn>);</td></tr>
<tr><th id="337">337</th><td><b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="decl fn" id="kernfs_create_link" title='kernfs_create_link' data-ref="kernfs_create_link">kernfs_create_link</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col3 decl" id="1003parent" title='parent' data-type='struct kernfs_node *' data-ref="1003parent">parent</dfn>,</td></tr>
<tr><th id="338">338</th><td>				       <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="1004name" title='name' data-type='const char *' data-ref="1004name">name</dfn>,</td></tr>
<tr><th id="339">339</th><td>				       <b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col5 decl" id="1005target" title='target' data-type='struct kernfs_node *' data-ref="1005target">target</dfn>);</td></tr>
<tr><th id="340">340</th><td><em>void</em> <dfn class="decl fn" id="kernfs_activate" title='kernfs_activate' data-ref="kernfs_activate">kernfs_activate</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col6 decl" id="1006kn" title='kn' data-type='struct kernfs_node *' data-ref="1006kn">kn</dfn>);</td></tr>
<tr><th id="341">341</th><td><em>void</em> <dfn class="decl fn" id="kernfs_remove" title='kernfs_remove' data-ref="kernfs_remove">kernfs_remove</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col7 decl" id="1007kn" title='kn' data-type='struct kernfs_node *' data-ref="1007kn">kn</dfn>);</td></tr>
<tr><th id="342">342</th><td><em>void</em> <dfn class="decl fn" id="kernfs_break_active_protection" title='kernfs_break_active_protection' data-ref="kernfs_break_active_protection">kernfs_break_active_protection</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col8 decl" id="1008kn" title='kn' data-type='struct kernfs_node *' data-ref="1008kn">kn</dfn>);</td></tr>
<tr><th id="343">343</th><td><em>void</em> <dfn class="decl fn" id="kernfs_unbreak_active_protection" title='kernfs_unbreak_active_protection' data-ref="kernfs_unbreak_active_protection">kernfs_unbreak_active_protection</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col9 decl" id="1009kn" title='kn' data-type='struct kernfs_node *' data-ref="1009kn">kn</dfn>);</td></tr>
<tr><th id="344">344</th><td><a class="typedef" href="types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="decl fn" id="kernfs_remove_self" title='kernfs_remove_self' data-ref="kernfs_remove_self">kernfs_remove_self</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col0 decl" id="1010kn" title='kn' data-type='struct kernfs_node *' data-ref="1010kn">kn</dfn>);</td></tr>
<tr><th id="345">345</th><td><em>int</em> <dfn class="decl fn" id="kernfs_remove_by_name_ns" title='kernfs_remove_by_name_ns' data-ref="kernfs_remove_by_name_ns">kernfs_remove_by_name_ns</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col1 decl" id="1011parent" title='parent' data-type='struct kernfs_node *' data-ref="1011parent">parent</dfn>, <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="1012name" title='name' data-type='const char *' data-ref="1012name">name</dfn>,</td></tr>
<tr><th id="346">346</th><td>			     <em>const</em> <em>void</em> *<dfn class="local col3 decl" id="1013ns" title='ns' data-type='const void *' data-ref="1013ns">ns</dfn>);</td></tr>
<tr><th id="347">347</th><td><em>int</em> <dfn class="decl fn" id="kernfs_rename_ns" title='kernfs_rename_ns' data-ref="kernfs_rename_ns">kernfs_rename_ns</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col4 decl" id="1014kn" title='kn' data-type='struct kernfs_node *' data-ref="1014kn">kn</dfn>, <b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col5 decl" id="1015new_parent" title='new_parent' data-type='struct kernfs_node *' data-ref="1015new_parent">new_parent</dfn>,</td></tr>
<tr><th id="348">348</th><td>		     <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="1016new_name" title='new_name' data-type='const char *' data-ref="1016new_name">new_name</dfn>, <em>const</em> <em>void</em> *<dfn class="local col7 decl" id="1017new_ns" title='new_ns' data-type='const void *' data-ref="1017new_ns">new_ns</dfn>);</td></tr>
<tr><th id="349">349</th><td><em>int</em> <dfn class="decl fn" id="kernfs_setattr" title='kernfs_setattr' data-ref="kernfs_setattr">kernfs_setattr</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col8 decl" id="1018kn" title='kn' data-type='struct kernfs_node *' data-ref="1018kn">kn</dfn>, <em>const</em> <b>struct</b> <a class="type" href="fs.h.html#iattr" title='iattr' data-ref="iattr">iattr</a> *<dfn class="local col9 decl" id="1019iattr" title='iattr' data-type='const struct iattr *' data-ref="1019iattr">iattr</dfn>);</td></tr>
<tr><th id="350">350</th><td><em>void</em> <dfn class="decl fn" id="kernfs_notify" title='kernfs_notify' data-ref="kernfs_notify">kernfs_notify</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col0 decl" id="1020kn" title='kn' data-type='struct kernfs_node *' data-ref="1020kn">kn</dfn>);</td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td><em>const</em> <em>void</em> *<dfn class="decl fn" id="kernfs_super_ns" title='kernfs_super_ns' data-ref="kernfs_super_ns">kernfs_super_ns</dfn>(<b>struct</b> <a class="type" href="fs.h.html#super_block" title='super_block' data-ref="super_block">super_block</a> *<dfn class="local col1 decl" id="1021sb" title='sb' data-type='struct super_block *' data-ref="1021sb">sb</dfn>);</td></tr>
<tr><th id="353">353</th><td><b>struct</b> <a class="type" href="dcache.h.html#dentry" title='dentry' data-ref="dentry">dentry</a> *<dfn class="decl fn" id="kernfs_mount_ns" title='kernfs_mount_ns' data-ref="kernfs_mount_ns">kernfs_mount_ns</dfn>(<b>struct</b> <a class="type" href="fs.h.html#file_system_type" title='file_system_type' data-ref="file_system_type">file_system_type</a> *<dfn class="local col2 decl" id="1022fs_type" title='fs_type' data-type='struct file_system_type *' data-ref="1022fs_type">fs_type</dfn>, <em>int</em> <dfn class="local col3 decl" id="1023flags" title='flags' data-type='int' data-ref="1023flags">flags</dfn>,</td></tr>
<tr><th id="354">354</th><td>			       <b>struct</b> <a class="type" href="#kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</a> *<dfn class="local col4 decl" id="1024root" title='root' data-type='struct kernfs_root *' data-ref="1024root">root</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col5 decl" id="1025magic" title='magic' data-type='unsigned long' data-ref="1025magic">magic</dfn>,</td></tr>
<tr><th id="355">355</th><td>			       <a class="typedef" href="types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> *<dfn class="local col6 decl" id="1026new_sb_created" title='new_sb_created' data-type='bool *' data-ref="1026new_sb_created">new_sb_created</dfn>, <em>const</em> <em>void</em> *<dfn class="local col7 decl" id="1027ns" title='ns' data-type='const void *' data-ref="1027ns">ns</dfn>);</td></tr>
<tr><th id="356">356</th><td><em>void</em> <dfn class="decl fn" id="kernfs_kill_sb" title='kernfs_kill_sb' data-ref="kernfs_kill_sb">kernfs_kill_sb</dfn>(<b>struct</b> <a class="type" href="fs.h.html#super_block" title='super_block' data-ref="super_block">super_block</a> *<dfn class="local col8 decl" id="1028sb" title='sb' data-type='struct super_block *' data-ref="1028sb">sb</dfn>);</td></tr>
<tr><th id="357">357</th><td><b>struct</b> <a class="type" href="fs.h.html#super_block" title='super_block' data-ref="super_block">super_block</a> *<dfn class="decl fn" id="kernfs_pin_sb" title='kernfs_pin_sb' data-ref="kernfs_pin_sb">kernfs_pin_sb</dfn>(<b>struct</b> <a class="type" href="#kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</a> *<dfn class="local col9 decl" id="1029root" title='root' data-type='struct kernfs_root *' data-ref="1029root">root</dfn>, <em>const</em> <em>void</em> *<dfn class="local col0 decl" id="1030ns" title='ns' data-type='const void *' data-ref="1030ns">ns</dfn>);</td></tr>
<tr><th id="358">358</th><td></td></tr>
<tr><th id="359">359</th><td><em>void</em> <dfn class="decl fn" id="kernfs_init" title='kernfs_init' data-ref="kernfs_init">kernfs_init</dfn>(<em>void</em>);</td></tr>
<tr><th id="360">360</th><td></td></tr>
<tr><th id="361">361</th><td><b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="decl fn" id="kernfs_get_node_by_id" title='kernfs_get_node_by_id' data-ref="kernfs_get_node_by_id">kernfs_get_node_by_id</dfn>(<b>struct</b> <a class="type" href="#kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</a> *<dfn class="local col1 decl" id="1031root" title='root' data-type='struct kernfs_root *' data-ref="1031root">root</dfn>,</td></tr>
<tr><th id="362">362</th><td>	<em>const</em> <b>union</b> <a class="type" href="#kernfs_node_id" title='kernfs_node_id' data-ref="kernfs_node_id">kernfs_node_id</a> *<dfn class="local col2 decl" id="1032id" title='id' data-type='const union kernfs_node_id *' data-ref="1032id">id</dfn>);</td></tr>
<tr><th id="363">363</th><td><u>#<span data-ppcond="270">else</span>	/* CONFIG_KERNFS */</u></td></tr>
<tr><th id="364">364</th><td></td></tr>
<tr><th id="365">365</th><td><em>static</em> <b>inline</b> <b>enum</b> kernfs_node_type kernfs_type(<b>struct</b> kernfs_node *kn)</td></tr>
<tr><th id="366">366</th><td>{ <b>return</b> <var>0</var>; }	<i>/* whatever */</i></td></tr>
<tr><th id="367">367</th><td></td></tr>
<tr><th id="368">368</th><td><em>static</em> <b>inline</b> <em>void</em> kernfs_enable_ns(<b>struct</b> kernfs_node *kn) { }</td></tr>
<tr><th id="369">369</th><td></td></tr>
<tr><th id="370">370</th><td><em>static</em> <b>inline</b> bool kernfs_ns_enabled(<b>struct</b> kernfs_node *kn)</td></tr>
<tr><th id="371">371</th><td>{ <b>return</b> false; }</td></tr>
<tr><th id="372">372</th><td></td></tr>
<tr><th id="373">373</th><td><em>static</em> <b>inline</b> <em>int</em> kernfs_name(<b>struct</b> kernfs_node *kn, <em>char</em> *buf, size_t buflen)</td></tr>
<tr><th id="374">374</th><td>{ <b>return</b> -ENOSYS; }</td></tr>
<tr><th id="375">375</th><td></td></tr>
<tr><th id="376">376</th><td><em>static</em> <b>inline</b> <em>int</em> kernfs_path_from_node(<b>struct</b> kernfs_node *root_kn,</td></tr>
<tr><th id="377">377</th><td>					<b>struct</b> kernfs_node *kn,</td></tr>
<tr><th id="378">378</th><td>					<em>char</em> *buf, size_t buflen)</td></tr>
<tr><th id="379">379</th><td>{ <b>return</b> -ENOSYS; }</td></tr>
<tr><th id="380">380</th><td></td></tr>
<tr><th id="381">381</th><td><em>static</em> <b>inline</b> <em>void</em> pr_cont_kernfs_name(<b>struct</b> kernfs_node *kn) { }</td></tr>
<tr><th id="382">382</th><td><em>static</em> <b>inline</b> <em>void</em> pr_cont_kernfs_path(<b>struct</b> kernfs_node *kn) { }</td></tr>
<tr><th id="383">383</th><td></td></tr>
<tr><th id="384">384</th><td><em>static</em> <b>inline</b> <b>struct</b> kernfs_node *kernfs_get_parent(<b>struct</b> kernfs_node *kn)</td></tr>
<tr><th id="385">385</th><td>{ <b>return</b> NULL; }</td></tr>
<tr><th id="386">386</th><td></td></tr>
<tr><th id="387">387</th><td><em>static</em> <b>inline</b> <b>struct</b> kernfs_node *</td></tr>
<tr><th id="388">388</th><td>kernfs_find_and_get_ns(<b>struct</b> kernfs_node *parent, <em>const</em> <em>char</em> *name,</td></tr>
<tr><th id="389">389</th><td>		       <em>const</em> <em>void</em> *ns)</td></tr>
<tr><th id="390">390</th><td>{ <b>return</b> NULL; }</td></tr>
<tr><th id="391">391</th><td><em>static</em> <b>inline</b> <b>struct</b> kernfs_node *</td></tr>
<tr><th id="392">392</th><td>kernfs_walk_and_get_ns(<b>struct</b> kernfs_node *parent, <em>const</em> <em>char</em> *path,</td></tr>
<tr><th id="393">393</th><td>		       <em>const</em> <em>void</em> *ns)</td></tr>
<tr><th id="394">394</th><td>{ <b>return</b> NULL; }</td></tr>
<tr><th id="395">395</th><td></td></tr>
<tr><th id="396">396</th><td><em>static</em> <b>inline</b> <em>void</em> kernfs_get(<b>struct</b> kernfs_node *kn) { }</td></tr>
<tr><th id="397">397</th><td><em>static</em> <b>inline</b> <em>void</em> kernfs_put(<b>struct</b> kernfs_node *kn) { }</td></tr>
<tr><th id="398">398</th><td></td></tr>
<tr><th id="399">399</th><td><em>static</em> <b>inline</b> <b>struct</b> kernfs_node *kernfs_node_from_dentry(<b>struct</b> dentry *dentry)</td></tr>
<tr><th id="400">400</th><td>{ <b>return</b> NULL; }</td></tr>
<tr><th id="401">401</th><td></td></tr>
<tr><th id="402">402</th><td><em>static</em> <b>inline</b> <b>struct</b> kernfs_root *kernfs_root_from_sb(<b>struct</b> super_block *sb)</td></tr>
<tr><th id="403">403</th><td>{ <b>return</b> NULL; }</td></tr>
<tr><th id="404">404</th><td></td></tr>
<tr><th id="405">405</th><td><em>static</em> <b>inline</b> <b>struct</b> inode *</td></tr>
<tr><th id="406">406</th><td>kernfs_get_inode(<b>struct</b> super_block *sb, <b>struct</b> kernfs_node *kn)</td></tr>
<tr><th id="407">407</th><td>{ <b>return</b> NULL; }</td></tr>
<tr><th id="408">408</th><td></td></tr>
<tr><th id="409">409</th><td><em>static</em> <b>inline</b> <b>struct</b> kernfs_root *</td></tr>
<tr><th id="410">410</th><td>kernfs_create_root(<b>struct</b> kernfs_syscall_ops *scops, <em>unsigned</em> <em>int</em> flags,</td></tr>
<tr><th id="411">411</th><td>		   <em>void</em> *priv)</td></tr>
<tr><th id="412">412</th><td>{ <b>return</b> ERR_PTR(-ENOSYS); }</td></tr>
<tr><th id="413">413</th><td></td></tr>
<tr><th id="414">414</th><td><em>static</em> <b>inline</b> <em>void</em> kernfs_destroy_root(<b>struct</b> kernfs_root *root) { }</td></tr>
<tr><th id="415">415</th><td></td></tr>
<tr><th id="416">416</th><td><em>static</em> <b>inline</b> <b>struct</b> kernfs_node *</td></tr>
<tr><th id="417">417</th><td>kernfs_create_dir_ns(<b>struct</b> kernfs_node *parent, <em>const</em> <em>char</em> *name,</td></tr>
<tr><th id="418">418</th><td>		     umode_t mode, <em>void</em> *priv, <em>const</em> <em>void</em> *ns)</td></tr>
<tr><th id="419">419</th><td>{ <b>return</b> ERR_PTR(-ENOSYS); }</td></tr>
<tr><th id="420">420</th><td></td></tr>
<tr><th id="421">421</th><td><em>static</em> <b>inline</b> <b>struct</b> kernfs_node *</td></tr>
<tr><th id="422">422</th><td>__kernfs_create_file(<b>struct</b> kernfs_node *parent, <em>const</em> <em>char</em> *name,</td></tr>
<tr><th id="423">423</th><td>		     umode_t mode, loff_t size, <em>const</em> <b>struct</b> kernfs_ops *ops,</td></tr>
<tr><th id="424">424</th><td>		     <em>void</em> *priv, <em>const</em> <em>void</em> *ns, <b>struct</b> lock_class_key *key)</td></tr>
<tr><th id="425">425</th><td>{ <b>return</b> ERR_PTR(-ENOSYS); }</td></tr>
<tr><th id="426">426</th><td></td></tr>
<tr><th id="427">427</th><td><em>static</em> <b>inline</b> <b>struct</b> kernfs_node *</td></tr>
<tr><th id="428">428</th><td>kernfs_create_link(<b>struct</b> kernfs_node *parent, <em>const</em> <em>char</em> *name,</td></tr>
<tr><th id="429">429</th><td>		   <b>struct</b> kernfs_node *target)</td></tr>
<tr><th id="430">430</th><td>{ <b>return</b> ERR_PTR(-ENOSYS); }</td></tr>
<tr><th id="431">431</th><td></td></tr>
<tr><th id="432">432</th><td><em>static</em> <b>inline</b> <em>void</em> kernfs_activate(<b>struct</b> kernfs_node *kn) { }</td></tr>
<tr><th id="433">433</th><td></td></tr>
<tr><th id="434">434</th><td><em>static</em> <b>inline</b> <em>void</em> kernfs_remove(<b>struct</b> kernfs_node *kn) { }</td></tr>
<tr><th id="435">435</th><td></td></tr>
<tr><th id="436">436</th><td><em>static</em> <b>inline</b> bool kernfs_remove_self(<b>struct</b> kernfs_node *kn)</td></tr>
<tr><th id="437">437</th><td>{ <b>return</b> false; }</td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td><em>static</em> <b>inline</b> <em>int</em> kernfs_remove_by_name_ns(<b>struct</b> kernfs_node *kn,</td></tr>
<tr><th id="440">440</th><td>					   <em>const</em> <em>char</em> *name, <em>const</em> <em>void</em> *ns)</td></tr>
<tr><th id="441">441</th><td>{ <b>return</b> -ENOSYS; }</td></tr>
<tr><th id="442">442</th><td></td></tr>
<tr><th id="443">443</th><td><em>static</em> <b>inline</b> <em>int</em> kernfs_rename_ns(<b>struct</b> kernfs_node *kn,</td></tr>
<tr><th id="444">444</th><td>				   <b>struct</b> kernfs_node *new_parent,</td></tr>
<tr><th id="445">445</th><td>				   <em>const</em> <em>char</em> *new_name, <em>const</em> <em>void</em> *new_ns)</td></tr>
<tr><th id="446">446</th><td>{ <b>return</b> -ENOSYS; }</td></tr>
<tr><th id="447">447</th><td></td></tr>
<tr><th id="448">448</th><td><em>static</em> <b>inline</b> <em>int</em> kernfs_setattr(<b>struct</b> kernfs_node *kn,</td></tr>
<tr><th id="449">449</th><td>				 <em>const</em> <b>struct</b> iattr *iattr)</td></tr>
<tr><th id="450">450</th><td>{ <b>return</b> -ENOSYS; }</td></tr>
<tr><th id="451">451</th><td></td></tr>
<tr><th id="452">452</th><td><em>static</em> <b>inline</b> <em>void</em> kernfs_notify(<b>struct</b> kernfs_node *kn) { }</td></tr>
<tr><th id="453">453</th><td></td></tr>
<tr><th id="454">454</th><td><em>static</em> <b>inline</b> <em>const</em> <em>void</em> *kernfs_super_ns(<b>struct</b> super_block *sb)</td></tr>
<tr><th id="455">455</th><td>{ <b>return</b> NULL; }</td></tr>
<tr><th id="456">456</th><td></td></tr>
<tr><th id="457">457</th><td><em>static</em> <b>inline</b> <b>struct</b> dentry *</td></tr>
<tr><th id="458">458</th><td>kernfs_mount_ns(<b>struct</b> file_system_type *fs_type, <em>int</em> flags,</td></tr>
<tr><th id="459">459</th><td>		<b>struct</b> kernfs_root *root, <em>unsigned</em> <em>long</em> magic,</td></tr>
<tr><th id="460">460</th><td>		bool *new_sb_created, <em>const</em> <em>void</em> *ns)</td></tr>
<tr><th id="461">461</th><td>{ <b>return</b> ERR_PTR(-ENOSYS); }</td></tr>
<tr><th id="462">462</th><td></td></tr>
<tr><th id="463">463</th><td><em>static</em> <b>inline</b> <em>void</em> kernfs_kill_sb(<b>struct</b> super_block *sb) { }</td></tr>
<tr><th id="464">464</th><td></td></tr>
<tr><th id="465">465</th><td><em>static</em> <b>inline</b> <em>void</em> kernfs_init(<em>void</em>) { }</td></tr>
<tr><th id="466">466</th><td></td></tr>
<tr><th id="467">467</th><td><u>#<span data-ppcond="270">endif</span>	/* CONFIG_KERNFS */</u></td></tr>
<tr><th id="468">468</th><td></td></tr>
<tr><th id="469">469</th><td><i class="doc">/**</i></td></tr>
<tr><th id="470">470</th><td><i class="doc"> * kernfs_path - build full path of a given node</i></td></tr>
<tr><th id="471">471</th><td><i class="doc"> * <span class="command">@kn</span>:<span class="verb"> kernfs_node of interest</span></i></td></tr>
<tr><th id="472">472</th><td><i class="doc"> * <span class="command">@buf</span>: buffer to copy <span class="command">@kn</span>'<span class="verb">s name into</span></i></td></tr>
<tr><th id="473">473</th><td><i class="doc"> *<span class="command"> @buflen</span>: size of <span class="command">@buf</span></i></td></tr>
<tr><th id="474">474</th><td><i class="doc"> *</i></td></tr>
<tr><th id="475">475</th><td><i class="doc"> * Builds and returns the full path of <span class="command">@kn</span> <span class="verb">in @buf of @buflen bytes.  The</span></i></td></tr>
<tr><th id="476">476</th><td><i class="doc"> * path is built from the end of <span class="command">@buf</span> so the returned pointer usually</i></td></tr>
<tr><th id="477">477</th><td><i class="doc"> * doesn't match <span class="command">@buf</span>.  If <span class="command">@buf</span> isn't long enough, <span class="command">@buf</span> is nul terminated</i></td></tr>
<tr><th id="478">478</th><td><i class="doc"> * and %NULL is returned.</i></td></tr>
<tr><th id="479">479</th><td><i class="doc"> */</i></td></tr>
<tr><th id="480">480</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <em>int</em> <dfn class="decl def fn" id="kernfs_path" title='kernfs_path' data-ref="kernfs_path">kernfs_path</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col3 decl" id="1033kn" title='kn' data-type='struct kernfs_node *' data-ref="1033kn">kn</dfn>, <em>char</em> *<dfn class="local col4 decl" id="1034buf" title='buf' data-type='char *' data-ref="1034buf">buf</dfn>, <a class="typedef" href="types.h.html#size_t" title='size_t' data-type='__kernel_size_t' data-ref="size_t">size_t</a> <dfn class="local col5 decl" id="1035buflen" title='buflen' data-type='size_t' data-ref="1035buflen">buflen</dfn>)</td></tr>
<tr><th id="481">481</th><td>{</td></tr>
<tr><th id="482">482</th><td>	<b>return</b> <a class="ref fn" href="#kernfs_path_from_node" title='kernfs_path_from_node' data-ref="kernfs_path_from_node">kernfs_path_from_node</a>(<a class="local col3 ref" href="#1033kn" title='kn' data-ref="1033kn">kn</a>, <a class="macro" href="stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>, <a class="local col4 ref" href="#1034buf" title='buf' data-ref="1034buf">buf</a>, <a class="local col5 ref" href="#1035buflen" title='buflen' data-ref="1035buflen">buflen</a>);</td></tr>
<tr><th id="483">483</th><td>}</td></tr>
<tr><th id="484">484</th><td></td></tr>
<tr><th id="485">485</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *</td></tr>
<tr><th id="486">486</th><td><dfn class="decl def fn" id="kernfs_find_and_get" title='kernfs_find_and_get' data-ref="kernfs_find_and_get">kernfs_find_and_get</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col6 decl" id="1036kn" title='kn' data-type='struct kernfs_node *' data-ref="1036kn">kn</dfn>, <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="1037name" title='name' data-type='const char *' data-ref="1037name">name</dfn>)</td></tr>
<tr><th id="487">487</th><td>{</td></tr>
<tr><th id="488">488</th><td>	<b>return</b> <a class="ref fn" href="#kernfs_find_and_get_ns" title='kernfs_find_and_get_ns' data-ref="kernfs_find_and_get_ns">kernfs_find_and_get_ns</a>(<a class="local col6 ref" href="#1036kn" title='kn' data-ref="1036kn">kn</a>, <a class="local col7 ref" href="#1037name" title='name' data-ref="1037name">name</a>, <a class="macro" href="stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>);</td></tr>
<tr><th id="489">489</th><td>}</td></tr>
<tr><th id="490">490</th><td></td></tr>
<tr><th id="491">491</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *</td></tr>
<tr><th id="492">492</th><td><dfn class="decl def fn" id="kernfs_walk_and_get" title='kernfs_walk_and_get' data-ref="kernfs_walk_and_get">kernfs_walk_and_get</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col8 decl" id="1038kn" title='kn' data-type='struct kernfs_node *' data-ref="1038kn">kn</dfn>, <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="1039path" title='path' data-type='const char *' data-ref="1039path">path</dfn>)</td></tr>
<tr><th id="493">493</th><td>{</td></tr>
<tr><th id="494">494</th><td>	<b>return</b> <a class="ref fn" href="#kernfs_walk_and_get_ns" title='kernfs_walk_and_get_ns' data-ref="kernfs_walk_and_get_ns">kernfs_walk_and_get_ns</a>(<a class="local col8 ref" href="#1038kn" title='kn' data-ref="1038kn">kn</a>, <a class="local col9 ref" href="#1039path" title='path' data-ref="1039path">path</a>, <a class="macro" href="stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>);</td></tr>
<tr><th id="495">495</th><td>}</td></tr>
<tr><th id="496">496</th><td></td></tr>
<tr><th id="497">497</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *</td></tr>
<tr><th id="498">498</th><td><dfn class="decl def fn" id="kernfs_create_dir" title='kernfs_create_dir' data-ref="kernfs_create_dir">kernfs_create_dir</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col0 decl" id="1040parent" title='parent' data-type='struct kernfs_node *' data-ref="1040parent">parent</dfn>, <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="1041name" title='name' data-type='const char *' data-ref="1041name">name</dfn>, <a class="typedef" href="types.h.html#umode_t" title='umode_t' data-type='unsigned short' data-ref="umode_t">umode_t</a> <dfn class="local col2 decl" id="1042mode" title='mode' data-type='umode_t' data-ref="1042mode">mode</dfn>,</td></tr>
<tr><th id="499">499</th><td>		  <em>void</em> *<dfn class="local col3 decl" id="1043priv" title='priv' data-type='void *' data-ref="1043priv">priv</dfn>)</td></tr>
<tr><th id="500">500</th><td>{</td></tr>
<tr><th id="501">501</th><td>	<b>return</b> <a class="ref fn" href="#kernfs_create_dir_ns" title='kernfs_create_dir_ns' data-ref="kernfs_create_dir_ns">kernfs_create_dir_ns</a>(<a class="local col0 ref" href="#1040parent" title='parent' data-ref="1040parent">parent</a>, <a class="local col1 ref" href="#1041name" title='name' data-ref="1041name">name</a>, <a class="local col2 ref" href="#1042mode" title='mode' data-ref="1042mode">mode</a>, <a class="local col3 ref" href="#1043priv" title='priv' data-ref="1043priv">priv</a>, <a class="macro" href="stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>);</td></tr>
<tr><th id="502">502</th><td>}</td></tr>
<tr><th id="503">503</th><td></td></tr>
<tr><th id="504">504</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *</td></tr>
<tr><th id="505">505</th><td><dfn class="decl def fn" id="kernfs_create_file_ns" title='kernfs_create_file_ns' data-ref="kernfs_create_file_ns">kernfs_create_file_ns</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col4 decl" id="1044parent" title='parent' data-type='struct kernfs_node *' data-ref="1044parent">parent</dfn>, <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="1045name" title='name' data-type='const char *' data-ref="1045name">name</dfn>,</td></tr>
<tr><th id="506">506</th><td>		      <a class="typedef" href="types.h.html#umode_t" title='umode_t' data-type='unsigned short' data-ref="umode_t">umode_t</a> <dfn class="local col6 decl" id="1046mode" title='mode' data-type='umode_t' data-ref="1046mode">mode</dfn>, <a class="typedef" href="types.h.html#loff_t" title='loff_t' data-type='__kernel_loff_t' data-ref="loff_t">loff_t</a> <dfn class="local col7 decl" id="1047size" title='size' data-type='loff_t' data-ref="1047size">size</dfn>, <em>const</em> <b>struct</b> <a class="type" href="#kernfs_ops" title='kernfs_ops' data-ref="kernfs_ops">kernfs_ops</a> *<dfn class="local col8 decl" id="1048ops" title='ops' data-type='const struct kernfs_ops *' data-ref="1048ops">ops</dfn>,</td></tr>
<tr><th id="507">507</th><td>		      <em>void</em> *<dfn class="local col9 decl" id="1049priv" title='priv' data-type='void *' data-ref="1049priv">priv</dfn>, <em>const</em> <em>void</em> *<dfn class="local col0 decl" id="1050ns" title='ns' data-type='const void *' data-ref="1050ns">ns</dfn>)</td></tr>
<tr><th id="508">508</th><td>{</td></tr>
<tr><th id="509">509</th><td>	<b>struct</b> <a class="type" href="lockdep.h.html#lock_class_key" title='lock_class_key' data-ref="lock_class_key">lock_class_key</a> *<dfn class="local col1 decl" id="1051key" title='key' data-type='struct lock_class_key *' data-ref="1051key">key</dfn> = <a class="macro" href="stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>;</td></tr>
<tr><th id="510">510</th><td></td></tr>
<tr><th id="511">511</th><td><u>#<span data-ppcond="511">ifdef</span> <span class="macro" data-ref="_M/CONFIG_DEBUG_LOCK_ALLOC">CONFIG_DEBUG_LOCK_ALLOC</span></u></td></tr>
<tr><th id="512">512</th><td>	key = (<b>struct</b> lock_class_key *)&amp;ops-&gt;lockdep_key;</td></tr>
<tr><th id="513">513</th><td><u>#<span data-ppcond="511">endif</span></u></td></tr>
<tr><th id="514">514</th><td>	<b>return</b> <a class="ref fn" href="#__kernfs_create_file" title='__kernfs_create_file' data-ref="__kernfs_create_file">__kernfs_create_file</a>(<a class="local col4 ref" href="#1044parent" title='parent' data-ref="1044parent">parent</a>, <a class="local col5 ref" href="#1045name" title='name' data-ref="1045name">name</a>, <a class="local col6 ref" href="#1046mode" title='mode' data-ref="1046mode">mode</a>, <a class="local col7 ref" href="#1047size" title='size' data-ref="1047size">size</a>, <a class="local col8 ref" href="#1048ops" title='ops' data-ref="1048ops">ops</a>, <a class="local col9 ref" href="#1049priv" title='priv' data-ref="1049priv">priv</a>, <a class="local col0 ref" href="#1050ns" title='ns' data-ref="1050ns">ns</a>,</td></tr>
<tr><th id="515">515</th><td>				    <a class="local col1 ref" href="#1051key" title='key' data-ref="1051key">key</a>);</td></tr>
<tr><th id="516">516</th><td>}</td></tr>
<tr><th id="517">517</th><td></td></tr>
<tr><th id="518">518</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *</td></tr>
<tr><th id="519">519</th><td><dfn class="decl def fn" id="kernfs_create_file" title='kernfs_create_file' data-ref="kernfs_create_file">kernfs_create_file</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col2 decl" id="1052parent" title='parent' data-type='struct kernfs_node *' data-ref="1052parent">parent</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="1053name" title='name' data-type='const char *' data-ref="1053name">name</dfn>, <a class="typedef" href="types.h.html#umode_t" title='umode_t' data-type='unsigned short' data-ref="umode_t">umode_t</a> <dfn class="local col4 decl" id="1054mode" title='mode' data-type='umode_t' data-ref="1054mode">mode</dfn>,</td></tr>
<tr><th id="520">520</th><td>		   <a class="typedef" href="types.h.html#loff_t" title='loff_t' data-type='__kernel_loff_t' data-ref="loff_t">loff_t</a> <dfn class="local col5 decl" id="1055size" title='size' data-type='loff_t' data-ref="1055size">size</dfn>, <em>const</em> <b>struct</b> <a class="type" href="#kernfs_ops" title='kernfs_ops' data-ref="kernfs_ops">kernfs_ops</a> *<dfn class="local col6 decl" id="1056ops" title='ops' data-type='const struct kernfs_ops *' data-ref="1056ops">ops</dfn>, <em>void</em> *<dfn class="local col7 decl" id="1057priv" title='priv' data-type='void *' data-ref="1057priv">priv</dfn>)</td></tr>
<tr><th id="521">521</th><td>{</td></tr>
<tr><th id="522">522</th><td>	<b>return</b> <a class="ref fn" href="#kernfs_create_file_ns" title='kernfs_create_file_ns' data-ref="kernfs_create_file_ns">kernfs_create_file_ns</a>(<a class="local col2 ref" href="#1052parent" title='parent' data-ref="1052parent">parent</a>, <a class="local col3 ref" href="#1053name" title='name' data-ref="1053name">name</a>, <a class="local col4 ref" href="#1054mode" title='mode' data-ref="1054mode">mode</a>, <a class="local col5 ref" href="#1055size" title='size' data-ref="1055size">size</a>, <a class="local col6 ref" href="#1056ops" title='ops' data-ref="1056ops">ops</a>, <a class="local col7 ref" href="#1057priv" title='priv' data-ref="1057priv">priv</a>, <a class="macro" href="stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>);</td></tr>
<tr><th id="523">523</th><td>}</td></tr>
<tr><th id="524">524</th><td></td></tr>
<tr><th id="525">525</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <em>int</em> <dfn class="decl def fn" id="kernfs_remove_by_name" title='kernfs_remove_by_name' data-ref="kernfs_remove_by_name">kernfs_remove_by_name</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col8 decl" id="1058parent" title='parent' data-type='struct kernfs_node *' data-ref="1058parent">parent</dfn>,</td></tr>
<tr><th id="526">526</th><td>					<em>const</em> <em>char</em> *<dfn class="local col9 decl" id="1059name" title='name' data-type='const char *' data-ref="1059name">name</dfn>)</td></tr>
<tr><th id="527">527</th><td>{</td></tr>
<tr><th id="528">528</th><td>	<b>return</b> <a class="ref fn" href="#kernfs_remove_by_name_ns" title='kernfs_remove_by_name_ns' data-ref="kernfs_remove_by_name_ns">kernfs_remove_by_name_ns</a>(<a class="local col8 ref" href="#1058parent" title='parent' data-ref="1058parent">parent</a>, <a class="local col9 ref" href="#1059name" title='name' data-ref="1059name">name</a>, <a class="macro" href="stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>);</td></tr>
<tr><th id="529">529</th><td>}</td></tr>
<tr><th id="530">530</th><td></td></tr>
<tr><th id="531">531</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <em>int</em> <dfn class="decl def fn" id="kernfs_rename" title='kernfs_rename' data-ref="kernfs_rename">kernfs_rename</dfn>(<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col0 decl" id="1060kn" title='kn' data-type='struct kernfs_node *' data-ref="1060kn">kn</dfn>,</td></tr>
<tr><th id="532">532</th><td>				<b>struct</b> <a class="type" href="#kernfs_node" title='kernfs_node' data-ref="kernfs_node">kernfs_node</a> *<dfn class="local col1 decl" id="1061new_parent" title='new_parent' data-type='struct kernfs_node *' data-ref="1061new_parent">new_parent</dfn>,</td></tr>
<tr><th id="533">533</th><td>				<em>const</em> <em>char</em> *<dfn class="local col2 decl" id="1062new_name" title='new_name' data-type='const char *' data-ref="1062new_name">new_name</dfn>)</td></tr>
<tr><th id="534">534</th><td>{</td></tr>
<tr><th id="535">535</th><td>	<b>return</b> <a class="ref fn" href="#kernfs_rename_ns" title='kernfs_rename_ns' data-ref="kernfs_rename_ns">kernfs_rename_ns</a>(<a class="local col0 ref" href="#1060kn" title='kn' data-ref="1060kn">kn</a>, <a class="local col1 ref" href="#1061new_parent" title='new_parent' data-ref="1061new_parent">new_parent</a>, <a class="local col2 ref" href="#1062new_name" title='new_name' data-ref="1062new_name">new_name</a>, <a class="macro" href="stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>);</td></tr>
<tr><th id="536">536</th><td>}</td></tr>
<tr><th id="537">537</th><td></td></tr>
<tr><th id="538">538</th><td><em>static</em> <a class="macro" href="compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function)) __attribute__((gnu_inline))" data-ref="_M/inline"><b>inline</b></a> <b>struct</b> <a class="type" href="dcache.h.html#dentry" title='dentry' data-ref="dentry">dentry</a> *</td></tr>
<tr><th id="539">539</th><td><dfn class="decl def fn" id="kernfs_mount" title='kernfs_mount' data-ref="kernfs_mount">kernfs_mount</dfn>(<b>struct</b> <a class="type" href="fs.h.html#file_system_type" title='file_system_type' data-ref="file_system_type">file_system_type</a> *<dfn class="local col3 decl" id="1063fs_type" title='fs_type' data-type='struct file_system_type *' data-ref="1063fs_type">fs_type</dfn>, <em>int</em> <dfn class="local col4 decl" id="1064flags" title='flags' data-type='int' data-ref="1064flags">flags</dfn>,</td></tr>
<tr><th id="540">540</th><td>		<b>struct</b> <a class="type" href="#kernfs_root" title='kernfs_root' data-ref="kernfs_root">kernfs_root</a> *<dfn class="local col5 decl" id="1065root" title='root' data-type='struct kernfs_root *' data-ref="1065root">root</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col6 decl" id="1066magic" title='magic' data-type='unsigned long' data-ref="1066magic">magic</dfn>,</td></tr>
<tr><th id="541">541</th><td>		<a class="typedef" href="types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> *<dfn class="local col7 decl" id="1067new_sb_created" title='new_sb_created' data-type='bool *' data-ref="1067new_sb_created">new_sb_created</dfn>)</td></tr>
<tr><th id="542">542</th><td>{</td></tr>
<tr><th id="543">543</th><td>	<b>return</b> <a class="ref fn" href="#kernfs_mount_ns" title='kernfs_mount_ns' data-ref="kernfs_mount_ns">kernfs_mount_ns</a>(<a class="local col3 ref" href="#1063fs_type" title='fs_type' data-ref="1063fs_type">fs_type</a>, <a class="local col4 ref" href="#1064flags" title='flags' data-ref="1064flags">flags</a>, <a class="local col5 ref" href="#1065root" title='root' data-ref="1065root">root</a>,</td></tr>
<tr><th id="544">544</th><td>				<a class="local col6 ref" href="#1066magic" title='magic' data-ref="1066magic">magic</a>, <a class="local col7 ref" href="#1067new_sb_created" title='new_sb_created' data-ref="1067new_sb_created">new_sb_created</a>, <a class="macro" href="stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>);</td></tr>
<tr><th id="545">545</th><td>}</td></tr>
<tr><th id="546">546</th><td></td></tr>
<tr><th id="547">547</th><td><u>#<span data-ppcond="7">endif</span>	/* __LINUX_KERNFS_H */</u></td></tr>
<tr><th id="548">548</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../arch/x86/boot/compressed/kaslr.c.html'>linux-4.14.y/arch/x86/boot/compressed/kaslr.c</a><br/>Generated on <em>2018-Aug-05</em> from project linux-4.14.y revision <em>linux-4.14.y</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
