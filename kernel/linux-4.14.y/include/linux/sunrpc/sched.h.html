<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>sched.h source code [linux-4.14.y/include/linux/sunrpc/sched.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="rpc_call_ops,rpc_message,rpc_task,rpc_task_setup,rpc_timer,rpc_wait,rpc_wait_queue "/>
<link rel="stylesheet" href="../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'linux-4.14.y/include/linux/sunrpc/sched.h'; var root_path = '../../../..'; var data_path = '../../../../../data';</script>
<script src='../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>linux-4.14.y</a>/<a href='../..'>include</a>/<a href='..'>linux</a>/<a href='./'>sunrpc</a>/<a href='sched.h.html'>sched.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* SPDX-License-Identifier: GPL-2.0 */</i></td></tr>
<tr><th id="2">2</th><td><i>/*</i></td></tr>
<tr><th id="3">3</th><td><i> * linux/include/linux/sunrpc/sched.h</i></td></tr>
<tr><th id="4">4</th><td><i> *</i></td></tr>
<tr><th id="5">5</th><td><i> * Scheduling primitives for kernel Sun RPC.</i></td></tr>
<tr><th id="6">6</th><td><i> *</i></td></tr>
<tr><th id="7">7</th><td><i> * Copyright (C) 1996, Olaf Kirch &lt;okir@monad.swb.de&gt;</i></td></tr>
<tr><th id="8">8</th><td><i> */</i></td></tr>
<tr><th id="9">9</th><td></td></tr>
<tr><th id="10">10</th><td><u>#<span data-ppcond="10">ifndef</span> <span class="macro" data-ref="_M/_LINUX_SUNRPC_SCHED_H_">_LINUX_SUNRPC_SCHED_H_</span></u></td></tr>
<tr><th id="11">11</th><td><u>#define <dfn class="macro" id="_M/_LINUX_SUNRPC_SCHED_H_" data-ref="_M/_LINUX_SUNRPC_SCHED_H_">_LINUX_SUNRPC_SCHED_H_</dfn></u></td></tr>
<tr><th id="12">12</th><td></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="../timer.h.html">&lt;linux/timer.h&gt;</a></u></td></tr>
<tr><th id="14">14</th><td><u>#include <a href="../ktime.h.html">&lt;linux/ktime.h&gt;</a></u></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="types.h.html">&lt;linux/sunrpc/types.h&gt;</a></u></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="../spinlock.h.html">&lt;linux/spinlock.h&gt;</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="../wait_bit.h.html">&lt;linux/wait_bit.h&gt;</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../workqueue.h.html">&lt;linux/workqueue.h&gt;</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="xdr.h.html">&lt;linux/sunrpc/xdr.h&gt;</a></u></td></tr>
<tr><th id="20">20</th><td></td></tr>
<tr><th id="21">21</th><td><i>/*</i></td></tr>
<tr><th id="22">22</th><td><i> * This is the actual RPC procedure call info.</i></td></tr>
<tr><th id="23">23</th><td><i> */</i></td></tr>
<tr><th id="24">24</th><td><b>struct</b> <a class="type" href="clnt.h.html#rpc_procinfo" title='rpc_procinfo' data-ref="rpc_procinfo" id="rpc_procinfo">rpc_procinfo</a>;</td></tr>
<tr><th id="25">25</th><td><b>struct</b> <dfn class="type def" id="rpc_message" title='rpc_message' data-ref="rpc_message">rpc_message</dfn> {</td></tr>
<tr><th id="26">26</th><td>	<em>const</em> <b>struct</b> <a class="type" href="clnt.h.html#rpc_procinfo" title='rpc_procinfo' data-ref="rpc_procinfo">rpc_procinfo</a> *<dfn class="decl field" id="rpc_message::rpc_proc" title='rpc_message::rpc_proc' data-ref="rpc_message::rpc_proc">rpc_proc</dfn>;	<i>/* Procedure information */</i></td></tr>
<tr><th id="27">27</th><td>	<em>void</em> *			<dfn class="decl field" id="rpc_message::rpc_argp" title='rpc_message::rpc_argp' data-ref="rpc_message::rpc_argp">rpc_argp</dfn>;	<i>/* Arguments */</i></td></tr>
<tr><th id="28">28</th><td>	<em>void</em> *			<dfn class="decl field" id="rpc_message::rpc_resp" title='rpc_message::rpc_resp' data-ref="rpc_message::rpc_resp">rpc_resp</dfn>;	<i>/* Result */</i></td></tr>
<tr><th id="29">29</th><td>	<b>struct</b> <a class="type" href="auth.h.html#rpc_cred" title='rpc_cred' data-ref="rpc_cred" id="rpc_cred"><a class="type" href="auth.h.html#rpc_cred" title='rpc_cred' data-ref="rpc_cred">rpc_cred</a></a> *	<dfn class="decl field" id="rpc_message::rpc_cred" title='rpc_message::rpc_cred' data-ref="rpc_message::rpc_cred">rpc_cred</dfn>;	<i>/* Credentials */</i></td></tr>
<tr><th id="30">30</th><td>};</td></tr>
<tr><th id="31">31</th><td></td></tr>
<tr><th id="32">32</th><td><b>struct</b> <a class="type" href="#rpc_call_ops" title='rpc_call_ops' data-ref="rpc_call_ops">rpc_call_ops</a>;</td></tr>
<tr><th id="33">33</th><td><b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a>;</td></tr>
<tr><th id="34">34</th><td><b>struct</b> <dfn class="type def" id="rpc_wait" title='rpc_wait' data-ref="rpc_wait">rpc_wait</dfn> {</td></tr>
<tr><th id="35">35</th><td>	<b>struct</b> <a class="type" href="../types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a>	<dfn class="decl field" id="rpc_wait::list" title='rpc_wait::list' data-ref="rpc_wait::list">list</dfn>;		<i>/* wait queue links */</i></td></tr>
<tr><th id="36">36</th><td>	<b>struct</b> <a class="type" href="../types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a>	<dfn class="decl field" id="rpc_wait::links" title='rpc_wait::links' data-ref="rpc_wait::links">links</dfn>;		<i>/* Links to related tasks */</i></td></tr>
<tr><th id="37">37</th><td>	<b>struct</b> <a class="type" href="../types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a>	<dfn class="decl field" id="rpc_wait::timer_list" title='rpc_wait::timer_list' data-ref="rpc_wait::timer_list">timer_list</dfn>;	<i>/* Timer list */</i></td></tr>
<tr><th id="38">38</th><td>	<em>unsigned</em> <em>long</em>		<dfn class="decl field" id="rpc_wait::expires" title='rpc_wait::expires' data-ref="rpc_wait::expires">expires</dfn>;</td></tr>
<tr><th id="39">39</th><td>};</td></tr>
<tr><th id="40">40</th><td></td></tr>
<tr><th id="41">41</th><td><i>/*</i></td></tr>
<tr><th id="42">42</th><td><i> * This is the RPC task struct</i></td></tr>
<tr><th id="43">43</th><td><i> */</i></td></tr>
<tr><th id="44">44</th><td><b>struct</b> <dfn class="type def" id="rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</dfn> {</td></tr>
<tr><th id="45">45</th><td>	<a class="typedef" href="../types.h.html#atomic_t" title='atomic_t' data-type='struct atomic_t' data-ref="atomic_t">atomic_t</a>		<dfn class="decl field" id="rpc_task::tk_count" title='rpc_task::tk_count' data-ref="rpc_task::tk_count">tk_count</dfn>;	<i>/* Reference count */</i></td></tr>
<tr><th id="46">46</th><td>	<em>int</em>			<dfn class="decl field" id="rpc_task::tk_status" title='rpc_task::tk_status' data-ref="rpc_task::tk_status">tk_status</dfn>;	<i>/* result of last operation */</i></td></tr>
<tr><th id="47">47</th><td>	<b>struct</b> <a class="type" href="../types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a>	<dfn class="decl field" id="rpc_task::tk_task" title='rpc_task::tk_task' data-ref="rpc_task::tk_task">tk_task</dfn>;	<i>/* global list of tasks */</i></td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td>	<i>/*</i></td></tr>
<tr><th id="50">50</th><td><i>	 * callback	to be executed after waking up</i></td></tr>
<tr><th id="51">51</th><td><i>	 * action	next procedure for async tasks</i></td></tr>
<tr><th id="52">52</th><td><i>	 */</i></td></tr>
<tr><th id="53">53</th><td>	<em>void</em>			(*<dfn class="decl field" id="rpc_task::tk_callback" title='rpc_task::tk_callback' data-ref="rpc_task::tk_callback">tk_callback</dfn>)(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *);</td></tr>
<tr><th id="54">54</th><td>	<em>void</em>			(*<dfn class="decl field" id="rpc_task::tk_action" title='rpc_task::tk_action' data-ref="rpc_task::tk_action">tk_action</dfn>)(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *);</td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td>	<em>unsigned</em> <em>long</em>		<dfn class="decl field" id="rpc_task::tk_timeout" title='rpc_task::tk_timeout' data-ref="rpc_task::tk_timeout">tk_timeout</dfn>;	<i>/* timeout for rpc_sleep() */</i></td></tr>
<tr><th id="57">57</th><td>	<em>unsigned</em> <em>long</em>		<dfn class="decl field" id="rpc_task::tk_runstate" title='rpc_task::tk_runstate' data-ref="rpc_task::tk_runstate">tk_runstate</dfn>;	<i>/* Task run status */</i></td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td>	<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> 	*<dfn class="decl field" id="rpc_task::tk_waitqueue" title='rpc_task::tk_waitqueue' data-ref="rpc_task::tk_waitqueue">tk_waitqueue</dfn>;	<i>/* RPC wait queue we're on */</i></td></tr>
<tr><th id="60">60</th><td>	<b>union</b> {</td></tr>
<tr><th id="61">61</th><td>		<b>struct</b> <a class="type" href="../workqueue.h.html#work_struct" title='work_struct' data-ref="work_struct">work_struct</a>	<dfn class="decl field" id="rpc_task::(anonymous)::tk_work" title='rpc_task::(anonymous union)::tk_work' data-ref="rpc_task::(anonymous)::tk_work">tk_work</dfn>;	<i>/* Async task work queue */</i></td></tr>
<tr><th id="62">62</th><td>		<b>struct</b> <a class="type" href="#rpc_wait" title='rpc_wait' data-ref="rpc_wait">rpc_wait</a>		<dfn class="decl field" id="rpc_task::(anonymous)::tk_wait" title='rpc_task::(anonymous union)::tk_wait' data-ref="rpc_task::(anonymous)::tk_wait">tk_wait</dfn>;	<i>/* RPC wait */</i></td></tr>
<tr><th id="63">63</th><td>	} <dfn class="decl field" id="rpc_task::u" title='rpc_task::u' data-ref="rpc_task::u">u</dfn>;</td></tr>
<tr><th id="64">64</th><td></td></tr>
<tr><th id="65">65</th><td>	<i>/*</i></td></tr>
<tr><th id="66">66</th><td><i>	 * RPC call state</i></td></tr>
<tr><th id="67">67</th><td><i>	 */</i></td></tr>
<tr><th id="68">68</th><td>	<b>struct</b> <a class="type" href="#rpc_message" title='rpc_message' data-ref="rpc_message">rpc_message</a>	<dfn class="decl field" id="rpc_task::tk_msg" title='rpc_task::tk_msg' data-ref="rpc_task::tk_msg">tk_msg</dfn>;		<i>/* RPC call info */</i></td></tr>
<tr><th id="69">69</th><td>	<em>void</em> *			<dfn class="decl field" id="rpc_task::tk_calldata" title='rpc_task::tk_calldata' data-ref="rpc_task::tk_calldata">tk_calldata</dfn>;	<i>/* Caller private data */</i></td></tr>
<tr><th id="70">70</th><td>	<em>const</em> <b>struct</b> <a class="type" href="#rpc_call_ops" title='rpc_call_ops' data-ref="rpc_call_ops">rpc_call_ops</a> *<dfn class="decl field" id="rpc_task::tk_ops" title='rpc_task::tk_ops' data-ref="rpc_task::tk_ops">tk_ops</dfn>;	<i>/* Caller callbacks */</i></td></tr>
<tr><th id="71">71</th><td></td></tr>
<tr><th id="72">72</th><td>	<b>struct</b> <a class="type" href="clnt.h.html#rpc_clnt" title='rpc_clnt' data-ref="rpc_clnt">rpc_clnt</a> *	<dfn class="decl field" id="rpc_task::tk_client" title='rpc_task::tk_client' data-ref="rpc_task::tk_client">tk_client</dfn>;	<i>/* RPC client */</i></td></tr>
<tr><th id="73">73</th><td>	<b>struct</b> <a class="type" href="xprt.h.html#rpc_xprt" title='rpc_xprt' data-ref="rpc_xprt">rpc_xprt</a> *	<dfn class="decl field" id="rpc_task::tk_xprt" title='rpc_task::tk_xprt' data-ref="rpc_task::tk_xprt">tk_xprt</dfn>;	<i>/* Transport */</i></td></tr>
<tr><th id="74">74</th><td></td></tr>
<tr><th id="75">75</th><td>	<b>struct</b> <a class="type" href="xprt.h.html#rpc_rqst" title='rpc_rqst' data-ref="rpc_rqst">rpc_rqst</a> *	<dfn class="decl field" id="rpc_task::tk_rqstp" title='rpc_task::tk_rqstp' data-ref="rpc_task::tk_rqstp">tk_rqstp</dfn>;	<i>/* RPC request */</i></td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td>	<b>struct</b> <a class="type" href="../workqueue.h.html#workqueue_struct" title='workqueue_struct' data-ref="workqueue_struct">workqueue_struct</a>	*<dfn class="decl field" id="rpc_task::tk_workqueue" title='rpc_task::tk_workqueue' data-ref="rpc_task::tk_workqueue">tk_workqueue</dfn>;	<i>/* Normally rpciod, but could</i></td></tr>
<tr><th id="78">78</th><td><i>						 * be any workqueue</i></td></tr>
<tr><th id="79">79</th><td><i>						 */</i></td></tr>
<tr><th id="80">80</th><td>	<a class="typedef" href="../ktime.h.html#ktime_t" title='ktime_t' data-type='s64' data-ref="ktime_t">ktime_t</a>			<dfn class="decl field" id="rpc_task::tk_start" title='rpc_task::tk_start' data-ref="rpc_task::tk_start">tk_start</dfn>;	<i>/* RPC task init timestamp */</i></td></tr>
<tr><th id="81">81</th><td></td></tr>
<tr><th id="82">82</th><td>	<a class="typedef" href="../types.h.html#pid_t" title='pid_t' data-type='__kernel_pid_t' data-ref="pid_t">pid_t</a>			<dfn class="decl field" id="rpc_task::tk_owner" title='rpc_task::tk_owner' data-ref="rpc_task::tk_owner">tk_owner</dfn>;	<i>/* Process id for batching tasks */</i></td></tr>
<tr><th id="83">83</th><td>	<em>unsigned</em> <em>short</em>		<dfn class="decl field" id="rpc_task::tk_flags" title='rpc_task::tk_flags' data-ref="rpc_task::tk_flags">tk_flags</dfn>;	<i>/* misc flags */</i></td></tr>
<tr><th id="84">84</th><td>	<em>unsigned</em> <em>short</em>		<dfn class="decl field" id="rpc_task::tk_timeouts" title='rpc_task::tk_timeouts' data-ref="rpc_task::tk_timeouts">tk_timeouts</dfn>;	<i>/* maj timeouts */</i></td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td><u>#<span data-ppcond="86">if</span> <a class="macro" href="../kconfig.h.html#71" title="0" data-ref="_M/IS_ENABLED">IS_ENABLED</a>(CONFIG_SUNRPC_DEBUG) || <a class="macro" href="../kconfig.h.html#71" title="1" data-ref="_M/IS_ENABLED">IS_ENABLED</a>(<a class="macro" href="../../generated/autoconf.h.html#148" title="1" data-ref="_M/CONFIG_TRACEPOINTS">CONFIG_TRACEPOINTS</a>)</u></td></tr>
<tr><th id="87">87</th><td>	<em>unsigned</em> <em>short</em>		<dfn class="decl field" id="rpc_task::tk_pid" title='rpc_task::tk_pid' data-ref="rpc_task::tk_pid">tk_pid</dfn>;		<i>/* debugging aid */</i></td></tr>
<tr><th id="88">88</th><td><u>#<span data-ppcond="86">endif</span></u></td></tr>
<tr><th id="89">89</th><td>	<em>unsigned</em> <em>char</em>		<dfn class="decl field" id="rpc_task::tk_priority" title='rpc_task::tk_priority' data-ref="rpc_task::tk_priority">tk_priority</dfn> : <var>2</var>,<i>/* Task priority */</i></td></tr>
<tr><th id="90">90</th><td>				<dfn class="decl field" id="rpc_task::tk_garb_retry" title='rpc_task::tk_garb_retry' data-ref="rpc_task::tk_garb_retry">tk_garb_retry</dfn> : <var>2</var>,</td></tr>
<tr><th id="91">91</th><td>				<dfn class="decl field" id="rpc_task::tk_cred_retry" title='rpc_task::tk_cred_retry' data-ref="rpc_task::tk_cred_retry">tk_cred_retry</dfn> : <var>2</var>,</td></tr>
<tr><th id="92">92</th><td>				<dfn class="decl field" id="rpc_task::tk_rebind_retry" title='rpc_task::tk_rebind_retry' data-ref="rpc_task::tk_rebind_retry">tk_rebind_retry</dfn> : <var>2</var>;</td></tr>
<tr><th id="93">93</th><td>};</td></tr>
<tr><th id="94">94</th><td></td></tr>
<tr><th id="95">95</th><td><b>typedef</b> <em>void</em>			(*<dfn class="typedef" id="rpc_action" title='rpc_action' data-type='void (*)(struct rpc_task *)' data-ref="rpc_action">rpc_action</dfn>)(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *);</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td><b>struct</b> <dfn class="type def" id="rpc_call_ops" title='rpc_call_ops' data-ref="rpc_call_ops">rpc_call_ops</dfn> {</td></tr>
<tr><th id="98">98</th><td>	<em>void</em> (*<dfn class="decl field" id="rpc_call_ops::rpc_call_prepare" title='rpc_call_ops::rpc_call_prepare' data-ref="rpc_call_ops::rpc_call_prepare">rpc_call_prepare</dfn>)(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *, <em>void</em> *);</td></tr>
<tr><th id="99">99</th><td>	<em>void</em> (*<dfn class="decl field" id="rpc_call_ops::rpc_call_done" title='rpc_call_ops::rpc_call_done' data-ref="rpc_call_ops::rpc_call_done">rpc_call_done</dfn>)(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *, <em>void</em> *);</td></tr>
<tr><th id="100">100</th><td>	<em>void</em> (*<dfn class="decl field" id="rpc_call_ops::rpc_count_stats" title='rpc_call_ops::rpc_count_stats' data-ref="rpc_call_ops::rpc_count_stats">rpc_count_stats</dfn>)(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *, <em>void</em> *);</td></tr>
<tr><th id="101">101</th><td>	<em>void</em> (*<dfn class="decl field" id="rpc_call_ops::rpc_release" title='rpc_call_ops::rpc_release' data-ref="rpc_call_ops::rpc_release">rpc_release</dfn>)(<em>void</em> *);</td></tr>
<tr><th id="102">102</th><td>};</td></tr>
<tr><th id="103">103</th><td></td></tr>
<tr><th id="104">104</th><td><b>struct</b> <dfn class="type def" id="rpc_task_setup" title='rpc_task_setup' data-ref="rpc_task_setup">rpc_task_setup</dfn> {</td></tr>
<tr><th id="105">105</th><td>	<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *<dfn class="decl field" id="rpc_task_setup::task" title='rpc_task_setup::task' data-ref="rpc_task_setup::task">task</dfn>;</td></tr>
<tr><th id="106">106</th><td>	<b>struct</b> <a class="type" href="clnt.h.html#rpc_clnt" title='rpc_clnt' data-ref="rpc_clnt">rpc_clnt</a> *<dfn class="decl field" id="rpc_task_setup::rpc_client" title='rpc_task_setup::rpc_client' data-ref="rpc_task_setup::rpc_client">rpc_client</dfn>;</td></tr>
<tr><th id="107">107</th><td>	<b>struct</b> <a class="type" href="xprt.h.html#rpc_xprt" title='rpc_xprt' data-ref="rpc_xprt">rpc_xprt</a> *<dfn class="decl field" id="rpc_task_setup::rpc_xprt" title='rpc_task_setup::rpc_xprt' data-ref="rpc_task_setup::rpc_xprt">rpc_xprt</dfn>;</td></tr>
<tr><th id="108">108</th><td>	<em>const</em> <b>struct</b> <a class="type" href="#rpc_message" title='rpc_message' data-ref="rpc_message">rpc_message</a> *<dfn class="decl field" id="rpc_task_setup::rpc_message" title='rpc_task_setup::rpc_message' data-ref="rpc_task_setup::rpc_message">rpc_message</dfn>;</td></tr>
<tr><th id="109">109</th><td>	<em>const</em> <b>struct</b> <a class="type" href="#rpc_call_ops" title='rpc_call_ops' data-ref="rpc_call_ops">rpc_call_ops</a> *<dfn class="decl field" id="rpc_task_setup::callback_ops" title='rpc_task_setup::callback_ops' data-ref="rpc_task_setup::callback_ops">callback_ops</dfn>;</td></tr>
<tr><th id="110">110</th><td>	<em>void</em> *<dfn class="decl field" id="rpc_task_setup::callback_data" title='rpc_task_setup::callback_data' data-ref="rpc_task_setup::callback_data">callback_data</dfn>;</td></tr>
<tr><th id="111">111</th><td>	<b>struct</b> <a class="type" href="../workqueue.h.html#workqueue_struct" title='workqueue_struct' data-ref="workqueue_struct">workqueue_struct</a> *<dfn class="decl field" id="rpc_task_setup::workqueue" title='rpc_task_setup::workqueue' data-ref="rpc_task_setup::workqueue">workqueue</dfn>;</td></tr>
<tr><th id="112">112</th><td>	<em>unsigned</em> <em>short</em> <dfn class="decl field" id="rpc_task_setup::flags" title='rpc_task_setup::flags' data-ref="rpc_task_setup::flags">flags</dfn>;</td></tr>
<tr><th id="113">113</th><td>	<em>signed</em> <em>char</em> <dfn class="decl field" id="rpc_task_setup::priority" title='rpc_task_setup::priority' data-ref="rpc_task_setup::priority">priority</dfn>;</td></tr>
<tr><th id="114">114</th><td>};</td></tr>
<tr><th id="115">115</th><td></td></tr>
<tr><th id="116">116</th><td><i>/*</i></td></tr>
<tr><th id="117">117</th><td><i> * RPC task flags</i></td></tr>
<tr><th id="118">118</th><td><i> */</i></td></tr>
<tr><th id="119">119</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_ASYNC" data-ref="_M/RPC_TASK_ASYNC">RPC_TASK_ASYNC</dfn>		0x0001		/* is an async task */</u></td></tr>
<tr><th id="120">120</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_SWAPPER" data-ref="_M/RPC_TASK_SWAPPER">RPC_TASK_SWAPPER</dfn>	0x0002		/* is swapping in/out */</u></td></tr>
<tr><th id="121">121</th><td><u>#define <dfn class="macro" id="_M/RPC_CALL_MAJORSEEN" data-ref="_M/RPC_CALL_MAJORSEEN">RPC_CALL_MAJORSEEN</dfn>	0x0020		/* major timeout seen */</u></td></tr>
<tr><th id="122">122</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_ROOTCREDS" data-ref="_M/RPC_TASK_ROOTCREDS">RPC_TASK_ROOTCREDS</dfn>	0x0040		/* force root creds */</u></td></tr>
<tr><th id="123">123</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_DYNAMIC" data-ref="_M/RPC_TASK_DYNAMIC">RPC_TASK_DYNAMIC</dfn>	0x0080		/* task was kmalloc'ed */</u></td></tr>
<tr><th id="124">124</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_KILLED" data-ref="_M/RPC_TASK_KILLED">RPC_TASK_KILLED</dfn>		0x0100		/* task was killed */</u></td></tr>
<tr><th id="125">125</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_SOFT" data-ref="_M/RPC_TASK_SOFT">RPC_TASK_SOFT</dfn>		0x0200		/* Use soft timeouts */</u></td></tr>
<tr><th id="126">126</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_SOFTCONN" data-ref="_M/RPC_TASK_SOFTCONN">RPC_TASK_SOFTCONN</dfn>	0x0400		/* Fail if can't connect */</u></td></tr>
<tr><th id="127">127</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_SENT" data-ref="_M/RPC_TASK_SENT">RPC_TASK_SENT</dfn>		0x0800		/* message was sent */</u></td></tr>
<tr><th id="128">128</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_TIMEOUT" data-ref="_M/RPC_TASK_TIMEOUT">RPC_TASK_TIMEOUT</dfn>	0x1000		/* fail with ETIMEDOUT on timeout */</u></td></tr>
<tr><th id="129">129</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_NOCONNECT" data-ref="_M/RPC_TASK_NOCONNECT">RPC_TASK_NOCONNECT</dfn>	0x2000		/* return ENOTCONN if not connected */</u></td></tr>
<tr><th id="130">130</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_NO_RETRANS_TIMEOUT" data-ref="_M/RPC_TASK_NO_RETRANS_TIMEOUT">RPC_TASK_NO_RETRANS_TIMEOUT</dfn>	0x4000		/* wait forever for a reply */</u></td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td><u>#define <dfn class="macro" id="_M/RPC_IS_ASYNC" data-ref="_M/RPC_IS_ASYNC">RPC_IS_ASYNC</dfn>(t)		((t)-&gt;tk_flags &amp; RPC_TASK_ASYNC)</u></td></tr>
<tr><th id="133">133</th><td><u>#define <dfn class="macro" id="_M/RPC_IS_SWAPPER" data-ref="_M/RPC_IS_SWAPPER">RPC_IS_SWAPPER</dfn>(t)	((t)-&gt;tk_flags &amp; RPC_TASK_SWAPPER)</u></td></tr>
<tr><th id="134">134</th><td><u>#define <dfn class="macro" id="_M/RPC_DO_ROOTOVERRIDE" data-ref="_M/RPC_DO_ROOTOVERRIDE">RPC_DO_ROOTOVERRIDE</dfn>(t)	((t)-&gt;tk_flags &amp; RPC_TASK_ROOTCREDS)</u></td></tr>
<tr><th id="135">135</th><td><u>#define <dfn class="macro" id="_M/RPC_ASSASSINATED" data-ref="_M/RPC_ASSASSINATED">RPC_ASSASSINATED</dfn>(t)	((t)-&gt;tk_flags &amp; RPC_TASK_KILLED)</u></td></tr>
<tr><th id="136">136</th><td><u>#define <dfn class="macro" id="_M/RPC_IS_SOFT" data-ref="_M/RPC_IS_SOFT">RPC_IS_SOFT</dfn>(t)		((t)-&gt;tk_flags &amp; (RPC_TASK_SOFT|RPC_TASK_TIMEOUT))</u></td></tr>
<tr><th id="137">137</th><td><u>#define <dfn class="macro" id="_M/RPC_IS_SOFTCONN" data-ref="_M/RPC_IS_SOFTCONN">RPC_IS_SOFTCONN</dfn>(t)	((t)-&gt;tk_flags &amp; RPC_TASK_SOFTCONN)</u></td></tr>
<tr><th id="138">138</th><td><u>#define <dfn class="macro" id="_M/RPC_WAS_SENT" data-ref="_M/RPC_WAS_SENT">RPC_WAS_SENT</dfn>(t)		((t)-&gt;tk_flags &amp; RPC_TASK_SENT)</u></td></tr>
<tr><th id="139">139</th><td></td></tr>
<tr><th id="140">140</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_RUNNING" data-ref="_M/RPC_TASK_RUNNING">RPC_TASK_RUNNING</dfn>	0</u></td></tr>
<tr><th id="141">141</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_QUEUED" data-ref="_M/RPC_TASK_QUEUED">RPC_TASK_QUEUED</dfn>		1</u></td></tr>
<tr><th id="142">142</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_ACTIVE" data-ref="_M/RPC_TASK_ACTIVE">RPC_TASK_ACTIVE</dfn>		2</u></td></tr>
<tr><th id="143">143</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_MSG_RECV" data-ref="_M/RPC_TASK_MSG_RECV">RPC_TASK_MSG_RECV</dfn>	3</u></td></tr>
<tr><th id="144">144</th><td><u>#define <dfn class="macro" id="_M/RPC_TASK_MSG_RECV_WAIT" data-ref="_M/RPC_TASK_MSG_RECV_WAIT">RPC_TASK_MSG_RECV_WAIT</dfn>	4</u></td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td><u>#define <dfn class="macro" id="_M/RPC_IS_RUNNING" data-ref="_M/RPC_IS_RUNNING">RPC_IS_RUNNING</dfn>(t)	test_bit(RPC_TASK_RUNNING, &amp;(t)-&gt;tk_runstate)</u></td></tr>
<tr><th id="147">147</th><td><u>#define <dfn class="macro" id="_M/rpc_set_running" data-ref="_M/rpc_set_running">rpc_set_running</dfn>(t)	set_bit(RPC_TASK_RUNNING, &amp;(t)-&gt;tk_runstate)</u></td></tr>
<tr><th id="148">148</th><td><u>#define <dfn class="macro" id="_M/rpc_test_and_set_running" data-ref="_M/rpc_test_and_set_running">rpc_test_and_set_running</dfn>(t) \</u></td></tr>
<tr><th id="149">149</th><td><u>				test_and_set_bit(RPC_TASK_RUNNING, &amp;(t)-&gt;tk_runstate)</u></td></tr>
<tr><th id="150">150</th><td><u>#define <dfn class="macro" id="_M/rpc_clear_running" data-ref="_M/rpc_clear_running">rpc_clear_running</dfn>(t)	\</u></td></tr>
<tr><th id="151">151</th><td><u>	do { \</u></td></tr>
<tr><th id="152">152</th><td><u>		smp_mb__before_atomic(); \</u></td></tr>
<tr><th id="153">153</th><td><u>		clear_bit(RPC_TASK_RUNNING, &amp;(t)-&gt;tk_runstate); \</u></td></tr>
<tr><th id="154">154</th><td><u>		smp_mb__after_atomic(); \</u></td></tr>
<tr><th id="155">155</th><td><u>	} while (0)</u></td></tr>
<tr><th id="156">156</th><td></td></tr>
<tr><th id="157">157</th><td><u>#define <dfn class="macro" id="_M/RPC_IS_QUEUED" data-ref="_M/RPC_IS_QUEUED">RPC_IS_QUEUED</dfn>(t)	test_bit(RPC_TASK_QUEUED, &amp;(t)-&gt;tk_runstate)</u></td></tr>
<tr><th id="158">158</th><td><u>#define <dfn class="macro" id="_M/rpc_set_queued" data-ref="_M/rpc_set_queued">rpc_set_queued</dfn>(t)	set_bit(RPC_TASK_QUEUED, &amp;(t)-&gt;tk_runstate)</u></td></tr>
<tr><th id="159">159</th><td><u>#define <dfn class="macro" id="_M/rpc_clear_queued" data-ref="_M/rpc_clear_queued">rpc_clear_queued</dfn>(t)	\</u></td></tr>
<tr><th id="160">160</th><td><u>	do { \</u></td></tr>
<tr><th id="161">161</th><td><u>		smp_mb__before_atomic(); \</u></td></tr>
<tr><th id="162">162</th><td><u>		clear_bit(RPC_TASK_QUEUED, &amp;(t)-&gt;tk_runstate); \</u></td></tr>
<tr><th id="163">163</th><td><u>		smp_mb__after_atomic(); \</u></td></tr>
<tr><th id="164">164</th><td><u>	} while (0)</u></td></tr>
<tr><th id="165">165</th><td></td></tr>
<tr><th id="166">166</th><td><u>#define <dfn class="macro" id="_M/RPC_IS_ACTIVATED" data-ref="_M/RPC_IS_ACTIVATED">RPC_IS_ACTIVATED</dfn>(t)	test_bit(RPC_TASK_ACTIVE, &amp;(t)-&gt;tk_runstate)</u></td></tr>
<tr><th id="167">167</th><td></td></tr>
<tr><th id="168">168</th><td><i>/*</i></td></tr>
<tr><th id="169">169</th><td><i> * Task priorities.</i></td></tr>
<tr><th id="170">170</th><td><i> * Note: if you change these, you must also change</i></td></tr>
<tr><th id="171">171</th><td><i> * the task initialization definitions below.</i></td></tr>
<tr><th id="172">172</th><td><i> */</i></td></tr>
<tr><th id="173">173</th><td><u>#define <dfn class="macro" id="_M/RPC_PRIORITY_LOW" data-ref="_M/RPC_PRIORITY_LOW">RPC_PRIORITY_LOW</dfn>	(-1)</u></td></tr>
<tr><th id="174">174</th><td><u>#define <dfn class="macro" id="_M/RPC_PRIORITY_NORMAL" data-ref="_M/RPC_PRIORITY_NORMAL">RPC_PRIORITY_NORMAL</dfn>	(0)</u></td></tr>
<tr><th id="175">175</th><td><u>#define <dfn class="macro" id="_M/RPC_PRIORITY_HIGH" data-ref="_M/RPC_PRIORITY_HIGH">RPC_PRIORITY_HIGH</dfn>	(1)</u></td></tr>
<tr><th id="176">176</th><td><u>#define <dfn class="macro" id="_M/RPC_PRIORITY_PRIVILEGED" data-ref="_M/RPC_PRIORITY_PRIVILEGED">RPC_PRIORITY_PRIVILEGED</dfn>	(2)</u></td></tr>
<tr><th id="177">177</th><td><u>#define <dfn class="macro" id="_M/RPC_NR_PRIORITY" data-ref="_M/RPC_NR_PRIORITY">RPC_NR_PRIORITY</dfn>		(1 + RPC_PRIORITY_PRIVILEGED - RPC_PRIORITY_LOW)</u></td></tr>
<tr><th id="178">178</th><td></td></tr>
<tr><th id="179">179</th><td><b>struct</b> <dfn class="type def" id="rpc_timer" title='rpc_timer' data-ref="rpc_timer">rpc_timer</dfn> {</td></tr>
<tr><th id="180">180</th><td>	<b>struct</b> <a class="type" href="../timer.h.html#timer_list" title='timer_list' data-ref="timer_list">timer_list</a> <dfn class="decl field" id="rpc_timer::timer" title='rpc_timer::timer' data-ref="rpc_timer::timer">timer</dfn>;</td></tr>
<tr><th id="181">181</th><td>	<b>struct</b> <a class="type" href="../types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a> <dfn class="decl field" id="rpc_timer::list" title='rpc_timer::list' data-ref="rpc_timer::list">list</dfn>;</td></tr>
<tr><th id="182">182</th><td>	<em>unsigned</em> <em>long</em> <dfn class="decl field" id="rpc_timer::expires" title='rpc_timer::expires' data-ref="rpc_timer::expires">expires</dfn>;</td></tr>
<tr><th id="183">183</th><td>};</td></tr>
<tr><th id="184">184</th><td></td></tr>
<tr><th id="185">185</th><td><i>/*</i></td></tr>
<tr><th id="186">186</th><td><i> * RPC synchronization objects</i></td></tr>
<tr><th id="187">187</th><td><i> */</i></td></tr>
<tr><th id="188">188</th><td><b>struct</b> <dfn class="type def" id="rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</dfn> {</td></tr>
<tr><th id="189">189</th><td>	<a class="typedef" href="../spinlock_types.h.html#spinlock_t" title='spinlock_t' data-type='struct spinlock' data-ref="spinlock_t">spinlock_t</a>		<dfn class="decl field" id="rpc_wait_queue::lock" title='rpc_wait_queue::lock' data-ref="rpc_wait_queue::lock">lock</dfn>;</td></tr>
<tr><th id="190">190</th><td>	<b>struct</b> <a class="type" href="../types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a>	<dfn class="decl field" id="rpc_wait_queue::tasks" title='rpc_wait_queue::tasks' data-ref="rpc_wait_queue::tasks">tasks</dfn>[<a class="macro" href="#177" title="(1 + (2) - (-1))" data-ref="_M/RPC_NR_PRIORITY">RPC_NR_PRIORITY</a>];	<i>/* task queue for each priority level */</i></td></tr>
<tr><th id="191">191</th><td>	<a class="typedef" href="../types.h.html#pid_t" title='pid_t' data-type='__kernel_pid_t' data-ref="pid_t">pid_t</a>			<dfn class="decl field" id="rpc_wait_queue::owner" title='rpc_wait_queue::owner' data-ref="rpc_wait_queue::owner">owner</dfn>;			<i>/* process id of last task serviced */</i></td></tr>
<tr><th id="192">192</th><td>	<em>unsigned</em> <em>char</em>		<dfn class="decl field" id="rpc_wait_queue::maxpriority" title='rpc_wait_queue::maxpriority' data-ref="rpc_wait_queue::maxpriority">maxpriority</dfn>;		<i>/* maximum priority (0 if queue is not a priority queue) */</i></td></tr>
<tr><th id="193">193</th><td>	<em>unsigned</em> <em>char</em>		<dfn class="decl field" id="rpc_wait_queue::priority" title='rpc_wait_queue::priority' data-ref="rpc_wait_queue::priority">priority</dfn>;		<i>/* current priority */</i></td></tr>
<tr><th id="194">194</th><td>	<em>unsigned</em> <em>char</em>		<dfn class="decl field" id="rpc_wait_queue::nr" title='rpc_wait_queue::nr' data-ref="rpc_wait_queue::nr">nr</dfn>;			<i>/* # tasks remaining for cookie */</i></td></tr>
<tr><th id="195">195</th><td>	<em>unsigned</em> <em>short</em>		<dfn class="decl field" id="rpc_wait_queue::qlen" title='rpc_wait_queue::qlen' data-ref="rpc_wait_queue::qlen">qlen</dfn>;			<i>/* total # tasks waiting in queue */</i></td></tr>
<tr><th id="196">196</th><td>	<b>struct</b> <a class="type" href="#rpc_timer" title='rpc_timer' data-ref="rpc_timer">rpc_timer</a>	<dfn class="decl field" id="rpc_wait_queue::timer_list" title='rpc_wait_queue::timer_list' data-ref="rpc_wait_queue::timer_list">timer_list</dfn>;</td></tr>
<tr><th id="197">197</th><td><u>#<span data-ppcond="197">if</span> <a class="macro" href="../kconfig.h.html#71" title="0" data-ref="_M/IS_ENABLED">IS_ENABLED</a>(CONFIG_SUNRPC_DEBUG) || <a class="macro" href="../kconfig.h.html#71" title="1" data-ref="_M/IS_ENABLED">IS_ENABLED</a>(<a class="macro" href="../../generated/autoconf.h.html#148" title="1" data-ref="_M/CONFIG_TRACEPOINTS">CONFIG_TRACEPOINTS</a>)</u></td></tr>
<tr><th id="198">198</th><td>	<em>const</em> <em>char</em> *		<dfn class="decl field" id="rpc_wait_queue::name" title='rpc_wait_queue::name' data-ref="rpc_wait_queue::name">name</dfn>;</td></tr>
<tr><th id="199">199</th><td><u>#<span data-ppcond="197">endif</span></u></td></tr>
<tr><th id="200">200</th><td>};</td></tr>
<tr><th id="201">201</th><td></td></tr>
<tr><th id="202">202</th><td><i>/*</i></td></tr>
<tr><th id="203">203</th><td><i> * This is the # requests to send consecutively</i></td></tr>
<tr><th id="204">204</th><td><i> * from a single cookie.  The aim is to improve</i></td></tr>
<tr><th id="205">205</th><td><i> * performance of NFS operations such as read/write.</i></td></tr>
<tr><th id="206">206</th><td><i> */</i></td></tr>
<tr><th id="207">207</th><td><u>#define <dfn class="macro" id="_M/RPC_BATCH_COUNT" data-ref="_M/RPC_BATCH_COUNT">RPC_BATCH_COUNT</dfn>			16</u></td></tr>
<tr><th id="208">208</th><td><u>#define <dfn class="macro" id="_M/RPC_IS_PRIORITY" data-ref="_M/RPC_IS_PRIORITY">RPC_IS_PRIORITY</dfn>(q)		((q)-&gt;maxpriority &gt; 0)</u></td></tr>
<tr><th id="209">209</th><td></td></tr>
<tr><th id="210">210</th><td><i>/*</i></td></tr>
<tr><th id="211">211</th><td><i> * Function prototypes</i></td></tr>
<tr><th id="212">212</th><td><i> */</i></td></tr>
<tr><th id="213">213</th><td><b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *<dfn class="decl fn" id="rpc_new_task" title='rpc_new_task' data-ref="rpc_new_task">rpc_new_task</dfn>(<em>const</em> <b>struct</b> <a class="type" href="#rpc_task_setup" title='rpc_task_setup' data-ref="rpc_task_setup">rpc_task_setup</a> *);</td></tr>
<tr><th id="214">214</th><td><b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *<dfn class="decl fn" id="rpc_run_task" title='rpc_run_task' data-ref="rpc_run_task">rpc_run_task</dfn>(<em>const</em> <b>struct</b> <a class="type" href="#rpc_task_setup" title='rpc_task_setup' data-ref="rpc_task_setup">rpc_task_setup</a> *);</td></tr>
<tr><th id="215">215</th><td><b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *<dfn class="decl fn" id="rpc_run_bc_task" title='rpc_run_bc_task' data-ref="rpc_run_bc_task">rpc_run_bc_task</dfn>(<b>struct</b> <a class="type" href="xprt.h.html#rpc_rqst" title='rpc_rqst' data-ref="rpc_rqst">rpc_rqst</a> *<dfn class="local col1 decl" id="131req" title='req' data-type='struct rpc_rqst *' data-ref="131req">req</dfn>);</td></tr>
<tr><th id="216">216</th><td><em>void</em>		<dfn class="decl fn" id="rpc_put_task" title='rpc_put_task' data-ref="rpc_put_task">rpc_put_task</dfn>(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *);</td></tr>
<tr><th id="217">217</th><td><em>void</em>		<dfn class="decl fn" id="rpc_put_task_async" title='rpc_put_task_async' data-ref="rpc_put_task_async">rpc_put_task_async</dfn>(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *);</td></tr>
<tr><th id="218">218</th><td><em>void</em>		<dfn class="decl fn" id="rpc_exit_task" title='rpc_exit_task' data-ref="rpc_exit_task">rpc_exit_task</dfn>(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *);</td></tr>
<tr><th id="219">219</th><td><em>void</em>		<dfn class="decl fn" id="rpc_exit" title='rpc_exit' data-ref="rpc_exit">rpc_exit</dfn>(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *, <em>int</em>);</td></tr>
<tr><th id="220">220</th><td><em>void</em>		<dfn class="decl fn" id="rpc_release_calldata" title='rpc_release_calldata' data-ref="rpc_release_calldata">rpc_release_calldata</dfn>(<em>const</em> <b>struct</b> <a class="type" href="#rpc_call_ops" title='rpc_call_ops' data-ref="rpc_call_ops">rpc_call_ops</a> *, <em>void</em> *);</td></tr>
<tr><th id="221">221</th><td><em>void</em>		<dfn class="decl fn" id="rpc_killall_tasks" title='rpc_killall_tasks' data-ref="rpc_killall_tasks">rpc_killall_tasks</dfn>(<b>struct</b> <a class="type" href="clnt.h.html#rpc_clnt" title='rpc_clnt' data-ref="rpc_clnt">rpc_clnt</a> *);</td></tr>
<tr><th id="222">222</th><td><em>void</em>		<dfn class="decl fn" id="rpc_execute" title='rpc_execute' data-ref="rpc_execute">rpc_execute</dfn>(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *);</td></tr>
<tr><th id="223">223</th><td><em>void</em>		<dfn class="decl fn" id="rpc_init_priority_wait_queue" title='rpc_init_priority_wait_queue' data-ref="rpc_init_priority_wait_queue">rpc_init_priority_wait_queue</dfn>(<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *, <em>const</em> <em>char</em> *);</td></tr>
<tr><th id="224">224</th><td><em>void</em>		<dfn class="decl fn" id="rpc_init_wait_queue" title='rpc_init_wait_queue' data-ref="rpc_init_wait_queue">rpc_init_wait_queue</dfn>(<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *, <em>const</em> <em>char</em> *);</td></tr>
<tr><th id="225">225</th><td><em>void</em>		<dfn class="decl fn" id="rpc_destroy_wait_queue" title='rpc_destroy_wait_queue' data-ref="rpc_destroy_wait_queue">rpc_destroy_wait_queue</dfn>(<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *);</td></tr>
<tr><th id="226">226</th><td><em>void</em>		<dfn class="decl fn" id="rpc_sleep_on" title='rpc_sleep_on' data-ref="rpc_sleep_on">rpc_sleep_on</dfn>(<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *, <b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *,</td></tr>
<tr><th id="227">227</th><td>					<a class="typedef" href="#rpc_action" title='rpc_action' data-type='void (*)(struct rpc_task *)' data-ref="rpc_action">rpc_action</a> <dfn class="local col2 decl" id="132action" title='action' data-type='rpc_action' data-ref="132action">action</dfn>);</td></tr>
<tr><th id="228">228</th><td><em>void</em>		<dfn class="decl fn" id="rpc_sleep_on_priority" title='rpc_sleep_on_priority' data-ref="rpc_sleep_on_priority">rpc_sleep_on_priority</dfn>(<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *,</td></tr>
<tr><th id="229">229</th><td>					<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *,</td></tr>
<tr><th id="230">230</th><td>					<a class="typedef" href="#rpc_action" title='rpc_action' data-type='void (*)(struct rpc_task *)' data-ref="rpc_action">rpc_action</a> <dfn class="local col3 decl" id="133action" title='action' data-type='rpc_action' data-ref="133action">action</dfn>,</td></tr>
<tr><th id="231">231</th><td>					<em>int</em> <dfn class="local col4 decl" id="134priority" title='priority' data-type='int' data-ref="134priority">priority</dfn>);</td></tr>
<tr><th id="232">232</th><td><em>void</em>		<dfn class="decl fn" id="rpc_wake_up_queued_task" title='rpc_wake_up_queued_task' data-ref="rpc_wake_up_queued_task">rpc_wake_up_queued_task</dfn>(<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *,</td></tr>
<tr><th id="233">233</th><td>					<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *);</td></tr>
<tr><th id="234">234</th><td><em>void</em>		<dfn class="decl fn" id="rpc_wake_up" title='rpc_wake_up' data-ref="rpc_wake_up">rpc_wake_up</dfn>(<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *);</td></tr>
<tr><th id="235">235</th><td><b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *<dfn class="decl fn" id="rpc_wake_up_next" title='rpc_wake_up_next' data-ref="rpc_wake_up_next">rpc_wake_up_next</dfn>(<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *);</td></tr>
<tr><th id="236">236</th><td><b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *<dfn class="decl fn" id="rpc_wake_up_first_on_wq" title='rpc_wake_up_first_on_wq' data-ref="rpc_wake_up_first_on_wq">rpc_wake_up_first_on_wq</dfn>(<b>struct</b> <a class="type" href="../workqueue.h.html#workqueue_struct" title='workqueue_struct' data-ref="workqueue_struct">workqueue_struct</a> *<dfn class="local col5 decl" id="135wq" title='wq' data-type='struct workqueue_struct *' data-ref="135wq">wq</dfn>,</td></tr>
<tr><th id="237">237</th><td>					<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *,</td></tr>
<tr><th id="238">238</th><td>					<a class="typedef" href="../types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> (*)(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *, <em>void</em> *),</td></tr>
<tr><th id="239">239</th><td>					<em>void</em> *);</td></tr>
<tr><th id="240">240</th><td><b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *<dfn class="decl fn" id="rpc_wake_up_first" title='rpc_wake_up_first' data-ref="rpc_wake_up_first">rpc_wake_up_first</dfn>(<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *,</td></tr>
<tr><th id="241">241</th><td>					<a class="typedef" href="../types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> (*)(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *, <em>void</em> *),</td></tr>
<tr><th id="242">242</th><td>					<em>void</em> *);</td></tr>
<tr><th id="243">243</th><td><em>void</em>		<dfn class="decl fn" id="rpc_wake_up_status" title='rpc_wake_up_status' data-ref="rpc_wake_up_status">rpc_wake_up_status</dfn>(<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *, <em>int</em>);</td></tr>
<tr><th id="244">244</th><td><em>void</em>		<dfn class="decl fn" id="rpc_delay" title='rpc_delay' data-ref="rpc_delay">rpc_delay</dfn>(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *, <em>unsigned</em> <em>long</em>);</td></tr>
<tr><th id="245">245</th><td><em>int</em>		<dfn class="decl fn" id="rpc_malloc" title='rpc_malloc' data-ref="rpc_malloc">rpc_malloc</dfn>(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *);</td></tr>
<tr><th id="246">246</th><td><em>void</em>		<dfn class="decl fn" id="rpc_free" title='rpc_free' data-ref="rpc_free">rpc_free</dfn>(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *);</td></tr>
<tr><th id="247">247</th><td><em>int</em>		<dfn class="decl fn" id="rpciod_up" title='rpciod_up' data-ref="rpciod_up">rpciod_up</dfn>(<em>void</em>);</td></tr>
<tr><th id="248">248</th><td><em>void</em>		<dfn class="decl fn" id="rpciod_down" title='rpciod_down' data-ref="rpciod_down">rpciod_down</dfn>(<em>void</em>);</td></tr>
<tr><th id="249">249</th><td><em>int</em>		<dfn class="decl fn" id="__rpc_wait_for_completion_task" title='__rpc_wait_for_completion_task' data-ref="__rpc_wait_for_completion_task">__rpc_wait_for_completion_task</dfn>(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *<dfn class="local col6 decl" id="136task" title='task' data-type='struct rpc_task *' data-ref="136task">task</dfn>, <a class="typedef" href="../wait_bit.h.html#wait_bit_action_f" title='wait_bit_action_f' data-type='int (struct wait_bit_key *, int)' data-ref="wait_bit_action_f">wait_bit_action_f</a> *);</td></tr>
<tr><th id="250">250</th><td><u>#<span data-ppcond="250">if</span> <a class="macro" href="../kconfig.h.html#71" title="0" data-ref="_M/IS_ENABLED">IS_ENABLED</a>(CONFIG_SUNRPC_DEBUG)</u></td></tr>
<tr><th id="251">251</th><td><b>struct</b> net;</td></tr>
<tr><th id="252">252</th><td><em>void</em>		rpc_show_tasks(<b>struct</b> net *);</td></tr>
<tr><th id="253">253</th><td><u>#<span data-ppcond="250">endif</span></u></td></tr>
<tr><th id="254">254</th><td><em>int</em>		<dfn class="decl fn" id="rpc_init_mempool" title='rpc_init_mempool' data-ref="rpc_init_mempool">rpc_init_mempool</dfn>(<em>void</em>);</td></tr>
<tr><th id="255">255</th><td><em>void</em>		<dfn class="decl fn" id="rpc_destroy_mempool" title='rpc_destroy_mempool' data-ref="rpc_destroy_mempool">rpc_destroy_mempool</dfn>(<em>void</em>);</td></tr>
<tr><th id="256">256</th><td><b>extern</b> <b>struct</b> <a class="type" href="../workqueue.h.html#workqueue_struct" title='workqueue_struct' data-ref="workqueue_struct">workqueue_struct</a> *<dfn class="decl" id="rpciod_workqueue" title='rpciod_workqueue' data-ref="rpciod_workqueue">rpciod_workqueue</dfn>;</td></tr>
<tr><th id="257">257</th><td><b>extern</b> <b>struct</b> <a class="type" href="../workqueue.h.html#workqueue_struct" title='workqueue_struct' data-ref="workqueue_struct">workqueue_struct</a> *<dfn class="decl" id="xprtiod_workqueue" title='xprtiod_workqueue' data-ref="xprtiod_workqueue">xprtiod_workqueue</dfn>;</td></tr>
<tr><th id="258">258</th><td><em>void</em>		<dfn class="decl fn" id="rpc_prepare_task" title='rpc_prepare_task' data-ref="rpc_prepare_task">rpc_prepare_task</dfn>(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *<dfn class="local col7 decl" id="137task" title='task' data-type='struct rpc_task *' data-ref="137task">task</dfn>);</td></tr>
<tr><th id="259">259</th><td></td></tr>
<tr><th id="260">260</th><td><em>static</em> <a class="macro" href="../compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>int</em> <dfn class="decl def fn" id="rpc_wait_for_completion_task" title='rpc_wait_for_completion_task' data-ref="rpc_wait_for_completion_task">rpc_wait_for_completion_task</dfn>(<b>struct</b> <a class="type" href="#rpc_task" title='rpc_task' data-ref="rpc_task">rpc_task</a> *<dfn class="local col8 decl" id="138task" title='task' data-type='struct rpc_task *' data-ref="138task">task</dfn>)</td></tr>
<tr><th id="261">261</th><td>{</td></tr>
<tr><th id="262">262</th><td>	<b>return</b> <a class="ref fn" href="#__rpc_wait_for_completion_task" title='__rpc_wait_for_completion_task' data-ref="__rpc_wait_for_completion_task">__rpc_wait_for_completion_task</a>(<a class="local col8 ref" href="#138task" title='task' data-ref="138task">task</a>, <a class="macro" href="../stddef.h.html#8" title="((void *)0)" data-ref="_M/NULL">NULL</a>);</td></tr>
<tr><th id="263">263</th><td>}</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td><u>#<span data-ppcond="265">if</span> <a class="macro" href="../kconfig.h.html#71" title="0" data-ref="_M/IS_ENABLED">IS_ENABLED</a>(CONFIG_SUNRPC_DEBUG) || <a class="macro" href="../kconfig.h.html#71" title="1" data-ref="_M/IS_ENABLED">IS_ENABLED</a>(<a class="macro" href="../../generated/autoconf.h.html#148" title="1" data-ref="_M/CONFIG_TRACEPOINTS">CONFIG_TRACEPOINTS</a>)</u></td></tr>
<tr><th id="266">266</th><td><em>static</em> <a class="macro" href="../compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>const</em> <em>char</em> * <dfn class="decl def fn" id="rpc_qname" title='rpc_qname' data-ref="rpc_qname">rpc_qname</dfn>(<em>const</em> <b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *<dfn class="local col9 decl" id="139q" title='q' data-type='const struct rpc_wait_queue *' data-ref="139q">q</dfn>)</td></tr>
<tr><th id="267">267</th><td>{</td></tr>
<tr><th id="268">268</th><td>	<b>return</b> ((<a class="local col9 ref" href="#139q" title='q' data-ref="139q">q</a> &amp;&amp; <a class="local col9 ref" href="#139q" title='q' data-ref="139q">q</a>-&gt;<a class="ref field" href="#rpc_wait_queue::name" title='rpc_wait_queue::name' data-ref="rpc_wait_queue::name">name</a>) ? <a class="local col9 ref" href="#139q" title='q' data-ref="139q">q</a>-&gt;<a class="ref field" href="#rpc_wait_queue::name" title='rpc_wait_queue::name' data-ref="rpc_wait_queue::name">name</a> : <q>"unknown"</q>);</td></tr>
<tr><th id="269">269</th><td>}</td></tr>
<tr><th id="270">270</th><td></td></tr>
<tr><th id="271">271</th><td><em>static</em> <a class="macro" href="../compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>void</em> <dfn class="decl def fn" id="rpc_assign_waitqueue_name" title='rpc_assign_waitqueue_name' data-ref="rpc_assign_waitqueue_name">rpc_assign_waitqueue_name</dfn>(<b>struct</b> <a class="type" href="#rpc_wait_queue" title='rpc_wait_queue' data-ref="rpc_wait_queue">rpc_wait_queue</a> *<dfn class="local col0 decl" id="140q" title='q' data-type='struct rpc_wait_queue *' data-ref="140q">q</dfn>,</td></tr>
<tr><th id="272">272</th><td>		<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="141name" title='name' data-type='const char *' data-ref="141name">name</dfn>)</td></tr>
<tr><th id="273">273</th><td>{</td></tr>
<tr><th id="274">274</th><td>	<a class="local col0 ref" href="#140q" title='q' data-ref="140q">q</a>-&gt;<a class="ref field" href="#rpc_wait_queue::name" title='rpc_wait_queue::name' data-ref="rpc_wait_queue::name">name</a> = <a class="local col1 ref" href="#141name" title='name' data-ref="141name">name</a>;</td></tr>
<tr><th id="275">275</th><td>}</td></tr>
<tr><th id="276">276</th><td><u>#<span data-ppcond="265">else</span></u></td></tr>
<tr><th id="277">277</th><td><em>static</em> <b>inline</b> <em>void</em> rpc_assign_waitqueue_name(<b>struct</b> rpc_wait_queue *q,</td></tr>
<tr><th id="278">278</th><td>		<em>const</em> <em>char</em> *name)</td></tr>
<tr><th id="279">279</th><td>{</td></tr>
<tr><th id="280">280</th><td>}</td></tr>
<tr><th id="281">281</th><td><u>#<span data-ppcond="265">endif</span></u></td></tr>
<tr><th id="282">282</th><td></td></tr>
<tr><th id="283">283</th><td><u>#<span data-ppcond="283">if</span> <a class="macro" href="../kconfig.h.html#71" title="0" data-ref="_M/IS_ENABLED">IS_ENABLED</a>(CONFIG_SUNRPC_SWAP)</u></td></tr>
<tr><th id="284">284</th><td><em>int</em> rpc_clnt_swap_activate(<b>struct</b> rpc_clnt *clnt);</td></tr>
<tr><th id="285">285</th><td><em>void</em> rpc_clnt_swap_deactivate(<b>struct</b> rpc_clnt *clnt);</td></tr>
<tr><th id="286">286</th><td><u>#<span data-ppcond="283">else</span></u></td></tr>
<tr><th id="287">287</th><td><em>static</em> <a class="macro" href="../compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>int</em></td></tr>
<tr><th id="288">288</th><td><dfn class="decl def fn" id="rpc_clnt_swap_activate" title='rpc_clnt_swap_activate' data-ref="rpc_clnt_swap_activate">rpc_clnt_swap_activate</dfn>(<b>struct</b> <a class="type" href="clnt.h.html#rpc_clnt" title='rpc_clnt' data-ref="rpc_clnt">rpc_clnt</a> *<dfn class="local col2 decl" id="142clnt" title='clnt' data-type='struct rpc_clnt *' data-ref="142clnt">clnt</dfn>)</td></tr>
<tr><th id="289">289</th><td>{</td></tr>
<tr><th id="290">290</th><td>	<b>return</b> -<a class="macro" href="../../uapi/asm-generic/errno-base.h.html#26" title="22" data-ref="_M/EINVAL">EINVAL</a>;</td></tr>
<tr><th id="291">291</th><td>}</td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td><em>static</em> <a class="macro" href="../compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>void</em></td></tr>
<tr><th id="294">294</th><td><dfn class="decl def fn" id="rpc_clnt_swap_deactivate" title='rpc_clnt_swap_deactivate' data-ref="rpc_clnt_swap_deactivate">rpc_clnt_swap_deactivate</dfn>(<b>struct</b> <a class="type" href="clnt.h.html#rpc_clnt" title='rpc_clnt' data-ref="rpc_clnt">rpc_clnt</a> *<dfn class="local col3 decl" id="143clnt" title='clnt' data-type='struct rpc_clnt *' data-ref="143clnt">clnt</dfn>)</td></tr>
<tr><th id="295">295</th><td>{</td></tr>
<tr><th id="296">296</th><td>}</td></tr>
<tr><th id="297">297</th><td><u>#<span data-ppcond="283">endif</span> /* CONFIG_SUNRPC_SWAP */</u></td></tr>
<tr><th id="298">298</th><td></td></tr>
<tr><th id="299">299</th><td><u>#<span data-ppcond="10">endif</span> /* _LINUX_SUNRPC_SCHED_H_ */</u></td></tr>
<tr><th id="300">300</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../../init/do_mounts.c.html'>linux-4.14.y/init/do_mounts.c</a><br/>Generated on <em>2018-Jul-30</em> from project linux-4.14.y revision <em>linux-4.14.y</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
