<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ixgbe_phy.c source code [linux-4.14.y/drivers/net/ethernet/intel/ixgbe/ixgbe_phy.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'linux-4.14.y/drivers/net/ethernet/intel/ixgbe/ixgbe_phy.c'; var root_path = '../../../../../..'; var data_path = '../../../../../../../data';</script>
<script src='../../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../..'>linux-4.14.y</a>/<a href='../../../..'>drivers</a>/<a href='../../..'>net</a>/<a href='../..'>ethernet</a>/<a href='..'>intel</a>/<a href='./'>ixgbe</a>/<a href='ixgbe_phy.c.html'>ixgbe_phy.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*******************************************************************************</i></td></tr>
<tr><th id="2">2</th><td><i></i></td></tr>
<tr><th id="3">3</th><td><i>  Intel 10 Gigabit PCI Express Linux driver</i></td></tr>
<tr><th id="4">4</th><td><i>  Copyright(c) 1999 - 2014 Intel Corporation.</i></td></tr>
<tr><th id="5">5</th><td><i></i></td></tr>
<tr><th id="6">6</th><td><i>  This program is free software; you can redistribute it and/or modify it</i></td></tr>
<tr><th id="7">7</th><td><i>  under the terms and conditions of the GNU General Public License,</i></td></tr>
<tr><th id="8">8</th><td><i>  version 2, as published by the Free Software Foundation.</i></td></tr>
<tr><th id="9">9</th><td><i></i></td></tr>
<tr><th id="10">10</th><td><i>  This program is distributed in the hope it will be useful, but WITHOUT</i></td></tr>
<tr><th id="11">11</th><td><i>  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</i></td></tr>
<tr><th id="12">12</th><td><i>  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for</i></td></tr>
<tr><th id="13">13</th><td><i>  more details.</i></td></tr>
<tr><th id="14">14</th><td><i></i></td></tr>
<tr><th id="15">15</th><td><i>  You should have received a copy of the GNU General Public License along with</i></td></tr>
<tr><th id="16">16</th><td><i>  this program; if not, write to the Free Software Foundation, Inc.,</i></td></tr>
<tr><th id="17">17</th><td><i>  51 Franklin St - Fifth Floor, Boston, MA 02110-1301 USA.</i></td></tr>
<tr><th id="18">18</th><td><i></i></td></tr>
<tr><th id="19">19</th><td><i>  The full GNU General Public License is included in this distribution in</i></td></tr>
<tr><th id="20">20</th><td><i>  the file called "COPYING".</i></td></tr>
<tr><th id="21">21</th><td><i></i></td></tr>
<tr><th id="22">22</th><td><i>  Contact Information:</i></td></tr>
<tr><th id="23">23</th><td><i>  Linux NICS &lt;linux.nics@intel.com&gt;</i></td></tr>
<tr><th id="24">24</th><td><i>  e1000-devel Mailing List &lt;e1000-devel@lists.sourceforge.net&gt;</i></td></tr>
<tr><th id="25">25</th><td><i>  Intel Corporation, 5200 N.E. Elam Young Parkway, Hillsboro, OR 97124-6497</i></td></tr>
<tr><th id="26">26</th><td><i></i></td></tr>
<tr><th id="27">27</th><td><i>*******************************************************************************/</i></td></tr>
<tr><th id="28">28</th><td></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../../../../../include/linux/pci.h.html">&lt;linux/pci.h&gt;</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../../../../../include/linux/delay.h.html">&lt;linux/delay.h&gt;</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../../../../../include/linux/sched.h.html">&lt;linux/sched.h&gt;</a></u></td></tr>
<tr><th id="32">32</th><td></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="ixgbe.h.html">"ixgbe.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="ixgbe_phy.h.html">"ixgbe_phy.h"</a></u></td></tr>
<tr><th id="35">35</th><td></td></tr>
<tr><th id="36">36</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#ixgbe_i2c_start" title='ixgbe_i2c_start' data-type='void ixgbe_i2c_start(struct ixgbe_hw * hw)' data-ref="ixgbe_i2c_start">ixgbe_i2c_start</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col1 decl" id="1hw" title='hw' data-type='struct ixgbe_hw *' data-ref="1hw">hw</dfn>);</td></tr>
<tr><th id="37">37</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#ixgbe_i2c_stop" title='ixgbe_i2c_stop' data-type='void ixgbe_i2c_stop(struct ixgbe_hw * hw)' data-ref="ixgbe_i2c_stop">ixgbe_i2c_stop</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col2 decl" id="2hw" title='hw' data-type='struct ixgbe_hw *' data-ref="2hw">hw</dfn>);</td></tr>
<tr><th id="38">38</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <a class="tu decl fn" href="#ixgbe_clock_in_i2c_byte" title='ixgbe_clock_in_i2c_byte' data-type='s32 ixgbe_clock_in_i2c_byte(struct ixgbe_hw * hw, u8 * data)' data-ref="ixgbe_clock_in_i2c_byte">ixgbe_clock_in_i2c_byte</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col3 decl" id="3hw" title='hw' data-type='struct ixgbe_hw *' data-ref="3hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> *<dfn class="local col4 decl" id="4data" title='data' data-type='u8 *' data-ref="4data">data</dfn>);</td></tr>
<tr><th id="39">39</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <a class="tu decl fn" href="#ixgbe_clock_out_i2c_byte" title='ixgbe_clock_out_i2c_byte' data-type='s32 ixgbe_clock_out_i2c_byte(struct ixgbe_hw * hw, u8 data)' data-ref="ixgbe_clock_out_i2c_byte">ixgbe_clock_out_i2c_byte</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col5 decl" id="5hw" title='hw' data-type='struct ixgbe_hw *' data-ref="5hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col6 decl" id="6data" title='data' data-type='u8' data-ref="6data">data</dfn>);</td></tr>
<tr><th id="40">40</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <a class="tu decl fn" href="#ixgbe_get_i2c_ack" title='ixgbe_get_i2c_ack' data-type='s32 ixgbe_get_i2c_ack(struct ixgbe_hw * hw)' data-ref="ixgbe_get_i2c_ack">ixgbe_get_i2c_ack</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col7 decl" id="7hw" title='hw' data-type='struct ixgbe_hw *' data-ref="7hw">hw</dfn>);</td></tr>
<tr><th id="41">41</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <a class="tu decl fn" href="#ixgbe_clock_in_i2c_bit" title='ixgbe_clock_in_i2c_bit' data-type='s32 ixgbe_clock_in_i2c_bit(struct ixgbe_hw * hw, bool * data)' data-ref="ixgbe_clock_in_i2c_bit">ixgbe_clock_in_i2c_bit</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col8 decl" id="8hw" title='hw' data-type='struct ixgbe_hw *' data-ref="8hw">hw</dfn>, <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> *<dfn class="local col9 decl" id="9data" title='data' data-type='bool *' data-ref="9data">data</dfn>);</td></tr>
<tr><th id="42">42</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <a class="tu decl fn" href="#ixgbe_clock_out_i2c_bit" title='ixgbe_clock_out_i2c_bit' data-type='s32 ixgbe_clock_out_i2c_bit(struct ixgbe_hw * hw, bool data)' data-ref="ixgbe_clock_out_i2c_bit">ixgbe_clock_out_i2c_bit</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col0 decl" id="10hw" title='hw' data-type='struct ixgbe_hw *' data-ref="10hw">hw</dfn>, <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col1 decl" id="11data" title='data' data-type='bool' data-ref="11data">data</dfn>);</td></tr>
<tr><th id="43">43</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#ixgbe_raise_i2c_clk" title='ixgbe_raise_i2c_clk' data-type='void ixgbe_raise_i2c_clk(struct ixgbe_hw * hw, u32 * i2cctl)' data-ref="ixgbe_raise_i2c_clk">ixgbe_raise_i2c_clk</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col2 decl" id="12hw" title='hw' data-type='struct ixgbe_hw *' data-ref="12hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> *<dfn class="local col3 decl" id="13i2cctl" title='i2cctl' data-type='u32 *' data-ref="13i2cctl">i2cctl</dfn>);</td></tr>
<tr><th id="44">44</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#ixgbe_lower_i2c_clk" title='ixgbe_lower_i2c_clk' data-type='void ixgbe_lower_i2c_clk(struct ixgbe_hw * hw, u32 * i2cctl)' data-ref="ixgbe_lower_i2c_clk">ixgbe_lower_i2c_clk</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col4 decl" id="14hw" title='hw' data-type='struct ixgbe_hw *' data-ref="14hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> *<dfn class="local col5 decl" id="15i2cctl" title='i2cctl' data-type='u32 *' data-ref="15i2cctl">i2cctl</dfn>);</td></tr>
<tr><th id="45">45</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <a class="tu decl fn" href="#ixgbe_set_i2c_data" title='ixgbe_set_i2c_data' data-type='s32 ixgbe_set_i2c_data(struct ixgbe_hw * hw, u32 * i2cctl, bool data)' data-ref="ixgbe_set_i2c_data">ixgbe_set_i2c_data</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col6 decl" id="16hw" title='hw' data-type='struct ixgbe_hw *' data-ref="16hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> *<dfn class="local col7 decl" id="17i2cctl" title='i2cctl' data-type='u32 *' data-ref="17i2cctl">i2cctl</dfn>, <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col8 decl" id="18data" title='data' data-type='bool' data-ref="18data">data</dfn>);</td></tr>
<tr><th id="46">46</th><td><em>static</em> <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <a class="tu decl fn" href="#ixgbe_get_i2c_data" title='ixgbe_get_i2c_data' data-type='bool ixgbe_get_i2c_data(struct ixgbe_hw * hw, u32 * i2cctl)' data-ref="ixgbe_get_i2c_data">ixgbe_get_i2c_data</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col9 decl" id="19hw" title='hw' data-type='struct ixgbe_hw *' data-ref="19hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> *<dfn class="local col0 decl" id="20i2cctl" title='i2cctl' data-type='u32 *' data-ref="20i2cctl">i2cctl</dfn>);</td></tr>
<tr><th id="47">47</th><td><em>static</em> <em>void</em> <a class="tu decl fn" href="#ixgbe_i2c_bus_clear" title='ixgbe_i2c_bus_clear' data-type='void ixgbe_i2c_bus_clear(struct ixgbe_hw * hw)' data-ref="ixgbe_i2c_bus_clear">ixgbe_i2c_bus_clear</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col1 decl" id="21hw" title='hw' data-type='struct ixgbe_hw *' data-ref="21hw">hw</dfn>);</td></tr>
<tr><th id="48">48</th><td><em>static</em> <b>enum</b> <a class="type" href="ixgbe_type.h.html#ixgbe_phy_type" title='ixgbe_phy_type' data-ref="ixgbe_phy_type">ixgbe_phy_type</a> <a class="tu decl fn" href="#ixgbe_get_phy_type_from_id" title='ixgbe_get_phy_type_from_id' data-type='enum ixgbe_phy_type ixgbe_get_phy_type_from_id(u32 phy_id)' data-ref="ixgbe_get_phy_type_from_id">ixgbe_get_phy_type_from_id</a>(<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col2 decl" id="22phy_id" title='phy_id' data-type='u32' data-ref="22phy_id">phy_id</dfn>);</td></tr>
<tr><th id="49">49</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <a class="tu decl fn" href="#ixgbe_get_phy_id" title='ixgbe_get_phy_id' data-type='s32 ixgbe_get_phy_id(struct ixgbe_hw * hw)' data-ref="ixgbe_get_phy_id">ixgbe_get_phy_id</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col3 decl" id="23hw" title='hw' data-type='struct ixgbe_hw *' data-ref="23hw">hw</dfn>);</td></tr>
<tr><th id="50">50</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <a class="tu decl fn" href="#ixgbe_identify_qsfp_module_generic" title='ixgbe_identify_qsfp_module_generic' data-type='s32 ixgbe_identify_qsfp_module_generic(struct ixgbe_hw * hw)' data-ref="ixgbe_identify_qsfp_module_generic">ixgbe_identify_qsfp_module_generic</a>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col4 decl" id="24hw" title='hw' data-type='struct ixgbe_hw *' data-ref="24hw">hw</dfn>);</td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td><i class="doc" data-doc="ixgbe_out_i2c_byte_ack">/**</i></td></tr>
<tr><th id="53">53</th><td><i class="doc" data-doc="ixgbe_out_i2c_byte_ack"> *  ixgbe_out_i2c_byte_ack - Send I2C byte with ack</i></td></tr>
<tr><th id="54">54</th><td><i class="doc" data-doc="ixgbe_out_i2c_byte_ack"> * <span class="command"> @hw</span>: pointer to the hardware structure</i></td></tr>
<tr><th id="55">55</th><td><i class="doc" data-doc="ixgbe_out_i2c_byte_ack"> * <span class="command"> @byte</span>: byte to send</i></td></tr>
<tr><th id="56">56</th><td><i class="doc" data-doc="ixgbe_out_i2c_byte_ack"> *</i></td></tr>
<tr><th id="57">57</th><td><i class="doc" data-doc="ixgbe_out_i2c_byte_ack"> *  Returns an error code on error.</i></td></tr>
<tr><th id="58">58</th><td><i class="doc" data-doc="ixgbe_out_i2c_byte_ack"> **/</i></td></tr>
<tr><th id="59">59</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-type='s32 ixgbe_out_i2c_byte_ack(struct ixgbe_hw * hw, u8 byte)' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col5 decl" id="25hw" title='hw' data-type='struct ixgbe_hw *' data-ref="25hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col6 decl" id="26byte" title='byte' data-type='u8' data-ref="26byte">byte</dfn>)</td></tr>
<tr><th id="60">60</th><td>{</td></tr>
<tr><th id="61">61</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col7 decl" id="27status" title='status' data-type='s32' data-ref="27status">status</dfn>;</td></tr>
<tr><th id="62">62</th><td></td></tr>
<tr><th id="63">63</th><td>	<a class="local col7 ref" href="#27status" title='status' data-ref="27status">status</a> = <a class="tu ref fn" href="#ixgbe_clock_out_i2c_byte" title='ixgbe_clock_out_i2c_byte' data-use='c' data-ref="ixgbe_clock_out_i2c_byte">ixgbe_clock_out_i2c_byte</a>(<a class="local col5 ref" href="#25hw" title='hw' data-ref="25hw">hw</a>, <a class="local col6 ref" href="#26byte" title='byte' data-ref="26byte">byte</a>);</td></tr>
<tr><th id="64">64</th><td>	<b>if</b> (<a class="local col7 ref" href="#27status" title='status' data-ref="27status">status</a>)</td></tr>
<tr><th id="65">65</th><td>		<b>return</b> <a class="local col7 ref" href="#27status" title='status' data-ref="27status">status</a>;</td></tr>
<tr><th id="66">66</th><td>	<b>return</b> <a class="tu ref fn" href="#ixgbe_get_i2c_ack" title='ixgbe_get_i2c_ack' data-use='c' data-ref="ixgbe_get_i2c_ack">ixgbe_get_i2c_ack</a>(<a class="local col5 ref" href="#25hw" title='hw' data-ref="25hw">hw</a>);</td></tr>
<tr><th id="67">67</th><td>}</td></tr>
<tr><th id="68">68</th><td></td></tr>
<tr><th id="69">69</th><td><i class="doc" data-doc="ixgbe_in_i2c_byte_ack">/**</i></td></tr>
<tr><th id="70">70</th><td><i class="doc" data-doc="ixgbe_in_i2c_byte_ack"> *  ixgbe_in_i2c_byte_ack - Receive an I2C byte and send ack</i></td></tr>
<tr><th id="71">71</th><td><i class="doc" data-doc="ixgbe_in_i2c_byte_ack"> * <span class="command"> @hw</span>: pointer to the hardware structure</i></td></tr>
<tr><th id="72">72</th><td><i class="doc" data-doc="ixgbe_in_i2c_byte_ack"> * <span class="command"> @byte</span>: pointer to a u8 to receive the byte</i></td></tr>
<tr><th id="73">73</th><td><i class="doc" data-doc="ixgbe_in_i2c_byte_ack"> *</i></td></tr>
<tr><th id="74">74</th><td><i class="doc" data-doc="ixgbe_in_i2c_byte_ack"> *  Returns an error code on error.</i></td></tr>
<tr><th id="75">75</th><td><i class="doc" data-doc="ixgbe_in_i2c_byte_ack"> **/</i></td></tr>
<tr><th id="76">76</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_in_i2c_byte_ack" title='ixgbe_in_i2c_byte_ack' data-type='s32 ixgbe_in_i2c_byte_ack(struct ixgbe_hw * hw, u8 * byte)' data-ref="ixgbe_in_i2c_byte_ack">ixgbe_in_i2c_byte_ack</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col8 decl" id="28hw" title='hw' data-type='struct ixgbe_hw *' data-ref="28hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> *<dfn class="local col9 decl" id="29byte" title='byte' data-type='u8 *' data-ref="29byte">byte</dfn>)</td></tr>
<tr><th id="77">77</th><td>{</td></tr>
<tr><th id="78">78</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col0 decl" id="30status" title='status' data-type='s32' data-ref="30status">status</dfn>;</td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td>	<a class="local col0 ref" href="#30status" title='status' data-ref="30status">status</a> = <a class="tu ref fn" href="#ixgbe_clock_in_i2c_byte" title='ixgbe_clock_in_i2c_byte' data-use='c' data-ref="ixgbe_clock_in_i2c_byte">ixgbe_clock_in_i2c_byte</a>(<a class="local col8 ref" href="#28hw" title='hw' data-ref="28hw">hw</a>, <a class="local col9 ref" href="#29byte" title='byte' data-ref="29byte">byte</a>);</td></tr>
<tr><th id="81">81</th><td>	<b>if</b> (<a class="local col0 ref" href="#30status" title='status' data-ref="30status">status</a>)</td></tr>
<tr><th id="82">82</th><td>		<b>return</b> <a class="local col0 ref" href="#30status" title='status' data-ref="30status">status</a>;</td></tr>
<tr><th id="83">83</th><td>	<i>/* ACK */</i></td></tr>
<tr><th id="84">84</th><td>	<b>return</b> <a class="tu ref fn" href="#ixgbe_clock_out_i2c_bit" title='ixgbe_clock_out_i2c_bit' data-use='c' data-ref="ixgbe_clock_out_i2c_bit">ixgbe_clock_out_i2c_bit</a>(<a class="local col8 ref" href="#28hw" title='hw' data-ref="28hw">hw</a>, <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>);</td></tr>
<tr><th id="85">85</th><td>}</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><i class="doc" data-doc="ixgbe_ones_comp_byte_add">/**</i></td></tr>
<tr><th id="88">88</th><td><i class="doc" data-doc="ixgbe_ones_comp_byte_add"> *  ixgbe_ones_comp_byte_add - Perform one's complement addition</i></td></tr>
<tr><th id="89">89</th><td><i class="doc" data-doc="ixgbe_ones_comp_byte_add"> * <span class="command"> @add1</span>: addend 1</i></td></tr>
<tr><th id="90">90</th><td><i class="doc" data-doc="ixgbe_ones_comp_byte_add"> * <span class="command"> @add2</span>: addend 2</i></td></tr>
<tr><th id="91">91</th><td><i class="doc" data-doc="ixgbe_ones_comp_byte_add"> *</i></td></tr>
<tr><th id="92">92</th><td><i class="doc" data-doc="ixgbe_ones_comp_byte_add"> *  Returns one's complement 8-bit sum.</i></td></tr>
<tr><th id="93">93</th><td><i class="doc" data-doc="ixgbe_ones_comp_byte_add"> **/</i></td></tr>
<tr><th id="94">94</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="tu decl def fn" id="ixgbe_ones_comp_byte_add" title='ixgbe_ones_comp_byte_add' data-type='u8 ixgbe_ones_comp_byte_add(u8 add1, u8 add2)' data-ref="ixgbe_ones_comp_byte_add">ixgbe_ones_comp_byte_add</dfn>(<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col1 decl" id="31add1" title='add1' data-type='u8' data-ref="31add1">add1</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col2 decl" id="32add2" title='add2' data-type='u8' data-ref="32add2">add2</dfn>)</td></tr>
<tr><th id="95">95</th><td>{</td></tr>
<tr><th id="96">96</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col3 decl" id="33sum" title='sum' data-type='u16' data-ref="33sum">sum</dfn> = <a class="local col1 ref" href="#31add1" title='add1' data-ref="31add1">add1</a> + <a class="local col2 ref" href="#32add2" title='add2' data-ref="32add2">add2</a>;</td></tr>
<tr><th id="97">97</th><td></td></tr>
<tr><th id="98">98</th><td>	<a class="local col3 ref" href="#33sum" title='sum' data-ref="33sum">sum</a> = (<a class="local col3 ref" href="#33sum" title='sum' data-ref="33sum">sum</a> &amp; <var>0xFF</var>) + (<a class="local col3 ref" href="#33sum" title='sum' data-ref="33sum">sum</a> &gt;&gt; <var>8</var>);</td></tr>
<tr><th id="99">99</th><td>	<b>return</b> <a class="local col3 ref" href="#33sum" title='sum' data-ref="33sum">sum</a> &amp; <var>0xFF</var>;</td></tr>
<tr><th id="100">100</th><td>}</td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td><i class="doc">/**</i></td></tr>
<tr><th id="103">103</th><td><i class="doc"> *  ixgbe_read_i2c_combined_generic_int - Perform I2C read combined operation</i></td></tr>
<tr><th id="104">104</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to the hardware structure</i></td></tr>
<tr><th id="105">105</th><td><i class="doc"> * <span class="command"> @addr</span>: I2C bus address to read from</i></td></tr>
<tr><th id="106">106</th><td><i class="doc"> *  <span class="command">@reg</span>:<span class="verb"> I2C device register to read from</span></i></td></tr>
<tr><th id="107">107</th><td><i class="doc"> *  <span class="command">@val</span>:<span class="verb"> pointer to location to receive read value</span></i></td></tr>
<tr><th id="108">108</th><td><i class="doc"> * <span class="command"> @lock</span>: true if to take and release semaphore</i></td></tr>
<tr><th id="109">109</th><td><i class="doc"> *</i></td></tr>
<tr><th id="110">110</th><td><i class="doc"> *  Returns an error code on error.</i></td></tr>
<tr><th id="111">111</th><td><i class="doc"> */</i></td></tr>
<tr><th id="112">112</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_read_i2c_combined_generic_int" title='ixgbe_read_i2c_combined_generic_int' data-ref="ixgbe_read_i2c_combined_generic_int">ixgbe_read_i2c_combined_generic_int</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col4 decl" id="34hw" title='hw' data-type='struct ixgbe_hw *' data-ref="34hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col5 decl" id="35addr" title='addr' data-type='u8' data-ref="35addr">addr</dfn>,</td></tr>
<tr><th id="113">113</th><td>					<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col6 decl" id="36reg" title='reg' data-type='u16' data-ref="36reg">reg</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> *<dfn class="local col7 decl" id="37val" title='val' data-type='u16 *' data-ref="37val">val</dfn>, <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col8 decl" id="38lock" title='lock' data-type='bool' data-ref="38lock">lock</dfn>)</td></tr>
<tr><th id="114">114</th><td>{</td></tr>
<tr><th id="115">115</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col9 decl" id="39swfw_mask" title='swfw_mask' data-type='u32' data-ref="39swfw_mask">swfw_mask</dfn> = <a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::phy_semaphore_mask" title='ixgbe_phy_info::phy_semaphore_mask' data-ref="ixgbe_phy_info::phy_semaphore_mask">phy_semaphore_mask</a>;</td></tr>
<tr><th id="116">116</th><td>	<em>int</em> <dfn class="local col0 decl" id="40max_retry" title='max_retry' data-type='int' data-ref="40max_retry">max_retry</dfn> = <var>3</var>;</td></tr>
<tr><th id="117">117</th><td>	<em>int</em> <dfn class="local col1 decl" id="41retry" title='retry' data-type='int' data-ref="41retry">retry</dfn> = <var>0</var>;</td></tr>
<tr><th id="118">118</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col2 decl" id="42csum_byte" title='csum_byte' data-type='u8' data-ref="42csum_byte">csum_byte</dfn>;</td></tr>
<tr><th id="119">119</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col3 decl" id="43high_bits" title='high_bits' data-type='u8' data-ref="43high_bits">high_bits</dfn>;</td></tr>
<tr><th id="120">120</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col4 decl" id="44low_bits" title='low_bits' data-type='u8' data-ref="44low_bits">low_bits</dfn>;</td></tr>
<tr><th id="121">121</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col5 decl" id="45reg_high" title='reg_high' data-type='u8' data-ref="45reg_high">reg_high</dfn>;</td></tr>
<tr><th id="122">122</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col6 decl" id="46csum" title='csum' data-type='u8' data-ref="46csum">csum</dfn>;</td></tr>
<tr><th id="123">123</th><td></td></tr>
<tr><th id="124">124</th><td>	<a class="local col5 ref" href="#45reg_high" title='reg_high' data-ref="45reg_high">reg_high</a> = ((<a class="local col6 ref" href="#36reg" title='reg' data-ref="36reg">reg</a> &gt;&gt; <var>7</var>) &amp; <var>0xFE</var>) | <var>1</var>;     <i>/* Indicate read combined */</i></td></tr>
<tr><th id="125">125</th><td>	<a class="local col6 ref" href="#46csum" title='csum' data-ref="46csum">csum</a> = <a class="tu ref fn" href="#ixgbe_ones_comp_byte_add" title='ixgbe_ones_comp_byte_add' data-use='c' data-ref="ixgbe_ones_comp_byte_add">ixgbe_ones_comp_byte_add</a>(<a class="local col5 ref" href="#45reg_high" title='reg_high' data-ref="45reg_high">reg_high</a>, <a class="local col6 ref" href="#36reg" title='reg' data-ref="36reg">reg</a> &amp; <var>0xFF</var>);</td></tr>
<tr><th id="126">126</th><td>	<a class="local col6 ref" href="#46csum" title='csum' data-ref="46csum">csum</a> = ~<a class="local col6 ref" href="#46csum" title='csum' data-ref="46csum">csum</a>;</td></tr>
<tr><th id="127">127</th><td>	<b>do</b> {</td></tr>
<tr><th id="128">128</th><td>		<b>if</b> (<a class="local col8 ref" href="#38lock" title='lock' data-ref="38lock">lock</a> &amp;&amp; <a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::acquire_swfw_sync" title='ixgbe_mac_operations::acquire_swfw_sync' data-ref="ixgbe_mac_operations::acquire_swfw_sync">acquire_swfw_sync</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, <a class="local col9 ref" href="#39swfw_mask" title='swfw_mask' data-ref="39swfw_mask">swfw_mask</a>))</td></tr>
<tr><th id="129">129</th><td>			<b>return</b> <a class="macro" href="ixgbe_type.h.html#3658" title="-16" data-ref="_M/IXGBE_ERR_SWFW_SYNC">IXGBE_ERR_SWFW_SYNC</a>;</td></tr>
<tr><th id="130">130</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_start" title='ixgbe_i2c_start' data-use='c' data-ref="ixgbe_i2c_start">ixgbe_i2c_start</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>);</td></tr>
<tr><th id="131">131</th><td>		<i>/* Device Address and write indication */</i></td></tr>
<tr><th id="132">132</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-use='c' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, <a class="local col5 ref" href="#35addr" title='addr' data-ref="35addr">addr</a>))</td></tr>
<tr><th id="133">133</th><td>			<b>goto</b> <a class="lbl" href="#47fail" data-ref="47fail">fail</a>;</td></tr>
<tr><th id="134">134</th><td>		<i>/* Write bits 14:8 */</i></td></tr>
<tr><th id="135">135</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-use='c' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, <a class="local col5 ref" href="#45reg_high" title='reg_high' data-ref="45reg_high">reg_high</a>))</td></tr>
<tr><th id="136">136</th><td>			<b>goto</b> <a class="lbl" href="#47fail" data-ref="47fail">fail</a>;</td></tr>
<tr><th id="137">137</th><td>		<i>/* Write bits 7:0 */</i></td></tr>
<tr><th id="138">138</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-use='c' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, <a class="local col6 ref" href="#36reg" title='reg' data-ref="36reg">reg</a> &amp; <var>0xFF</var>))</td></tr>
<tr><th id="139">139</th><td>			<b>goto</b> <a class="lbl" href="#47fail" data-ref="47fail">fail</a>;</td></tr>
<tr><th id="140">140</th><td>		<i>/* Write csum */</i></td></tr>
<tr><th id="141">141</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-use='c' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, <a class="local col6 ref" href="#46csum" title='csum' data-ref="46csum">csum</a>))</td></tr>
<tr><th id="142">142</th><td>			<b>goto</b> <a class="lbl" href="#47fail" data-ref="47fail">fail</a>;</td></tr>
<tr><th id="143">143</th><td>		<i>/* Re-start condition */</i></td></tr>
<tr><th id="144">144</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_start" title='ixgbe_i2c_start' data-use='c' data-ref="ixgbe_i2c_start">ixgbe_i2c_start</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>);</td></tr>
<tr><th id="145">145</th><td>		<i>/* Device Address and read indication */</i></td></tr>
<tr><th id="146">146</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-use='c' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, <a class="local col5 ref" href="#35addr" title='addr' data-ref="35addr">addr</a> | <var>1</var>))</td></tr>
<tr><th id="147">147</th><td>			<b>goto</b> <a class="lbl" href="#47fail" data-ref="47fail">fail</a>;</td></tr>
<tr><th id="148">148</th><td>		<i>/* Get upper bits */</i></td></tr>
<tr><th id="149">149</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_in_i2c_byte_ack" title='ixgbe_in_i2c_byte_ack' data-use='c' data-ref="ixgbe_in_i2c_byte_ack">ixgbe_in_i2c_byte_ack</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, &amp;<a class="local col3 ref" href="#43high_bits" title='high_bits' data-ref="43high_bits">high_bits</a>))</td></tr>
<tr><th id="150">150</th><td>			<b>goto</b> <a class="lbl" href="#47fail" data-ref="47fail">fail</a>;</td></tr>
<tr><th id="151">151</th><td>		<i>/* Get low bits */</i></td></tr>
<tr><th id="152">152</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_in_i2c_byte_ack" title='ixgbe_in_i2c_byte_ack' data-use='c' data-ref="ixgbe_in_i2c_byte_ack">ixgbe_in_i2c_byte_ack</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, &amp;<a class="local col4 ref" href="#44low_bits" title='low_bits' data-ref="44low_bits">low_bits</a>))</td></tr>
<tr><th id="153">153</th><td>			<b>goto</b> <a class="lbl" href="#47fail" data-ref="47fail">fail</a>;</td></tr>
<tr><th id="154">154</th><td>		<i>/* Get csum */</i></td></tr>
<tr><th id="155">155</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_clock_in_i2c_byte" title='ixgbe_clock_in_i2c_byte' data-use='c' data-ref="ixgbe_clock_in_i2c_byte">ixgbe_clock_in_i2c_byte</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, &amp;<a class="local col2 ref" href="#42csum_byte" title='csum_byte' data-ref="42csum_byte">csum_byte</a>))</td></tr>
<tr><th id="156">156</th><td>			<b>goto</b> <a class="lbl" href="#47fail" data-ref="47fail">fail</a>;</td></tr>
<tr><th id="157">157</th><td>		<i>/* NACK */</i></td></tr>
<tr><th id="158">158</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_clock_out_i2c_bit" title='ixgbe_clock_out_i2c_bit' data-use='c' data-ref="ixgbe_clock_out_i2c_bit">ixgbe_clock_out_i2c_bit</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>))</td></tr>
<tr><th id="159">159</th><td>			<b>goto</b> <a class="lbl" href="#47fail" data-ref="47fail">fail</a>;</td></tr>
<tr><th id="160">160</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_stop" title='ixgbe_i2c_stop' data-use='c' data-ref="ixgbe_i2c_stop">ixgbe_i2c_stop</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>);</td></tr>
<tr><th id="161">161</th><td>		<b>if</b> (<a class="local col8 ref" href="#38lock" title='lock' data-ref="38lock">lock</a>)</td></tr>
<tr><th id="162">162</th><td>			<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::release_swfw_sync" title='ixgbe_mac_operations::release_swfw_sync' data-ref="ixgbe_mac_operations::release_swfw_sync">release_swfw_sync</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, <a class="local col9 ref" href="#39swfw_mask" title='swfw_mask' data-ref="39swfw_mask">swfw_mask</a>);</td></tr>
<tr><th id="163">163</th><td>		*<a class="local col7 ref" href="#37val" title='val' data-ref="37val">val</a> = (<a class="local col3 ref" href="#43high_bits" title='high_bits' data-ref="43high_bits">high_bits</a> &lt;&lt; <var>8</var>) | <a class="local col4 ref" href="#44low_bits" title='low_bits' data-ref="44low_bits">low_bits</a>;</td></tr>
<tr><th id="164">164</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="165">165</th><td></td></tr>
<tr><th id="166">166</th><td><dfn class="lbl" id="47fail" data-ref="47fail">fail</dfn>:</td></tr>
<tr><th id="167">167</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_bus_clear" title='ixgbe_i2c_bus_clear' data-use='c' data-ref="ixgbe_i2c_bus_clear">ixgbe_i2c_bus_clear</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>);</td></tr>
<tr><th id="168">168</th><td>		<b>if</b> (<a class="local col8 ref" href="#38lock" title='lock' data-ref="38lock">lock</a>)</td></tr>
<tr><th id="169">169</th><td>			<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::release_swfw_sync" title='ixgbe_mac_operations::release_swfw_sync' data-ref="ixgbe_mac_operations::release_swfw_sync">release_swfw_sync</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, <a class="local col9 ref" href="#39swfw_mask" title='swfw_mask' data-ref="39swfw_mask">swfw_mask</a>);</td></tr>
<tr><th id="170">170</th><td>		<a class="local col1 ref" href="#41retry" title='retry' data-ref="41retry">retry</a>++;</td></tr>
<tr><th id="171">171</th><td>		<b>if</b> (<a class="local col1 ref" href="#41retry" title='retry' data-ref="41retry">retry</a> &lt; <a class="local col0 ref" href="#40max_retry" title='max_retry' data-ref="40max_retry">max_retry</a>)</td></tr>
<tr><th id="172">172</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;I2C byte read combined error - Retry.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, <q>"I2C byte read combined error - Retry.\n"</q>);</td></tr>
<tr><th id="173">173</th><td>		<b>else</b></td></tr>
<tr><th id="174">174</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;I2C byte read combined error.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col4 ref" href="#34hw" title='hw' data-ref="34hw">hw</a>, <q>"I2C byte read combined error.\n"</q>);</td></tr>
<tr><th id="175">175</th><td>	} <b>while</b> (<a class="local col1 ref" href="#41retry" title='retry' data-ref="41retry">retry</a> &lt; <a class="local col0 ref" href="#40max_retry" title='max_retry' data-ref="40max_retry">max_retry</a>);</td></tr>
<tr><th id="176">176</th><td></td></tr>
<tr><th id="177">177</th><td>	<b>return</b> <a class="macro" href="ixgbe_type.h.html#3660" title="-18" data-ref="_M/IXGBE_ERR_I2C">IXGBE_ERR_I2C</a>;</td></tr>
<tr><th id="178">178</th><td>}</td></tr>
<tr><th id="179">179</th><td></td></tr>
<tr><th id="180">180</th><td><i class="doc">/**</i></td></tr>
<tr><th id="181">181</th><td><i class="doc"> *  ixgbe_write_i2c_combined_generic_int - Perform I2C write combined operation</i></td></tr>
<tr><th id="182">182</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to the hardware structure</i></td></tr>
<tr><th id="183">183</th><td><i class="doc"> * <span class="command"> @addr</span>: I2C bus address to write to</i></td></tr>
<tr><th id="184">184</th><td><i class="doc"> *  <span class="command">@reg</span>:<span class="verb"> I2C device register to write to</span></i></td></tr>
<tr><th id="185">185</th><td><i class="doc"> *  <span class="command">@val</span>:<span class="verb"> value to write</span></i></td></tr>
<tr><th id="186">186</th><td><i class="doc"> * <span class="command"> @lock</span>: true if to take and release semaphore</i></td></tr>
<tr><th id="187">187</th><td><i class="doc"> *</i></td></tr>
<tr><th id="188">188</th><td><i class="doc"> *  Returns an error code on error.</i></td></tr>
<tr><th id="189">189</th><td><i class="doc"> */</i></td></tr>
<tr><th id="190">190</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_write_i2c_combined_generic_int" title='ixgbe_write_i2c_combined_generic_int' data-ref="ixgbe_write_i2c_combined_generic_int">ixgbe_write_i2c_combined_generic_int</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col8 decl" id="48hw" title='hw' data-type='struct ixgbe_hw *' data-ref="48hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col9 decl" id="49addr" title='addr' data-type='u8' data-ref="49addr">addr</dfn>,</td></tr>
<tr><th id="191">191</th><td>					 <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col0 decl" id="50reg" title='reg' data-type='u16' data-ref="50reg">reg</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col1 decl" id="51val" title='val' data-type='u16' data-ref="51val">val</dfn>, <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col2 decl" id="52lock" title='lock' data-type='bool' data-ref="52lock">lock</dfn>)</td></tr>
<tr><th id="192">192</th><td>{</td></tr>
<tr><th id="193">193</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col3 decl" id="53swfw_mask" title='swfw_mask' data-type='u32' data-ref="53swfw_mask">swfw_mask</dfn> = <a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::phy_semaphore_mask" title='ixgbe_phy_info::phy_semaphore_mask' data-ref="ixgbe_phy_info::phy_semaphore_mask">phy_semaphore_mask</a>;</td></tr>
<tr><th id="194">194</th><td>	<em>int</em> <dfn class="local col4 decl" id="54max_retry" title='max_retry' data-type='int' data-ref="54max_retry">max_retry</dfn> = <var>1</var>;</td></tr>
<tr><th id="195">195</th><td>	<em>int</em> <dfn class="local col5 decl" id="55retry" title='retry' data-type='int' data-ref="55retry">retry</dfn> = <var>0</var>;</td></tr>
<tr><th id="196">196</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col6 decl" id="56reg_high" title='reg_high' data-type='u8' data-ref="56reg_high">reg_high</dfn>;</td></tr>
<tr><th id="197">197</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col7 decl" id="57csum" title='csum' data-type='u8' data-ref="57csum">csum</dfn>;</td></tr>
<tr><th id="198">198</th><td></td></tr>
<tr><th id="199">199</th><td>	<a class="local col6 ref" href="#56reg_high" title='reg_high' data-ref="56reg_high">reg_high</a> = (<a class="local col0 ref" href="#50reg" title='reg' data-ref="50reg">reg</a> &gt;&gt; <var>7</var>) &amp; <var>0xFE</var>;   <i>/* Indicate write combined */</i></td></tr>
<tr><th id="200">200</th><td>	<a class="local col7 ref" href="#57csum" title='csum' data-ref="57csum">csum</a> = <a class="tu ref fn" href="#ixgbe_ones_comp_byte_add" title='ixgbe_ones_comp_byte_add' data-use='c' data-ref="ixgbe_ones_comp_byte_add">ixgbe_ones_comp_byte_add</a>(<a class="local col6 ref" href="#56reg_high" title='reg_high' data-ref="56reg_high">reg_high</a>, <a class="local col0 ref" href="#50reg" title='reg' data-ref="50reg">reg</a> &amp; <var>0xFF</var>);</td></tr>
<tr><th id="201">201</th><td>	<a class="local col7 ref" href="#57csum" title='csum' data-ref="57csum">csum</a> = <a class="tu ref fn" href="#ixgbe_ones_comp_byte_add" title='ixgbe_ones_comp_byte_add' data-use='c' data-ref="ixgbe_ones_comp_byte_add">ixgbe_ones_comp_byte_add</a>(<a class="local col7 ref" href="#57csum" title='csum' data-ref="57csum">csum</a>, <a class="local col1 ref" href="#51val" title='val' data-ref="51val">val</a> &gt;&gt; <var>8</var>);</td></tr>
<tr><th id="202">202</th><td>	<a class="local col7 ref" href="#57csum" title='csum' data-ref="57csum">csum</a> = <a class="tu ref fn" href="#ixgbe_ones_comp_byte_add" title='ixgbe_ones_comp_byte_add' data-use='c' data-ref="ixgbe_ones_comp_byte_add">ixgbe_ones_comp_byte_add</a>(<a class="local col7 ref" href="#57csum" title='csum' data-ref="57csum">csum</a>, <a class="local col1 ref" href="#51val" title='val' data-ref="51val">val</a> &amp; <var>0xFF</var>);</td></tr>
<tr><th id="203">203</th><td>	<a class="local col7 ref" href="#57csum" title='csum' data-ref="57csum">csum</a> = ~<a class="local col7 ref" href="#57csum" title='csum' data-ref="57csum">csum</a>;</td></tr>
<tr><th id="204">204</th><td>	<b>do</b> {</td></tr>
<tr><th id="205">205</th><td>		<b>if</b> (<a class="local col2 ref" href="#52lock" title='lock' data-ref="52lock">lock</a> &amp;&amp; <a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::acquire_swfw_sync" title='ixgbe_mac_operations::acquire_swfw_sync' data-ref="ixgbe_mac_operations::acquire_swfw_sync">acquire_swfw_sync</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>, <a class="local col3 ref" href="#53swfw_mask" title='swfw_mask' data-ref="53swfw_mask">swfw_mask</a>))</td></tr>
<tr><th id="206">206</th><td>			<b>return</b> <a class="macro" href="ixgbe_type.h.html#3658" title="-16" data-ref="_M/IXGBE_ERR_SWFW_SYNC">IXGBE_ERR_SWFW_SYNC</a>;</td></tr>
<tr><th id="207">207</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_start" title='ixgbe_i2c_start' data-use='c' data-ref="ixgbe_i2c_start">ixgbe_i2c_start</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>);</td></tr>
<tr><th id="208">208</th><td>		<i>/* Device Address and write indication */</i></td></tr>
<tr><th id="209">209</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-use='c' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>, <a class="local col9 ref" href="#49addr" title='addr' data-ref="49addr">addr</a>))</td></tr>
<tr><th id="210">210</th><td>			<b>goto</b> <a class="lbl" href="#58fail" data-ref="58fail">fail</a>;</td></tr>
<tr><th id="211">211</th><td>		<i>/* Write bits 14:8 */</i></td></tr>
<tr><th id="212">212</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-use='c' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>, <a class="local col6 ref" href="#56reg_high" title='reg_high' data-ref="56reg_high">reg_high</a>))</td></tr>
<tr><th id="213">213</th><td>			<b>goto</b> <a class="lbl" href="#58fail" data-ref="58fail">fail</a>;</td></tr>
<tr><th id="214">214</th><td>		<i>/* Write bits 7:0 */</i></td></tr>
<tr><th id="215">215</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-use='c' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>, <a class="local col0 ref" href="#50reg" title='reg' data-ref="50reg">reg</a> &amp; <var>0xFF</var>))</td></tr>
<tr><th id="216">216</th><td>			<b>goto</b> <a class="lbl" href="#58fail" data-ref="58fail">fail</a>;</td></tr>
<tr><th id="217">217</th><td>		<i>/* Write data 15:8 */</i></td></tr>
<tr><th id="218">218</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-use='c' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>, <a class="local col1 ref" href="#51val" title='val' data-ref="51val">val</a> &gt;&gt; <var>8</var>))</td></tr>
<tr><th id="219">219</th><td>			<b>goto</b> <a class="lbl" href="#58fail" data-ref="58fail">fail</a>;</td></tr>
<tr><th id="220">220</th><td>		<i>/* Write data 7:0 */</i></td></tr>
<tr><th id="221">221</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-use='c' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>, <a class="local col1 ref" href="#51val" title='val' data-ref="51val">val</a> &amp; <var>0xFF</var>))</td></tr>
<tr><th id="222">222</th><td>			<b>goto</b> <a class="lbl" href="#58fail" data-ref="58fail">fail</a>;</td></tr>
<tr><th id="223">223</th><td>		<i>/* Write csum */</i></td></tr>
<tr><th id="224">224</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_out_i2c_byte_ack" title='ixgbe_out_i2c_byte_ack' data-use='c' data-ref="ixgbe_out_i2c_byte_ack">ixgbe_out_i2c_byte_ack</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>, <a class="local col7 ref" href="#57csum" title='csum' data-ref="57csum">csum</a>))</td></tr>
<tr><th id="225">225</th><td>			<b>goto</b> <a class="lbl" href="#58fail" data-ref="58fail">fail</a>;</td></tr>
<tr><th id="226">226</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_stop" title='ixgbe_i2c_stop' data-use='c' data-ref="ixgbe_i2c_stop">ixgbe_i2c_stop</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>);</td></tr>
<tr><th id="227">227</th><td>		<b>if</b> (<a class="local col2 ref" href="#52lock" title='lock' data-ref="52lock">lock</a>)</td></tr>
<tr><th id="228">228</th><td>			<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::release_swfw_sync" title='ixgbe_mac_operations::release_swfw_sync' data-ref="ixgbe_mac_operations::release_swfw_sync">release_swfw_sync</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>, <a class="local col3 ref" href="#53swfw_mask" title='swfw_mask' data-ref="53swfw_mask">swfw_mask</a>);</td></tr>
<tr><th id="229">229</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="230">230</th><td></td></tr>
<tr><th id="231">231</th><td><dfn class="lbl" id="58fail" data-ref="58fail">fail</dfn>:</td></tr>
<tr><th id="232">232</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_bus_clear" title='ixgbe_i2c_bus_clear' data-use='c' data-ref="ixgbe_i2c_bus_clear">ixgbe_i2c_bus_clear</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>);</td></tr>
<tr><th id="233">233</th><td>		<b>if</b> (<a class="local col2 ref" href="#52lock" title='lock' data-ref="52lock">lock</a>)</td></tr>
<tr><th id="234">234</th><td>			<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::release_swfw_sync" title='ixgbe_mac_operations::release_swfw_sync' data-ref="ixgbe_mac_operations::release_swfw_sync">release_swfw_sync</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>, <a class="local col3 ref" href="#53swfw_mask" title='swfw_mask' data-ref="53swfw_mask">swfw_mask</a>);</td></tr>
<tr><th id="235">235</th><td>		<a class="local col5 ref" href="#55retry" title='retry' data-ref="55retry">retry</a>++;</td></tr>
<tr><th id="236">236</th><td>		<b>if</b> (<a class="local col5 ref" href="#55retry" title='retry' data-ref="55retry">retry</a> &lt; <a class="local col4 ref" href="#54max_retry" title='max_retry' data-ref="54max_retry">max_retry</a>)</td></tr>
<tr><th id="237">237</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;I2C byte write combined error - Retry.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>, <q>"I2C byte write combined error - Retry.\n"</q>);</td></tr>
<tr><th id="238">238</th><td>		<b>else</b></td></tr>
<tr><th id="239">239</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;I2C byte write combined error.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col8 ref" href="#48hw" title='hw' data-ref="48hw">hw</a>, <q>"I2C byte write combined error.\n"</q>);</td></tr>
<tr><th id="240">240</th><td>	} <b>while</b> (<a class="local col5 ref" href="#55retry" title='retry' data-ref="55retry">retry</a> &lt; <a class="local col4 ref" href="#54max_retry" title='max_retry' data-ref="54max_retry">max_retry</a>);</td></tr>
<tr><th id="241">241</th><td></td></tr>
<tr><th id="242">242</th><td>	<b>return</b> <a class="macro" href="ixgbe_type.h.html#3660" title="-18" data-ref="_M/IXGBE_ERR_I2C">IXGBE_ERR_I2C</a>;</td></tr>
<tr><th id="243">243</th><td>}</td></tr>
<tr><th id="244">244</th><td></td></tr>
<tr><th id="245">245</th><td><i class="doc" data-doc="ixgbe_probe_phy">/**</i></td></tr>
<tr><th id="246">246</th><td><i class="doc" data-doc="ixgbe_probe_phy"> *  ixgbe_probe_phy - Probe a single address for a PHY</i></td></tr>
<tr><th id="247">247</th><td><i class="doc" data-doc="ixgbe_probe_phy"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="248">248</th><td><i class="doc" data-doc="ixgbe_probe_phy"> * <span class="command"> @phy</span>_addr: PHY address to probe</i></td></tr>
<tr><th id="249">249</th><td><i class="doc" data-doc="ixgbe_probe_phy"> *</i></td></tr>
<tr><th id="250">250</th><td><i class="doc" data-doc="ixgbe_probe_phy"> *  Returns true if PHY found</i></td></tr>
<tr><th id="251">251</th><td><i class="doc" data-doc="ixgbe_probe_phy"> **/</i></td></tr>
<tr><th id="252">252</th><td><em>static</em> <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="tu decl def fn" id="ixgbe_probe_phy" title='ixgbe_probe_phy' data-type='bool ixgbe_probe_phy(struct ixgbe_hw * hw, u16 phy_addr)' data-ref="ixgbe_probe_phy">ixgbe_probe_phy</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col9 decl" id="59hw" title='hw' data-type='struct ixgbe_hw *' data-ref="59hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col0 decl" id="60phy_addr" title='phy_addr' data-type='u16' data-ref="60phy_addr">phy_addr</dfn>)</td></tr>
<tr><th id="253">253</th><td>{</td></tr>
<tr><th id="254">254</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col1 decl" id="61ext_ability" title='ext_ability' data-type='u16' data-ref="61ext_ability">ext_ability</dfn> = <var>0</var>;</td></tr>
<tr><th id="255">255</th><td></td></tr>
<tr><th id="256">256</th><td>	<a class="local col9 ref" href="#59hw" title='hw' data-ref="59hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::mdio" title='ixgbe_phy_info::mdio' data-ref="ixgbe_phy_info::mdio">mdio</a>.<a class="ref field" href="../../../../../include/linux/mdio.h.html#mdio_if_info::prtad" title='mdio_if_info::prtad' data-ref="mdio_if_info::prtad">prtad</a> = <a class="local col0 ref" href="#60phy_addr" title='phy_addr' data-ref="60phy_addr">phy_addr</a>;</td></tr>
<tr><th id="257">257</th><td>	<b>if</b> (<a class="ref fn" href="../../../../../include/linux/mdio.h.html#mdio45_probe" title='mdio45_probe' data-ref="mdio45_probe">mdio45_probe</a>(&amp;<a class="local col9 ref" href="#59hw" title='hw' data-ref="59hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::mdio" title='ixgbe_phy_info::mdio' data-ref="ixgbe_phy_info::mdio">mdio</a>, <a class="local col0 ref" href="#60phy_addr" title='phy_addr' data-ref="60phy_addr">phy_addr</a>) != <var>0</var>)</td></tr>
<tr><th id="258">258</th><td>		<b>return</b> <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="259">259</th><td></td></tr>
<tr><th id="260">260</th><td>	<b>if</b> (<a class="tu ref fn" href="#ixgbe_get_phy_id" title='ixgbe_get_phy_id' data-use='c' data-ref="ixgbe_get_phy_id">ixgbe_get_phy_id</a>(<a class="local col9 ref" href="#59hw" title='hw' data-ref="59hw">hw</a>))</td></tr>
<tr><th id="261">261</th><td>		<b>return</b> <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="262">262</th><td></td></tr>
<tr><th id="263">263</th><td>	<a class="local col9 ref" href="#59hw" title='hw' data-ref="59hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="tu ref fn" href="#ixgbe_get_phy_type_from_id" title='ixgbe_get_phy_type_from_id' data-use='c' data-ref="ixgbe_get_phy_type_from_id">ixgbe_get_phy_type_from_id</a>(<a class="local col9 ref" href="#59hw" title='hw' data-ref="59hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::id" title='ixgbe_phy_info::id' data-ref="ixgbe_phy_info::id">id</a>);</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td>	<b>if</b> (<a class="local col9 ref" href="#59hw" title='hw' data-ref="59hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_unknown" title='ixgbe_phy_unknown' data-ref="ixgbe_phy_unknown">ixgbe_phy_unknown</a>) {</td></tr>
<tr><th id="266">266</th><td>		<a class="local col9 ref" href="#59hw" title='hw' data-ref="59hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col9 ref" href="#59hw" title='hw' data-ref="59hw">hw</a>,</td></tr>
<tr><th id="267">267</th><td>				     <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#42" title="11" data-ref="_M/MDIO_PMA_EXTABLE">MDIO_PMA_EXTABLE</a>,</td></tr>
<tr><th id="268">268</th><td>				     <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#18" title="1" data-ref="_M/MDIO_MMD_PMAPMD">MDIO_MMD_PMAPMD</a>,</td></tr>
<tr><th id="269">269</th><td>				     &amp;<a class="local col1 ref" href="#61ext_ability" title='ext_ability' data-ref="61ext_ability">ext_ability</a>);</td></tr>
<tr><th id="270">270</th><td>		<b>if</b> (<a class="local col1 ref" href="#61ext_ability" title='ext_ability' data-ref="61ext_ability">ext_ability</a> &amp;</td></tr>
<tr><th id="271">271</th><td>		    (<a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#191" title="0x0004" data-ref="_M/MDIO_PMA_EXTABLE_10GBT">MDIO_PMA_EXTABLE_10GBT</a> |</td></tr>
<tr><th id="272">272</th><td>		     <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#194" title="0x0020" data-ref="_M/MDIO_PMA_EXTABLE_1000BT">MDIO_PMA_EXTABLE_1000BT</a>))</td></tr>
<tr><th id="273">273</th><td>			<a class="local col9 ref" href="#59hw" title='hw' data-ref="59hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_cu_unknown" title='ixgbe_phy_cu_unknown' data-ref="ixgbe_phy_cu_unknown">ixgbe_phy_cu_unknown</a>;</td></tr>
<tr><th id="274">274</th><td>		<b>else</b></td></tr>
<tr><th id="275">275</th><td>			<a class="local col9 ref" href="#59hw" title='hw' data-ref="59hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_generic" title='ixgbe_phy_generic' data-ref="ixgbe_phy_generic">ixgbe_phy_generic</a>;</td></tr>
<tr><th id="276">276</th><td>	}</td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td>	<b>return</b> <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="279">279</th><td>}</td></tr>
<tr><th id="280">280</th><td></td></tr>
<tr><th id="281">281</th><td><i class="doc">/**</i></td></tr>
<tr><th id="282">282</th><td><i class="doc"> *  ixgbe_identify_phy_generic - Get physical layer module</i></td></tr>
<tr><th id="283">283</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="284">284</th><td><i class="doc"> *</i></td></tr>
<tr><th id="285">285</th><td><i class="doc"> *  Determines the physical layer module found on the current adapter.</i></td></tr>
<tr><th id="286">286</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="287">287</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_identify_phy_generic" title='ixgbe_identify_phy_generic' data-ref="ixgbe_identify_phy_generic">ixgbe_identify_phy_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col2 decl" id="62hw" title='hw' data-type='struct ixgbe_hw *' data-ref="62hw">hw</dfn>)</td></tr>
<tr><th id="288">288</th><td>{</td></tr>
<tr><th id="289">289</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col3 decl" id="63phy_addr" title='phy_addr' data-type='u32' data-ref="63phy_addr">phy_addr</dfn>;</td></tr>
<tr><th id="290">290</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col4 decl" id="64status" title='status' data-type='u32' data-ref="64status">status</dfn> = <a class="macro" href="ixgbe_type.h.html#3659" title="-17" data-ref="_M/IXGBE_ERR_PHY_ADDR_INVALID">IXGBE_ERR_PHY_ADDR_INVALID</a>;</td></tr>
<tr><th id="291">291</th><td></td></tr>
<tr><th id="292">292</th><td>	<b>if</b> (!<a class="local col2 ref" href="#62hw" title='hw' data-ref="62hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::phy_semaphore_mask" title='ixgbe_phy_info::phy_semaphore_mask' data-ref="ixgbe_phy_info::phy_semaphore_mask">phy_semaphore_mask</a>) {</td></tr>
<tr><th id="293">293</th><td>		<b>if</b> (<a class="local col2 ref" href="#62hw" title='hw' data-ref="62hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::bus" title='ixgbe_hw::bus' data-ref="ixgbe_hw::bus">bus</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_bus_info::lan_id" title='ixgbe_bus_info::lan_id' data-ref="ixgbe_bus_info::lan_id">lan_id</a>)</td></tr>
<tr><th id="294">294</th><td>			<a class="local col2 ref" href="#62hw" title='hw' data-ref="62hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::phy_semaphore_mask" title='ixgbe_phy_info::phy_semaphore_mask' data-ref="ixgbe_phy_info::phy_semaphore_mask">phy_semaphore_mask</a> = <a class="macro" href="ixgbe_type.h.html#1960" title="0x0004" data-ref="_M/IXGBE_GSSR_PHY1_SM">IXGBE_GSSR_PHY1_SM</a>;</td></tr>
<tr><th id="295">295</th><td>		<b>else</b></td></tr>
<tr><th id="296">296</th><td>			<a class="local col2 ref" href="#62hw" title='hw' data-ref="62hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::phy_semaphore_mask" title='ixgbe_phy_info::phy_semaphore_mask' data-ref="ixgbe_phy_info::phy_semaphore_mask">phy_semaphore_mask</a> = <a class="macro" href="ixgbe_type.h.html#1959" title="0x0002" data-ref="_M/IXGBE_GSSR_PHY0_SM">IXGBE_GSSR_PHY0_SM</a>;</td></tr>
<tr><th id="297">297</th><td>	}</td></tr>
<tr><th id="298">298</th><td></td></tr>
<tr><th id="299">299</th><td>	<b>if</b> (<a class="local col2 ref" href="#62hw" title='hw' data-ref="62hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> != <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_unknown" title='ixgbe_phy_unknown' data-ref="ixgbe_phy_unknown">ixgbe_phy_unknown</a>)</td></tr>
<tr><th id="300">300</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="301">301</th><td></td></tr>
<tr><th id="302">302</th><td>	<b>if</b> (<a class="local col2 ref" href="#62hw" title='hw' data-ref="62hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::nw_mng_if_sel" title='ixgbe_phy_info::nw_mng_if_sel' data-ref="ixgbe_phy_info::nw_mng_if_sel">nw_mng_if_sel</a>) {</td></tr>
<tr><th id="303">303</th><td>		<a class="local col3 ref" href="#63phy_addr" title='phy_addr' data-ref="63phy_addr">phy_addr</a> = (<a class="local col2 ref" href="#62hw" title='hw' data-ref="62hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::nw_mng_if_sel" title='ixgbe_phy_info::nw_mng_if_sel' data-ref="ixgbe_phy_info::nw_mng_if_sel">nw_mng_if_sel</a> &amp;</td></tr>
<tr><th id="304">304</th><td>			    <a class="macro" href="ixgbe_type.h.html#3784" title="(0x1F &lt;&lt; 3)" data-ref="_M/IXGBE_NW_MNG_IF_SEL_MDIO_PHY_ADD">IXGBE_NW_MNG_IF_SEL_MDIO_PHY_ADD</a>) &gt;&gt;</td></tr>
<tr><th id="305">305</th><td>			   <a class="macro" href="ixgbe_type.h.html#3783" title="3" data-ref="_M/IXGBE_NW_MNG_IF_SEL_MDIO_PHY_ADD_SHIFT">IXGBE_NW_MNG_IF_SEL_MDIO_PHY_ADD_SHIFT</a>;</td></tr>
<tr><th id="306">306</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_probe_phy" title='ixgbe_probe_phy' data-use='c' data-ref="ixgbe_probe_phy">ixgbe_probe_phy</a>(<a class="local col2 ref" href="#62hw" title='hw' data-ref="62hw">hw</a>, <a class="local col3 ref" href="#63phy_addr" title='phy_addr' data-ref="63phy_addr">phy_addr</a>))</td></tr>
<tr><th id="307">307</th><td>			<b>return</b> <var>0</var>;</td></tr>
<tr><th id="308">308</th><td>		<b>else</b></td></tr>
<tr><th id="309">309</th><td>			<b>return</b> <a class="macro" href="ixgbe_type.h.html#3659" title="-17" data-ref="_M/IXGBE_ERR_PHY_ADDR_INVALID">IXGBE_ERR_PHY_ADDR_INVALID</a>;</td></tr>
<tr><th id="310">310</th><td>	}</td></tr>
<tr><th id="311">311</th><td></td></tr>
<tr><th id="312">312</th><td>	<b>for</b> (<a class="local col3 ref" href="#63phy_addr" title='phy_addr' data-ref="63phy_addr">phy_addr</a> = <var>0</var>; <a class="local col3 ref" href="#63phy_addr" title='phy_addr' data-ref="63phy_addr">phy_addr</a> &lt; <a class="macro" href="ixgbe_type.h.html#1377" title="32" data-ref="_M/IXGBE_MAX_PHY_ADDR">IXGBE_MAX_PHY_ADDR</a>; <a class="local col3 ref" href="#63phy_addr" title='phy_addr' data-ref="63phy_addr">phy_addr</a>++) {</td></tr>
<tr><th id="313">313</th><td>		<b>if</b> (<a class="tu ref fn" href="#ixgbe_probe_phy" title='ixgbe_probe_phy' data-use='c' data-ref="ixgbe_probe_phy">ixgbe_probe_phy</a>(<a class="local col2 ref" href="#62hw" title='hw' data-ref="62hw">hw</a>, <a class="local col3 ref" href="#63phy_addr" title='phy_addr' data-ref="63phy_addr">phy_addr</a>)) {</td></tr>
<tr><th id="314">314</th><td>			<a class="local col4 ref" href="#64status" title='status' data-ref="64status">status</a> = <var>0</var>;</td></tr>
<tr><th id="315">315</th><td>			<b>break</b>;</td></tr>
<tr><th id="316">316</th><td>		}</td></tr>
<tr><th id="317">317</th><td>	}</td></tr>
<tr><th id="318">318</th><td></td></tr>
<tr><th id="319">319</th><td>	<i>/* Certain media types do not have a phy so an address will not</i></td></tr>
<tr><th id="320">320</th><td><i>	 * be found and the code will take this path.  Caller has to</i></td></tr>
<tr><th id="321">321</th><td><i>	 * decide if it is an error or not.</i></td></tr>
<tr><th id="322">322</th><td><i>	 */</i></td></tr>
<tr><th id="323">323</th><td>	<b>if</b> (<a class="local col4 ref" href="#64status" title='status' data-ref="64status">status</a>)</td></tr>
<tr><th id="324">324</th><td>		<a class="local col2 ref" href="#62hw" title='hw' data-ref="62hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::mdio" title='ixgbe_phy_info::mdio' data-ref="ixgbe_phy_info::mdio">mdio</a>.<a class="ref field" href="../../../../../include/linux/mdio.h.html#mdio_if_info::prtad" title='mdio_if_info::prtad' data-ref="mdio_if_info::prtad">prtad</a> = <a class="macro" href="../../../../../include/linux/mdio.h.html#119" title="(-1)" data-ref="_M/MDIO_PRTAD_NONE">MDIO_PRTAD_NONE</a>;</td></tr>
<tr><th id="325">325</th><td></td></tr>
<tr><th id="326">326</th><td>	<b>return</b> <a class="local col4 ref" href="#64status" title='status' data-ref="64status">status</a>;</td></tr>
<tr><th id="327">327</th><td>}</td></tr>
<tr><th id="328">328</th><td></td></tr>
<tr><th id="329">329</th><td><i class="doc">/**</i></td></tr>
<tr><th id="330">330</th><td><i class="doc"> * ixgbe_check_reset_blocked - check status of MNG FW veto bit</i></td></tr>
<tr><th id="331">331</th><td><i class="doc"> *<span class="command"> @hw</span>: pointer to the hardware structure</i></td></tr>
<tr><th id="332">332</th><td><i class="doc"> *</i></td></tr>
<tr><th id="333">333</th><td><i class="doc"> * This function checks the MMNGC.MNG_VETO bit to see if there are</i></td></tr>
<tr><th id="334">334</th><td><i class="doc"> * any constraints on link from manageability.  For MAC's that don't</i></td></tr>
<tr><th id="335">335</th><td><i class="doc"> * have this bit just return false since the link can not be blocked</i></td></tr>
<tr><th id="336">336</th><td><i class="doc"> * via this method.</i></td></tr>
<tr><th id="337">337</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="338">338</th><td><a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="decl def fn" id="ixgbe_check_reset_blocked" title='ixgbe_check_reset_blocked' data-ref="ixgbe_check_reset_blocked">ixgbe_check_reset_blocked</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col5 decl" id="65hw" title='hw' data-type='struct ixgbe_hw *' data-ref="65hw">hw</dfn>)</td></tr>
<tr><th id="339">339</th><td>{</td></tr>
<tr><th id="340">340</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col6 decl" id="66mmngc" title='mmngc' data-type='u32' data-ref="66mmngc">mmngc</dfn>;</td></tr>
<tr><th id="341">341</th><td></td></tr>
<tr><th id="342">342</th><td>	<i>/* If we don't have this bit, it can't be blocking */</i></td></tr>
<tr><th id="343">343</th><td>	<b>if</b> (<a class="local col5 ref" href="#65hw" title='hw' data-ref="65hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::type" title='ixgbe_mac_info::type' data-ref="ixgbe_mac_info::type">type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_mac_82598EB" title='ixgbe_mac_82598EB' data-ref="ixgbe_mac_82598EB">ixgbe_mac_82598EB</a>)</td></tr>
<tr><th id="344">344</th><td>		<b>return</b> <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="345">345</th><td></td></tr>
<tr><th id="346">346</th><td>	<a class="local col6 ref" href="#66mmngc" title='mmngc' data-ref="66mmngc">mmngc</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), (0x042D0))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col5 ref" href="#65hw" title='hw' data-ref="65hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1145" title="0x042D0" data-ref="_M/IXGBE_MMNGC">IXGBE_MMNGC</a>);</td></tr>
<tr><th id="347">347</th><td>	<b>if</b> (<a class="local col6 ref" href="#66mmngc" title='mmngc' data-ref="66mmngc">mmngc</a> &amp; <a class="macro" href="ixgbe_type.h.html#1894" title="0x00000001" data-ref="_M/IXGBE_MMNGC_MNG_VETO">IXGBE_MMNGC_MNG_VETO</a>) {</td></tr>
<tr><th id="348">348</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;MNG_VETO bit detected.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col5 ref" href="#65hw" title='hw' data-ref="65hw">hw</a>, <q>"MNG_VETO bit detected.\n"</q>);</td></tr>
<tr><th id="349">349</th><td>		<b>return</b> <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="350">350</th><td>	}</td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td>	<b>return</b> <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="353">353</th><td>}</td></tr>
<tr><th id="354">354</th><td></td></tr>
<tr><th id="355">355</th><td><i class="doc" data-doc="ixgbe_get_phy_id">/**</i></td></tr>
<tr><th id="356">356</th><td><i class="doc" data-doc="ixgbe_get_phy_id"> *  ixgbe_get_phy_id - Get the phy type</i></td></tr>
<tr><th id="357">357</th><td><i class="doc" data-doc="ixgbe_get_phy_id"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="358">358</th><td><i class="doc" data-doc="ixgbe_get_phy_id"> *</i></td></tr>
<tr><th id="359">359</th><td><i class="doc" data-doc="ixgbe_get_phy_id"> **/</i></td></tr>
<tr><th id="360">360</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_get_phy_id" title='ixgbe_get_phy_id' data-type='s32 ixgbe_get_phy_id(struct ixgbe_hw * hw)' data-ref="ixgbe_get_phy_id">ixgbe_get_phy_id</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col7 decl" id="67hw" title='hw' data-type='struct ixgbe_hw *' data-ref="67hw">hw</dfn>)</td></tr>
<tr><th id="361">361</th><td>{</td></tr>
<tr><th id="362">362</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col8 decl" id="68status" title='status' data-type='s32' data-ref="68status">status</dfn>;</td></tr>
<tr><th id="363">363</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col9 decl" id="69phy_id_high" title='phy_id_high' data-type='u16' data-ref="69phy_id_high">phy_id_high</dfn> = <var>0</var>;</td></tr>
<tr><th id="364">364</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col0 decl" id="70phy_id_low" title='phy_id_low' data-type='u16' data-ref="70phy_id_low">phy_id_low</dfn> = <var>0</var>;</td></tr>
<tr><th id="365">365</th><td></td></tr>
<tr><th id="366">366</th><td>	<a class="local col8 ref" href="#68status" title='status' data-ref="68status">status</a> = <a class="local col7 ref" href="#67hw" title='hw' data-ref="67hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col7 ref" href="#67hw" title='hw' data-ref="67hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#33" title="0x02" data-ref="_M/MDIO_DEVID1">MDIO_DEVID1</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#18" title="1" data-ref="_M/MDIO_MMD_PMAPMD">MDIO_MMD_PMAPMD</a>,</td></tr>
<tr><th id="367">367</th><td>				      &amp;<a class="local col9 ref" href="#69phy_id_high" title='phy_id_high' data-ref="69phy_id_high">phy_id_high</a>);</td></tr>
<tr><th id="368">368</th><td></td></tr>
<tr><th id="369">369</th><td>	<b>if</b> (!<a class="local col8 ref" href="#68status" title='status' data-ref="68status">status</a>) {</td></tr>
<tr><th id="370">370</th><td>		<a class="local col7 ref" href="#67hw" title='hw' data-ref="67hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::id" title='ixgbe_phy_info::id' data-ref="ixgbe_phy_info::id">id</a> = (<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a>)(<a class="local col9 ref" href="#69phy_id_high" title='phy_id_high' data-ref="69phy_id_high">phy_id_high</a> &lt;&lt; <var>16</var>);</td></tr>
<tr><th id="371">371</th><td>		<a class="local col8 ref" href="#68status" title='status' data-ref="68status">status</a> = <a class="local col7 ref" href="#67hw" title='hw' data-ref="67hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col7 ref" href="#67hw" title='hw' data-ref="67hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#34" title="0x03" data-ref="_M/MDIO_DEVID2">MDIO_DEVID2</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#18" title="1" data-ref="_M/MDIO_MMD_PMAPMD">MDIO_MMD_PMAPMD</a>,</td></tr>
<tr><th id="372">372</th><td>					      &amp;<a class="local col0 ref" href="#70phy_id_low" title='phy_id_low' data-ref="70phy_id_low">phy_id_low</a>);</td></tr>
<tr><th id="373">373</th><td>		<a class="local col7 ref" href="#67hw" title='hw' data-ref="67hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::id" title='ixgbe_phy_info::id' data-ref="ixgbe_phy_info::id">id</a> |= (<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a>)(<a class="local col0 ref" href="#70phy_id_low" title='phy_id_low' data-ref="70phy_id_low">phy_id_low</a> &amp; <a class="macro" href="ixgbe_type.h.html#1376" title="0xFFFFFFF0" data-ref="_M/IXGBE_PHY_REVISION_MASK">IXGBE_PHY_REVISION_MASK</a>);</td></tr>
<tr><th id="374">374</th><td>		<a class="local col7 ref" href="#67hw" title='hw' data-ref="67hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::revision" title='ixgbe_phy_info::revision' data-ref="ixgbe_phy_info::revision">revision</a> = (<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a>)(<a class="local col0 ref" href="#70phy_id_low" title='phy_id_low' data-ref="70phy_id_low">phy_id_low</a> &amp; ~<a class="macro" href="ixgbe_type.h.html#1376" title="0xFFFFFFF0" data-ref="_M/IXGBE_PHY_REVISION_MASK">IXGBE_PHY_REVISION_MASK</a>);</td></tr>
<tr><th id="375">375</th><td>	}</td></tr>
<tr><th id="376">376</th><td>	<b>return</b> <a class="local col8 ref" href="#68status" title='status' data-ref="68status">status</a>;</td></tr>
<tr><th id="377">377</th><td>}</td></tr>
<tr><th id="378">378</th><td></td></tr>
<tr><th id="379">379</th><td><i class="doc" data-doc="ixgbe_get_phy_type_from_id">/**</i></td></tr>
<tr><th id="380">380</th><td><i class="doc" data-doc="ixgbe_get_phy_type_from_id"> *  ixgbe_get_phy_type_from_id - Get the phy type</i></td></tr>
<tr><th id="381">381</th><td><i class="doc" data-doc="ixgbe_get_phy_type_from_id"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="382">382</th><td><i class="doc" data-doc="ixgbe_get_phy_type_from_id"> *</i></td></tr>
<tr><th id="383">383</th><td><i class="doc" data-doc="ixgbe_get_phy_type_from_id"> **/</i></td></tr>
<tr><th id="384">384</th><td><em>static</em> <b>enum</b> <a class="type" href="ixgbe_type.h.html#ixgbe_phy_type" title='ixgbe_phy_type' data-ref="ixgbe_phy_type">ixgbe_phy_type</a> <dfn class="tu decl def fn" id="ixgbe_get_phy_type_from_id" title='ixgbe_get_phy_type_from_id' data-type='enum ixgbe_phy_type ixgbe_get_phy_type_from_id(u32 phy_id)' data-ref="ixgbe_get_phy_type_from_id">ixgbe_get_phy_type_from_id</dfn>(<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col1 decl" id="71phy_id" title='phy_id' data-type='u32' data-ref="71phy_id">phy_id</dfn>)</td></tr>
<tr><th id="385">385</th><td>{</td></tr>
<tr><th id="386">386</th><td>	<b>enum</b> <a class="type" href="ixgbe_type.h.html#ixgbe_phy_type" title='ixgbe_phy_type' data-ref="ixgbe_phy_type">ixgbe_phy_type</a> <dfn class="local col2 decl" id="72phy_type" title='phy_type' data-type='enum ixgbe_phy_type' data-ref="72phy_type">phy_type</dfn>;</td></tr>
<tr><th id="387">387</th><td></td></tr>
<tr><th id="388">388</th><td>	<b>switch</b> (<a class="local col1 ref" href="#71phy_id" title='phy_id' data-ref="71phy_id">phy_id</a>) {</td></tr>
<tr><th id="389">389</th><td>	<b>case</b> <a class="macro" href="ixgbe_type.h.html#1380" title="0x00A19410" data-ref="_M/TN1010_PHY_ID">TN1010_PHY_ID</a>:</td></tr>
<tr><th id="390">390</th><td>		<a class="local col2 ref" href="#72phy_type" title='phy_type' data-ref="72phy_type">phy_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_tn" title='ixgbe_phy_tn' data-ref="ixgbe_phy_tn">ixgbe_phy_tn</a>;</td></tr>
<tr><th id="391">391</th><td>		<b>break</b>;</td></tr>
<tr><th id="392">392</th><td>	<b>case</b> <a class="macro" href="ixgbe_type.h.html#1383" title="0x01540223" data-ref="_M/X550_PHY_ID2">X550_PHY_ID2</a>:</td></tr>
<tr><th id="393">393</th><td>	<b>case</b> <a class="macro" href="ixgbe_type.h.html#1384" title="0x01540221" data-ref="_M/X550_PHY_ID3">X550_PHY_ID3</a>:</td></tr>
<tr><th id="394">394</th><td>	<b>case</b> <a class="macro" href="ixgbe_type.h.html#1382" title="0x01540200" data-ref="_M/X540_PHY_ID">X540_PHY_ID</a>:</td></tr>
<tr><th id="395">395</th><td>		<a class="local col2 ref" href="#72phy_type" title='phy_type' data-ref="72phy_type">phy_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_aq" title='ixgbe_phy_aq' data-ref="ixgbe_phy_aq">ixgbe_phy_aq</a>;</td></tr>
<tr><th id="396">396</th><td>		<b>break</b>;</td></tr>
<tr><th id="397">397</th><td>	<b>case</b> <a class="macro" href="ixgbe_type.h.html#1387" title="0x0043A400" data-ref="_M/QT2022_PHY_ID">QT2022_PHY_ID</a>:</td></tr>
<tr><th id="398">398</th><td>		<a class="local col2 ref" href="#72phy_type" title='phy_type' data-ref="72phy_type">phy_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_qt" title='ixgbe_phy_qt' data-ref="ixgbe_phy_qt">ixgbe_phy_qt</a>;</td></tr>
<tr><th id="399">399</th><td>		<b>break</b>;</td></tr>
<tr><th id="400">400</th><td>	<b>case</b> <a class="macro" href="ixgbe_type.h.html#1388" title="0x03429050" data-ref="_M/ATH_PHY_ID">ATH_PHY_ID</a>:</td></tr>
<tr><th id="401">401</th><td>		<a class="local col2 ref" href="#72phy_type" title='phy_type' data-ref="72phy_type">phy_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_nl" title='ixgbe_phy_nl' data-ref="ixgbe_phy_nl">ixgbe_phy_nl</a>;</td></tr>
<tr><th id="402">402</th><td>		<b>break</b>;</td></tr>
<tr><th id="403">403</th><td>	<b>case</b> <a class="macro" href="ixgbe_type.h.html#1385" title="0x01540240" data-ref="_M/X557_PHY_ID">X557_PHY_ID</a>:</td></tr>
<tr><th id="404">404</th><td>	<b>case</b> <a class="macro" href="ixgbe_type.h.html#1386" title="0x01540250" data-ref="_M/X557_PHY_ID2">X557_PHY_ID2</a>:</td></tr>
<tr><th id="405">405</th><td>		<a class="local col2 ref" href="#72phy_type" title='phy_type' data-ref="72phy_type">phy_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_x550em_ext_t" title='ixgbe_phy_x550em_ext_t' data-ref="ixgbe_phy_x550em_ext_t">ixgbe_phy_x550em_ext_t</a>;</td></tr>
<tr><th id="406">406</th><td>		<b>break</b>;</td></tr>
<tr><th id="407">407</th><td>	<b>default</b>:</td></tr>
<tr><th id="408">408</th><td>		<a class="local col2 ref" href="#72phy_type" title='phy_type' data-ref="72phy_type">phy_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_unknown" title='ixgbe_phy_unknown' data-ref="ixgbe_phy_unknown">ixgbe_phy_unknown</a>;</td></tr>
<tr><th id="409">409</th><td>		<b>break</b>;</td></tr>
<tr><th id="410">410</th><td>	}</td></tr>
<tr><th id="411">411</th><td></td></tr>
<tr><th id="412">412</th><td>	<b>return</b> <a class="local col2 ref" href="#72phy_type" title='phy_type' data-ref="72phy_type">phy_type</a>;</td></tr>
<tr><th id="413">413</th><td>}</td></tr>
<tr><th id="414">414</th><td></td></tr>
<tr><th id="415">415</th><td><i class="doc">/**</i></td></tr>
<tr><th id="416">416</th><td><i class="doc"> *  ixgbe_reset_phy_generic - Performs a PHY reset</i></td></tr>
<tr><th id="417">417</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="418">418</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="419">419</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_reset_phy_generic" title='ixgbe_reset_phy_generic' data-ref="ixgbe_reset_phy_generic">ixgbe_reset_phy_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col3 decl" id="73hw" title='hw' data-type='struct ixgbe_hw *' data-ref="73hw">hw</dfn>)</td></tr>
<tr><th id="420">420</th><td>{</td></tr>
<tr><th id="421">421</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col4 decl" id="74i" title='i' data-type='u32' data-ref="74i">i</dfn>;</td></tr>
<tr><th id="422">422</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col5 decl" id="75ctrl" title='ctrl' data-type='u16' data-ref="75ctrl">ctrl</dfn> = <var>0</var>;</td></tr>
<tr><th id="423">423</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col6 decl" id="76status" title='status' data-type='s32' data-ref="76status">status</dfn> = <var>0</var>;</td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td>	<b>if</b> (<a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_unknown" title='ixgbe_phy_unknown' data-ref="ixgbe_phy_unknown">ixgbe_phy_unknown</a>)</td></tr>
<tr><th id="426">426</th><td>		<a class="local col6 ref" href="#76status" title='status' data-ref="76status">status</a> = <a class="ref fn" href="#ixgbe_identify_phy_generic" title='ixgbe_identify_phy_generic' data-ref="ixgbe_identify_phy_generic">ixgbe_identify_phy_generic</a>(<a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>);</td></tr>
<tr><th id="427">427</th><td></td></tr>
<tr><th id="428">428</th><td>	<b>if</b> (<a class="local col6 ref" href="#76status" title='status' data-ref="76status">status</a> != <var>0</var> || <a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_none" title='ixgbe_phy_none' data-ref="ixgbe_phy_none">ixgbe_phy_none</a>)</td></tr>
<tr><th id="429">429</th><td>		<b>return</b> <a class="local col6 ref" href="#76status" title='status' data-ref="76status">status</a>;</td></tr>
<tr><th id="430">430</th><td></td></tr>
<tr><th id="431">431</th><td>	<i>/* Don't reset PHY if it's shut down due to overtemp. */</i></td></tr>
<tr><th id="432">432</th><td>	<b>if</b> (!<a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::reset_if_overtemp" title='ixgbe_phy_info::reset_if_overtemp' data-ref="ixgbe_phy_info::reset_if_overtemp">reset_if_overtemp</a> &amp;&amp;</td></tr>
<tr><th id="433">433</th><td>	    (<a class="macro" href="ixgbe_type.h.html#3668" title="-26" data-ref="_M/IXGBE_ERR_OVERTEMP">IXGBE_ERR_OVERTEMP</a> == <a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::check_overtemp" title='ixgbe_phy_operations::check_overtemp' data-ref="ixgbe_phy_operations::check_overtemp">check_overtemp</a>(<a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>)))</td></tr>
<tr><th id="434">434</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="435">435</th><td></td></tr>
<tr><th id="436">436</th><td>	<i>/* Blocked by MNG FW so bail */</i></td></tr>
<tr><th id="437">437</th><td>	<b>if</b> (<a class="ref fn" href="#ixgbe_check_reset_blocked" title='ixgbe_check_reset_blocked' data-ref="ixgbe_check_reset_blocked">ixgbe_check_reset_blocked</a>(<a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>))</td></tr>
<tr><th id="438">438</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="439">439</th><td></td></tr>
<tr><th id="440">440</th><td>	<i>/*</i></td></tr>
<tr><th id="441">441</th><td><i>	 * Perform soft PHY reset to the PHY_XS.</i></td></tr>
<tr><th id="442">442</th><td><i>	 * This will cause a soft reset to the PHY</i></td></tr>
<tr><th id="443">443</th><td><i>	 */</i></td></tr>
<tr><th id="444">444</th><td>	<a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#31" title="0x00" data-ref="_M/MDIO_CTRL1">MDIO_CTRL1</a>,</td></tr>
<tr><th id="445">445</th><td>			      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#22" title="4" data-ref="_M/MDIO_MMD_PHYXS">MDIO_MMD_PHYXS</a>,</td></tr>
<tr><th id="446">446</th><td>			      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#80" title="0x8000" data-ref="_M/MDIO_CTRL1_RESET">MDIO_CTRL1_RESET</a>);</td></tr>
<tr><th id="447">447</th><td></td></tr>
<tr><th id="448">448</th><td>	<i>/*</i></td></tr>
<tr><th id="449">449</th><td><i>	 * Poll for reset bit to self-clear indicating reset is complete.</i></td></tr>
<tr><th id="450">450</th><td><i>	 * Some PHYs could take up to 3 seconds to complete and need about</i></td></tr>
<tr><th id="451">451</th><td><i>	 * 1.7 usec delay after the reset is complete.</i></td></tr>
<tr><th id="452">452</th><td><i>	 */</i></td></tr>
<tr><th id="453">453</th><td>	<b>for</b> (<a class="local col4 ref" href="#74i" title='i' data-ref="74i">i</a> = <var>0</var>; <a class="local col4 ref" href="#74i" title='i' data-ref="74i">i</a> &lt; <var>30</var>; <a class="local col4 ref" href="#74i" title='i' data-ref="74i">i</a>++) {</td></tr>
<tr><th id="454">454</th><td>		<a class="ref fn" href="../../../../../include/linux/delay.h.html#msleep" title='msleep' data-ref="msleep">msleep</a>(<var>100</var>);</td></tr>
<tr><th id="455">455</th><td>		<b>if</b> (<a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_x550em_ext_t" title='ixgbe_phy_x550em_ext_t' data-ref="ixgbe_phy_x550em_ext_t">ixgbe_phy_x550em_ext_t</a>) {</td></tr>
<tr><th id="456">456</th><td>			<a class="local col6 ref" href="#76status" title='status' data-ref="76status">status</a> = <a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>,</td></tr>
<tr><th id="457">457</th><td>						  <a class="macro" href="ixgbe_type.h.html#1339" title="0xCC02" data-ref="_M/IXGBE_MDIO_TX_VENDOR_ALARMS_3">IXGBE_MDIO_TX_VENDOR_ALARMS_3</a>,</td></tr>
<tr><th id="458">458</th><td>						  <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#18" title="1" data-ref="_M/MDIO_MMD_PMAPMD">MDIO_MMD_PMAPMD</a>, &amp;<a class="local col5 ref" href="#75ctrl" title='ctrl' data-ref="75ctrl">ctrl</a>);</td></tr>
<tr><th id="459">459</th><td>			<b>if</b> (<a class="local col6 ref" href="#76status" title='status' data-ref="76status">status</a>)</td></tr>
<tr><th id="460">460</th><td>				<b>return</b> <a class="local col6 ref" href="#76status" title='status' data-ref="76status">status</a>;</td></tr>
<tr><th id="461">461</th><td></td></tr>
<tr><th id="462">462</th><td>			<b>if</b> (<a class="local col5 ref" href="#75ctrl" title='ctrl' data-ref="75ctrl">ctrl</a> &amp; <a class="macro" href="ixgbe_type.h.html#1340" title="0x3" data-ref="_M/IXGBE_MDIO_TX_VENDOR_ALARMS_3_RST_MASK">IXGBE_MDIO_TX_VENDOR_ALARMS_3_RST_MASK</a>) {</td></tr>
<tr><th id="463">463</th><td>				<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(2)) { if ((2) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((2) * 0x10c7ul); } else { __udelay(2); } })" data-ref="_M/udelay">udelay</a>(<var>2</var>);</td></tr>
<tr><th id="464">464</th><td>				<b>break</b>;</td></tr>
<tr><th id="465">465</th><td>			}</td></tr>
<tr><th id="466">466</th><td>		} <b>else</b> {</td></tr>
<tr><th id="467">467</th><td>			<a class="local col6 ref" href="#76status" title='status' data-ref="76status">status</a> = <a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#31" title="0x00" data-ref="_M/MDIO_CTRL1">MDIO_CTRL1</a>,</td></tr>
<tr><th id="468">468</th><td>						      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#22" title="4" data-ref="_M/MDIO_MMD_PHYXS">MDIO_MMD_PHYXS</a>, &amp;<a class="local col5 ref" href="#75ctrl" title='ctrl' data-ref="75ctrl">ctrl</a>);</td></tr>
<tr><th id="469">469</th><td>			<b>if</b> (<a class="local col6 ref" href="#76status" title='status' data-ref="76status">status</a>)</td></tr>
<tr><th id="470">470</th><td>				<b>return</b> <a class="local col6 ref" href="#76status" title='status' data-ref="76status">status</a>;</td></tr>
<tr><th id="471">471</th><td></td></tr>
<tr><th id="472">472</th><td>			<b>if</b> (!(<a class="local col5 ref" href="#75ctrl" title='ctrl' data-ref="75ctrl">ctrl</a> &amp; <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#80" title="0x8000" data-ref="_M/MDIO_CTRL1_RESET">MDIO_CTRL1_RESET</a>)) {</td></tr>
<tr><th id="473">473</th><td>				<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(2)) { if ((2) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((2) * 0x10c7ul); } else { __udelay(2); } })" data-ref="_M/udelay">udelay</a>(<var>2</var>);</td></tr>
<tr><th id="474">474</th><td>				<b>break</b>;</td></tr>
<tr><th id="475">475</th><td>			}</td></tr>
<tr><th id="476">476</th><td>		}</td></tr>
<tr><th id="477">477</th><td>	}</td></tr>
<tr><th id="478">478</th><td></td></tr>
<tr><th id="479">479</th><td>	<b>if</b> (<a class="local col5 ref" href="#75ctrl" title='ctrl' data-ref="75ctrl">ctrl</a> &amp; <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#80" title="0x8000" data-ref="_M/MDIO_CTRL1_RESET">MDIO_CTRL1_RESET</a>) {</td></tr>
<tr><th id="480">480</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;PHY reset polling failed to complete.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col3 ref" href="#73hw" title='hw' data-ref="73hw">hw</a>, <q>"PHY reset polling failed to complete.\n"</q>);</td></tr>
<tr><th id="481">481</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3657" title="-15" data-ref="_M/IXGBE_ERR_RESET_FAILED">IXGBE_ERR_RESET_FAILED</a>;</td></tr>
<tr><th id="482">482</th><td>	}</td></tr>
<tr><th id="483">483</th><td></td></tr>
<tr><th id="484">484</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="485">485</th><td>}</td></tr>
<tr><th id="486">486</th><td></td></tr>
<tr><th id="487">487</th><td><i class="doc">/**</i></td></tr>
<tr><th id="488">488</th><td><i class="doc"> *  ixgbe_read_phy_mdi - Reads a value from a specified PHY register without</i></td></tr>
<tr><th id="489">489</th><td><i class="doc"> *  the SWFW lock</i></td></tr>
<tr><th id="490">490</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="491">491</th><td><i class="doc"> *  <span class="command">@reg</span>_<span class="verb">addr: 32 bit address of PHY register to read</span></i></td></tr>
<tr><th id="492">492</th><td><i class="doc"> * <span class="command"> @phy</span>_data: Pointer to read data from PHY register</i></td></tr>
<tr><th id="493">493</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="494">494</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_read_phy_reg_mdi" title='ixgbe_read_phy_reg_mdi' data-ref="ixgbe_read_phy_reg_mdi">ixgbe_read_phy_reg_mdi</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col7 decl" id="77hw" title='hw' data-type='struct ixgbe_hw *' data-ref="77hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col8 decl" id="78reg_addr" title='reg_addr' data-type='u32' data-ref="78reg_addr">reg_addr</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col9 decl" id="79device_type" title='device_type' data-type='u32' data-ref="79device_type">device_type</dfn>,</td></tr>
<tr><th id="495">495</th><td>		       <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> *<dfn class="local col0 decl" id="80phy_data" title='phy_data' data-type='u16 *' data-ref="80phy_data">phy_data</dfn>)</td></tr>
<tr><th id="496">496</th><td>{</td></tr>
<tr><th id="497">497</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col1 decl" id="81i" title='i' data-type='u32' data-ref="81i">i</dfn>, <dfn class="local col2 decl" id="82data" title='data' data-type='u32' data-ref="82data">data</dfn>, <dfn class="local col3 decl" id="83command" title='command' data-type='u32' data-ref="83command">command</dfn>;</td></tr>
<tr><th id="498">498</th><td></td></tr>
<tr><th id="499">499</th><td>	<i>/* Setup and write the address cycle command */</i></td></tr>
<tr><th id="500">500</th><td>	<a class="local col3 ref" href="#83command" title='command' data-ref="83command">command</a> = ((<a class="local col8 ref" href="#78reg_addr" title='reg_addr' data-ref="78reg_addr">reg_addr</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1277" title="0" data-ref="_M/IXGBE_MSCA_NP_ADDR_SHIFT">IXGBE_MSCA_NP_ADDR_SHIFT</a>)  |</td></tr>
<tr><th id="501">501</th><td>		   (<a class="local col9 ref" href="#79device_type" title='device_type' data-ref="79device_type">device_type</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1279" title="16" data-ref="_M/IXGBE_MSCA_DEV_TYPE_SHIFT">IXGBE_MSCA_DEV_TYPE_SHIFT</a>) |</td></tr>
<tr><th id="502">502</th><td>		   (<a class="local col7 ref" href="#77hw" title='hw' data-ref="77hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::mdio" title='ixgbe_phy_info::mdio' data-ref="ixgbe_phy_info::mdio">mdio</a>.<a class="ref field" href="../../../../../include/linux/mdio.h.html#mdio_if_info::prtad" title='mdio_if_info::prtad' data-ref="mdio_if_info::prtad">prtad</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1281" title="21" data-ref="_M/IXGBE_MSCA_PHY_ADDR_SHIFT">IXGBE_MSCA_PHY_ADDR_SHIFT</a>) |</td></tr>
<tr><th id="503">503</th><td>		   (<a class="macro" href="ixgbe_type.h.html#1284" title="0x00000000" data-ref="_M/IXGBE_MSCA_ADDR_CYCLE">IXGBE_MSCA_ADDR_CYCLE</a> | <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>));</td></tr>
<tr><th id="504">504</th><td></td></tr>
<tr><th id="505">505</th><td>	<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), (0x0425C), (command))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col7 ref" href="#77hw" title='hw' data-ref="77hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1123" title="0x0425C" data-ref="_M/IXGBE_MSCA">IXGBE_MSCA</a>, <a class="local col3 ref" href="#83command" title='command' data-ref="83command">command</a>);</td></tr>
<tr><th id="506">506</th><td></td></tr>
<tr><th id="507">507</th><td>	<i>/* Check every 10 usec to see if the address cycle completed.</i></td></tr>
<tr><th id="508">508</th><td><i>	 * The MDI Command bit will clear when the operation is</i></td></tr>
<tr><th id="509">509</th><td><i>	 * complete</i></td></tr>
<tr><th id="510">510</th><td><i>	 */</i></td></tr>
<tr><th id="511">511</th><td>	<b>for</b> (<a class="local col1 ref" href="#81i" title='i' data-ref="81i">i</a> = <var>0</var>; <a class="local col1 ref" href="#81i" title='i' data-ref="81i">i</a> &lt; <a class="macro" href="ixgbe_type.h.html#1323" title="100" data-ref="_M/IXGBE_MDIO_COMMAND_TIMEOUT">IXGBE_MDIO_COMMAND_TIMEOUT</a>; <a class="local col1 ref" href="#81i" title='i' data-ref="81i">i</a>++) {</td></tr>
<tr><th id="512">512</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(10)) { if ((10) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((10) * 0x10c7ul); } else { __udelay(10); } })" data-ref="_M/udelay">udelay</a>(<var>10</var>);</td></tr>
<tr><th id="513">513</th><td></td></tr>
<tr><th id="514">514</th><td>		<a class="local col3 ref" href="#83command" title='command' data-ref="83command">command</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), (0x0425C))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col7 ref" href="#77hw" title='hw' data-ref="77hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1123" title="0x0425C" data-ref="_M/IXGBE_MSCA">IXGBE_MSCA</a>);</td></tr>
<tr><th id="515">515</th><td>		<b>if</b> ((<a class="local col3 ref" href="#83command" title='command' data-ref="83command">command</a> &amp; <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>) == <var>0</var>)</td></tr>
<tr><th id="516">516</th><td>				<b>break</b>;</td></tr>
<tr><th id="517">517</th><td>	}</td></tr>
<tr><th id="518">518</th><td></td></tr>
<tr><th id="519">519</th><td></td></tr>
<tr><th id="520">520</th><td>	<b>if</b> ((<a class="local col3 ref" href="#83command" title='command' data-ref="83command">command</a> &amp; <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>) != <var>0</var>) {</td></tr>
<tr><th id="521">521</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;PHY address command did not complete.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col7 ref" href="#77hw" title='hw' data-ref="77hw">hw</a>, <q>"PHY address command did not complete.\n"</q>);</td></tr>
<tr><th id="522">522</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3645" title="-3" data-ref="_M/IXGBE_ERR_PHY">IXGBE_ERR_PHY</a>;</td></tr>
<tr><th id="523">523</th><td>	}</td></tr>
<tr><th id="524">524</th><td></td></tr>
<tr><th id="525">525</th><td>	<i>/* Address cycle complete, setup and write the read</i></td></tr>
<tr><th id="526">526</th><td><i>	 * command</i></td></tr>
<tr><th id="527">527</th><td><i>	 */</i></td></tr>
<tr><th id="528">528</th><td>	<a class="local col3 ref" href="#83command" title='command' data-ref="83command">command</a> = ((<a class="local col8 ref" href="#78reg_addr" title='reg_addr' data-ref="78reg_addr">reg_addr</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1277" title="0" data-ref="_M/IXGBE_MSCA_NP_ADDR_SHIFT">IXGBE_MSCA_NP_ADDR_SHIFT</a>)  |</td></tr>
<tr><th id="529">529</th><td>		   (<a class="local col9 ref" href="#79device_type" title='device_type' data-ref="79device_type">device_type</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1279" title="16" data-ref="_M/IXGBE_MSCA_DEV_TYPE_SHIFT">IXGBE_MSCA_DEV_TYPE_SHIFT</a>) |</td></tr>
<tr><th id="530">530</th><td>		   (<a class="local col7 ref" href="#77hw" title='hw' data-ref="77hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::mdio" title='ixgbe_phy_info::mdio' data-ref="ixgbe_phy_info::mdio">mdio</a>.<a class="ref field" href="../../../../../include/linux/mdio.h.html#mdio_if_info::prtad" title='mdio_if_info::prtad' data-ref="mdio_if_info::prtad">prtad</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1281" title="21" data-ref="_M/IXGBE_MSCA_PHY_ADDR_SHIFT">IXGBE_MSCA_PHY_ADDR_SHIFT</a>) |</td></tr>
<tr><th id="531">531</th><td>		   (<a class="macro" href="ixgbe_type.h.html#1286" title="0x0C000000" data-ref="_M/IXGBE_MSCA_READ">IXGBE_MSCA_READ</a> | <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>));</td></tr>
<tr><th id="532">532</th><td></td></tr>
<tr><th id="533">533</th><td>	<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), (0x0425C), (command))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col7 ref" href="#77hw" title='hw' data-ref="77hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1123" title="0x0425C" data-ref="_M/IXGBE_MSCA">IXGBE_MSCA</a>, <a class="local col3 ref" href="#83command" title='command' data-ref="83command">command</a>);</td></tr>
<tr><th id="534">534</th><td></td></tr>
<tr><th id="535">535</th><td>	<i>/* Check every 10 usec to see if the address cycle</i></td></tr>
<tr><th id="536">536</th><td><i>	 * completed. The MDI Command bit will clear when the</i></td></tr>
<tr><th id="537">537</th><td><i>	 * operation is complete</i></td></tr>
<tr><th id="538">538</th><td><i>	 */</i></td></tr>
<tr><th id="539">539</th><td>	<b>for</b> (<a class="local col1 ref" href="#81i" title='i' data-ref="81i">i</a> = <var>0</var>; <a class="local col1 ref" href="#81i" title='i' data-ref="81i">i</a> &lt; <a class="macro" href="ixgbe_type.h.html#1323" title="100" data-ref="_M/IXGBE_MDIO_COMMAND_TIMEOUT">IXGBE_MDIO_COMMAND_TIMEOUT</a>; <a class="local col1 ref" href="#81i" title='i' data-ref="81i">i</a>++) {</td></tr>
<tr><th id="540">540</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(10)) { if ((10) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((10) * 0x10c7ul); } else { __udelay(10); } })" data-ref="_M/udelay">udelay</a>(<var>10</var>);</td></tr>
<tr><th id="541">541</th><td></td></tr>
<tr><th id="542">542</th><td>		<a class="local col3 ref" href="#83command" title='command' data-ref="83command">command</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), (0x0425C))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col7 ref" href="#77hw" title='hw' data-ref="77hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1123" title="0x0425C" data-ref="_M/IXGBE_MSCA">IXGBE_MSCA</a>);</td></tr>
<tr><th id="543">543</th><td>		<b>if</b> ((<a class="local col3 ref" href="#83command" title='command' data-ref="83command">command</a> &amp; <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>) == <var>0</var>)</td></tr>
<tr><th id="544">544</th><td>			<b>break</b>;</td></tr>
<tr><th id="545">545</th><td>	}</td></tr>
<tr><th id="546">546</th><td></td></tr>
<tr><th id="547">547</th><td>	<b>if</b> ((<a class="local col3 ref" href="#83command" title='command' data-ref="83command">command</a> &amp; <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>) != <var>0</var>) {</td></tr>
<tr><th id="548">548</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;PHY read command didn&apos;t complete\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col7 ref" href="#77hw" title='hw' data-ref="77hw">hw</a>, <q>"PHY read command didn't complete\n"</q>);</td></tr>
<tr><th id="549">549</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3645" title="-3" data-ref="_M/IXGBE_ERR_PHY">IXGBE_ERR_PHY</a>;</td></tr>
<tr><th id="550">550</th><td>	}</td></tr>
<tr><th id="551">551</th><td></td></tr>
<tr><th id="552">552</th><td>	<i>/* Read operation is complete.  Get the data</i></td></tr>
<tr><th id="553">553</th><td><i>	 * from MSRWD</i></td></tr>
<tr><th id="554">554</th><td><i>	 */</i></td></tr>
<tr><th id="555">555</th><td>	<a class="local col2 ref" href="#82data" title='data' data-ref="82data">data</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), (0x04260))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col7 ref" href="#77hw" title='hw' data-ref="77hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1124" title="0x04260" data-ref="_M/IXGBE_MSRWD">IXGBE_MSRWD</a>);</td></tr>
<tr><th id="556">556</th><td>	<a class="local col2 ref" href="#82data" title='data' data-ref="82data">data</a> &gt;&gt;= <a class="macro" href="ixgbe_type.h.html#1299" title="16" data-ref="_M/IXGBE_MSRWD_READ_DATA_SHIFT">IXGBE_MSRWD_READ_DATA_SHIFT</a>;</td></tr>
<tr><th id="557">557</th><td>	*<a class="local col0 ref" href="#80phy_data" title='phy_data' data-ref="80phy_data">phy_data</a> = (<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a>)(<a class="local col2 ref" href="#82data" title='data' data-ref="82data">data</a>);</td></tr>
<tr><th id="558">558</th><td></td></tr>
<tr><th id="559">559</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="560">560</th><td>}</td></tr>
<tr><th id="561">561</th><td></td></tr>
<tr><th id="562">562</th><td><i class="doc">/**</i></td></tr>
<tr><th id="563">563</th><td><i class="doc"> *  ixgbe_read_phy_reg_generic - Reads a value from a specified PHY register</i></td></tr>
<tr><th id="564">564</th><td><i class="doc"> *  using the SWFW lock - this function is needed in most cases</i></td></tr>
<tr><th id="565">565</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="566">566</th><td><i class="doc"> *  <span class="command">@reg</span>_<span class="verb">addr: 32 bit address of PHY register to read</span></i></td></tr>
<tr><th id="567">567</th><td><i class="doc"> * <span class="command"> @phy</span>_data: Pointer to read data from PHY register</i></td></tr>
<tr><th id="568">568</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="569">569</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_read_phy_reg_generic" title='ixgbe_read_phy_reg_generic' data-ref="ixgbe_read_phy_reg_generic">ixgbe_read_phy_reg_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col4 decl" id="84hw" title='hw' data-type='struct ixgbe_hw *' data-ref="84hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col5 decl" id="85reg_addr" title='reg_addr' data-type='u32' data-ref="85reg_addr">reg_addr</dfn>,</td></tr>
<tr><th id="570">570</th><td>			       <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col6 decl" id="86device_type" title='device_type' data-type='u32' data-ref="86device_type">device_type</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> *<dfn class="local col7 decl" id="87phy_data" title='phy_data' data-type='u16 *' data-ref="87phy_data">phy_data</dfn>)</td></tr>
<tr><th id="571">571</th><td>{</td></tr>
<tr><th id="572">572</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col8 decl" id="88status" title='status' data-type='s32' data-ref="88status">status</dfn>;</td></tr>
<tr><th id="573">573</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col9 decl" id="89gssr" title='gssr' data-type='u32' data-ref="89gssr">gssr</dfn> = <a class="local col4 ref" href="#84hw" title='hw' data-ref="84hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::phy_semaphore_mask" title='ixgbe_phy_info::phy_semaphore_mask' data-ref="ixgbe_phy_info::phy_semaphore_mask">phy_semaphore_mask</a>;</td></tr>
<tr><th id="574">574</th><td></td></tr>
<tr><th id="575">575</th><td>	<b>if</b> (<a class="local col4 ref" href="#84hw" title='hw' data-ref="84hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::acquire_swfw_sync" title='ixgbe_mac_operations::acquire_swfw_sync' data-ref="ixgbe_mac_operations::acquire_swfw_sync">acquire_swfw_sync</a>(<a class="local col4 ref" href="#84hw" title='hw' data-ref="84hw">hw</a>, <a class="local col9 ref" href="#89gssr" title='gssr' data-ref="89gssr">gssr</a>) == <var>0</var>) {</td></tr>
<tr><th id="576">576</th><td>		<a class="local col8 ref" href="#88status" title='status' data-ref="88status">status</a> = <a class="ref fn" href="#ixgbe_read_phy_reg_mdi" title='ixgbe_read_phy_reg_mdi' data-ref="ixgbe_read_phy_reg_mdi">ixgbe_read_phy_reg_mdi</a>(<a class="local col4 ref" href="#84hw" title='hw' data-ref="84hw">hw</a>, <a class="local col5 ref" href="#85reg_addr" title='reg_addr' data-ref="85reg_addr">reg_addr</a>, <a class="local col6 ref" href="#86device_type" title='device_type' data-ref="86device_type">device_type</a>,</td></tr>
<tr><th id="577">577</th><td>						<a class="local col7 ref" href="#87phy_data" title='phy_data' data-ref="87phy_data">phy_data</a>);</td></tr>
<tr><th id="578">578</th><td>		<a class="local col4 ref" href="#84hw" title='hw' data-ref="84hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::release_swfw_sync" title='ixgbe_mac_operations::release_swfw_sync' data-ref="ixgbe_mac_operations::release_swfw_sync">release_swfw_sync</a>(<a class="local col4 ref" href="#84hw" title='hw' data-ref="84hw">hw</a>, <a class="local col9 ref" href="#89gssr" title='gssr' data-ref="89gssr">gssr</a>);</td></tr>
<tr><th id="579">579</th><td>	} <b>else</b> {</td></tr>
<tr><th id="580">580</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3658" title="-16" data-ref="_M/IXGBE_ERR_SWFW_SYNC">IXGBE_ERR_SWFW_SYNC</a>;</td></tr>
<tr><th id="581">581</th><td>	}</td></tr>
<tr><th id="582">582</th><td></td></tr>
<tr><th id="583">583</th><td>	<b>return</b> <a class="local col8 ref" href="#88status" title='status' data-ref="88status">status</a>;</td></tr>
<tr><th id="584">584</th><td>}</td></tr>
<tr><th id="585">585</th><td></td></tr>
<tr><th id="586">586</th><td><i class="doc">/**</i></td></tr>
<tr><th id="587">587</th><td><i class="doc"> *  ixgbe_write_phy_reg_mdi - Writes a value to specified PHY register</i></td></tr>
<tr><th id="588">588</th><td><i class="doc"> *  without SWFW lock</i></td></tr>
<tr><th id="589">589</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="590">590</th><td><i class="doc"> *  <span class="command">@reg</span>_<span class="verb">addr: 32 bit PHY register to write</span></i></td></tr>
<tr><th id="591">591</th><td><i class="doc"> * <span class="command"> @device</span>_type: 5 bit device type</i></td></tr>
<tr><th id="592">592</th><td><i class="doc"> * <span class="command"> @phy</span>_data: Data to write to the PHY register</i></td></tr>
<tr><th id="593">593</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="594">594</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_write_phy_reg_mdi" title='ixgbe_write_phy_reg_mdi' data-ref="ixgbe_write_phy_reg_mdi">ixgbe_write_phy_reg_mdi</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col0 decl" id="90hw" title='hw' data-type='struct ixgbe_hw *' data-ref="90hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col1 decl" id="91reg_addr" title='reg_addr' data-type='u32' data-ref="91reg_addr">reg_addr</dfn>,</td></tr>
<tr><th id="595">595</th><td>				<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col2 decl" id="92device_type" title='device_type' data-type='u32' data-ref="92device_type">device_type</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col3 decl" id="93phy_data" title='phy_data' data-type='u16' data-ref="93phy_data">phy_data</dfn>)</td></tr>
<tr><th id="596">596</th><td>{</td></tr>
<tr><th id="597">597</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col4 decl" id="94i" title='i' data-type='u32' data-ref="94i">i</dfn>, <dfn class="local col5 decl" id="95command" title='command' data-type='u32' data-ref="95command">command</dfn>;</td></tr>
<tr><th id="598">598</th><td></td></tr>
<tr><th id="599">599</th><td>	<i>/* Put the data in the MDI single read and write data register*/</i></td></tr>
<tr><th id="600">600</th><td>	<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), (0x04260), ((u32)phy_data))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col0 ref" href="#90hw" title='hw' data-ref="90hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1124" title="0x04260" data-ref="_M/IXGBE_MSRWD">IXGBE_MSRWD</a>, (<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a>)<a class="local col3 ref" href="#93phy_data" title='phy_data' data-ref="93phy_data">phy_data</a>);</td></tr>
<tr><th id="601">601</th><td></td></tr>
<tr><th id="602">602</th><td>	<i>/* Setup and write the address cycle command */</i></td></tr>
<tr><th id="603">603</th><td>	<a class="local col5 ref" href="#95command" title='command' data-ref="95command">command</a> = ((<a class="local col1 ref" href="#91reg_addr" title='reg_addr' data-ref="91reg_addr">reg_addr</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1277" title="0" data-ref="_M/IXGBE_MSCA_NP_ADDR_SHIFT">IXGBE_MSCA_NP_ADDR_SHIFT</a>)  |</td></tr>
<tr><th id="604">604</th><td>		   (<a class="local col2 ref" href="#92device_type" title='device_type' data-ref="92device_type">device_type</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1279" title="16" data-ref="_M/IXGBE_MSCA_DEV_TYPE_SHIFT">IXGBE_MSCA_DEV_TYPE_SHIFT</a>) |</td></tr>
<tr><th id="605">605</th><td>		   (<a class="local col0 ref" href="#90hw" title='hw' data-ref="90hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::mdio" title='ixgbe_phy_info::mdio' data-ref="ixgbe_phy_info::mdio">mdio</a>.<a class="ref field" href="../../../../../include/linux/mdio.h.html#mdio_if_info::prtad" title='mdio_if_info::prtad' data-ref="mdio_if_info::prtad">prtad</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1281" title="21" data-ref="_M/IXGBE_MSCA_PHY_ADDR_SHIFT">IXGBE_MSCA_PHY_ADDR_SHIFT</a>) |</td></tr>
<tr><th id="606">606</th><td>		   (<a class="macro" href="ixgbe_type.h.html#1284" title="0x00000000" data-ref="_M/IXGBE_MSCA_ADDR_CYCLE">IXGBE_MSCA_ADDR_CYCLE</a> | <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>));</td></tr>
<tr><th id="607">607</th><td></td></tr>
<tr><th id="608">608</th><td>	<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), (0x0425C), (command))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col0 ref" href="#90hw" title='hw' data-ref="90hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1123" title="0x0425C" data-ref="_M/IXGBE_MSCA">IXGBE_MSCA</a>, <a class="local col5 ref" href="#95command" title='command' data-ref="95command">command</a>);</td></tr>
<tr><th id="609">609</th><td></td></tr>
<tr><th id="610">610</th><td>	<i>/*</i></td></tr>
<tr><th id="611">611</th><td><i>	 * Check every 10 usec to see if the address cycle completed.</i></td></tr>
<tr><th id="612">612</th><td><i>	 * The MDI Command bit will clear when the operation is</i></td></tr>
<tr><th id="613">613</th><td><i>	 * complete</i></td></tr>
<tr><th id="614">614</th><td><i>	 */</i></td></tr>
<tr><th id="615">615</th><td>	<b>for</b> (<a class="local col4 ref" href="#94i" title='i' data-ref="94i">i</a> = <var>0</var>; <a class="local col4 ref" href="#94i" title='i' data-ref="94i">i</a> &lt; <a class="macro" href="ixgbe_type.h.html#1323" title="100" data-ref="_M/IXGBE_MDIO_COMMAND_TIMEOUT">IXGBE_MDIO_COMMAND_TIMEOUT</a>; <a class="local col4 ref" href="#94i" title='i' data-ref="94i">i</a>++) {</td></tr>
<tr><th id="616">616</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(10)) { if ((10) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((10) * 0x10c7ul); } else { __udelay(10); } })" data-ref="_M/udelay">udelay</a>(<var>10</var>);</td></tr>
<tr><th id="617">617</th><td></td></tr>
<tr><th id="618">618</th><td>		<a class="local col5 ref" href="#95command" title='command' data-ref="95command">command</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), (0x0425C))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col0 ref" href="#90hw" title='hw' data-ref="90hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1123" title="0x0425C" data-ref="_M/IXGBE_MSCA">IXGBE_MSCA</a>);</td></tr>
<tr><th id="619">619</th><td>		<b>if</b> ((<a class="local col5 ref" href="#95command" title='command' data-ref="95command">command</a> &amp; <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>) == <var>0</var>)</td></tr>
<tr><th id="620">620</th><td>			<b>break</b>;</td></tr>
<tr><th id="621">621</th><td>	}</td></tr>
<tr><th id="622">622</th><td></td></tr>
<tr><th id="623">623</th><td>	<b>if</b> ((<a class="local col5 ref" href="#95command" title='command' data-ref="95command">command</a> &amp; <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>) != <var>0</var>) {</td></tr>
<tr><th id="624">624</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;PHY address cmd didn&apos;t complete\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#90hw" title='hw' data-ref="90hw">hw</a>, <q>"PHY address cmd didn't complete\n"</q>);</td></tr>
<tr><th id="625">625</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3645" title="-3" data-ref="_M/IXGBE_ERR_PHY">IXGBE_ERR_PHY</a>;</td></tr>
<tr><th id="626">626</th><td>	}</td></tr>
<tr><th id="627">627</th><td></td></tr>
<tr><th id="628">628</th><td>	<i>/*</i></td></tr>
<tr><th id="629">629</th><td><i>	 * Address cycle complete, setup and write the write</i></td></tr>
<tr><th id="630">630</th><td><i>	 * command</i></td></tr>
<tr><th id="631">631</th><td><i>	 */</i></td></tr>
<tr><th id="632">632</th><td>	<a class="local col5 ref" href="#95command" title='command' data-ref="95command">command</a> = ((<a class="local col1 ref" href="#91reg_addr" title='reg_addr' data-ref="91reg_addr">reg_addr</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1277" title="0" data-ref="_M/IXGBE_MSCA_NP_ADDR_SHIFT">IXGBE_MSCA_NP_ADDR_SHIFT</a>)  |</td></tr>
<tr><th id="633">633</th><td>		   (<a class="local col2 ref" href="#92device_type" title='device_type' data-ref="92device_type">device_type</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1279" title="16" data-ref="_M/IXGBE_MSCA_DEV_TYPE_SHIFT">IXGBE_MSCA_DEV_TYPE_SHIFT</a>) |</td></tr>
<tr><th id="634">634</th><td>		   (<a class="local col0 ref" href="#90hw" title='hw' data-ref="90hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::mdio" title='ixgbe_phy_info::mdio' data-ref="ixgbe_phy_info::mdio">mdio</a>.<a class="ref field" href="../../../../../include/linux/mdio.h.html#mdio_if_info::prtad" title='mdio_if_info::prtad' data-ref="mdio_if_info::prtad">prtad</a> &lt;&lt; <a class="macro" href="ixgbe_type.h.html#1281" title="21" data-ref="_M/IXGBE_MSCA_PHY_ADDR_SHIFT">IXGBE_MSCA_PHY_ADDR_SHIFT</a>) |</td></tr>
<tr><th id="635">635</th><td>		   (<a class="macro" href="ixgbe_type.h.html#1285" title="0x04000000" data-ref="_M/IXGBE_MSCA_WRITE">IXGBE_MSCA_WRITE</a> | <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>));</td></tr>
<tr><th id="636">636</th><td></td></tr>
<tr><th id="637">637</th><td>	<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), (0x0425C), (command))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col0 ref" href="#90hw" title='hw' data-ref="90hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1123" title="0x0425C" data-ref="_M/IXGBE_MSCA">IXGBE_MSCA</a>, <a class="local col5 ref" href="#95command" title='command' data-ref="95command">command</a>);</td></tr>
<tr><th id="638">638</th><td></td></tr>
<tr><th id="639">639</th><td>	<i>/* Check every 10 usec to see if the address cycle</i></td></tr>
<tr><th id="640">640</th><td><i>	 * completed. The MDI Command bit will clear when the</i></td></tr>
<tr><th id="641">641</th><td><i>	 * operation is complete</i></td></tr>
<tr><th id="642">642</th><td><i>	 */</i></td></tr>
<tr><th id="643">643</th><td>	<b>for</b> (<a class="local col4 ref" href="#94i" title='i' data-ref="94i">i</a> = <var>0</var>; <a class="local col4 ref" href="#94i" title='i' data-ref="94i">i</a> &lt; <a class="macro" href="ixgbe_type.h.html#1323" title="100" data-ref="_M/IXGBE_MDIO_COMMAND_TIMEOUT">IXGBE_MDIO_COMMAND_TIMEOUT</a>; <a class="local col4 ref" href="#94i" title='i' data-ref="94i">i</a>++) {</td></tr>
<tr><th id="644">644</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(10)) { if ((10) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((10) * 0x10c7ul); } else { __udelay(10); } })" data-ref="_M/udelay">udelay</a>(<var>10</var>);</td></tr>
<tr><th id="645">645</th><td></td></tr>
<tr><th id="646">646</th><td>		<a class="local col5 ref" href="#95command" title='command' data-ref="95command">command</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), (0x0425C))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col0 ref" href="#90hw" title='hw' data-ref="90hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1123" title="0x0425C" data-ref="_M/IXGBE_MSCA">IXGBE_MSCA</a>);</td></tr>
<tr><th id="647">647</th><td>		<b>if</b> ((<a class="local col5 ref" href="#95command" title='command' data-ref="95command">command</a> &amp; <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>) == <var>0</var>)</td></tr>
<tr><th id="648">648</th><td>			<b>break</b>;</td></tr>
<tr><th id="649">649</th><td>	}</td></tr>
<tr><th id="650">650</th><td></td></tr>
<tr><th id="651">651</th><td>	<b>if</b> ((<a class="local col5 ref" href="#95command" title='command' data-ref="95command">command</a> &amp; <a class="macro" href="ixgbe_type.h.html#1292" title="0x40000000" data-ref="_M/IXGBE_MSCA_MDI_COMMAND">IXGBE_MSCA_MDI_COMMAND</a>) != <var>0</var>) {</td></tr>
<tr><th id="652">652</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;PHY write cmd didn&apos;t complete\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#90hw" title='hw' data-ref="90hw">hw</a>, <q>"PHY write cmd didn't complete\n"</q>);</td></tr>
<tr><th id="653">653</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3645" title="-3" data-ref="_M/IXGBE_ERR_PHY">IXGBE_ERR_PHY</a>;</td></tr>
<tr><th id="654">654</th><td>	}</td></tr>
<tr><th id="655">655</th><td></td></tr>
<tr><th id="656">656</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="657">657</th><td>}</td></tr>
<tr><th id="658">658</th><td></td></tr>
<tr><th id="659">659</th><td><i class="doc">/**</i></td></tr>
<tr><th id="660">660</th><td><i class="doc"> *  ixgbe_write_phy_reg_generic - Writes a value to specified PHY register</i></td></tr>
<tr><th id="661">661</th><td><i class="doc"> *  using SWFW lock- this function is needed in most cases</i></td></tr>
<tr><th id="662">662</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="663">663</th><td><i class="doc"> *  <span class="command">@reg</span>_<span class="verb">addr: 32 bit PHY register to write</span></i></td></tr>
<tr><th id="664">664</th><td><i class="doc"> * <span class="command"> @device</span>_type: 5 bit device type</i></td></tr>
<tr><th id="665">665</th><td><i class="doc"> * <span class="command"> @phy</span>_data: Data to write to the PHY register</i></td></tr>
<tr><th id="666">666</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="667">667</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_write_phy_reg_generic" title='ixgbe_write_phy_reg_generic' data-ref="ixgbe_write_phy_reg_generic">ixgbe_write_phy_reg_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col6 decl" id="96hw" title='hw' data-type='struct ixgbe_hw *' data-ref="96hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col7 decl" id="97reg_addr" title='reg_addr' data-type='u32' data-ref="97reg_addr">reg_addr</dfn>,</td></tr>
<tr><th id="668">668</th><td>				<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col8 decl" id="98device_type" title='device_type' data-type='u32' data-ref="98device_type">device_type</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col9 decl" id="99phy_data" title='phy_data' data-type='u16' data-ref="99phy_data">phy_data</dfn>)</td></tr>
<tr><th id="669">669</th><td>{</td></tr>
<tr><th id="670">670</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col0 decl" id="100status" title='status' data-type='s32' data-ref="100status">status</dfn>;</td></tr>
<tr><th id="671">671</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col1 decl" id="101gssr" title='gssr' data-type='u32' data-ref="101gssr">gssr</dfn> = <a class="local col6 ref" href="#96hw" title='hw' data-ref="96hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::phy_semaphore_mask" title='ixgbe_phy_info::phy_semaphore_mask' data-ref="ixgbe_phy_info::phy_semaphore_mask">phy_semaphore_mask</a>;</td></tr>
<tr><th id="672">672</th><td></td></tr>
<tr><th id="673">673</th><td>	<b>if</b> (<a class="local col6 ref" href="#96hw" title='hw' data-ref="96hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::acquire_swfw_sync" title='ixgbe_mac_operations::acquire_swfw_sync' data-ref="ixgbe_mac_operations::acquire_swfw_sync">acquire_swfw_sync</a>(<a class="local col6 ref" href="#96hw" title='hw' data-ref="96hw">hw</a>, <a class="local col1 ref" href="#101gssr" title='gssr' data-ref="101gssr">gssr</a>) == <var>0</var>) {</td></tr>
<tr><th id="674">674</th><td>		<a class="local col0 ref" href="#100status" title='status' data-ref="100status">status</a> = <a class="ref fn" href="#ixgbe_write_phy_reg_mdi" title='ixgbe_write_phy_reg_mdi' data-ref="ixgbe_write_phy_reg_mdi">ixgbe_write_phy_reg_mdi</a>(<a class="local col6 ref" href="#96hw" title='hw' data-ref="96hw">hw</a>, <a class="local col7 ref" href="#97reg_addr" title='reg_addr' data-ref="97reg_addr">reg_addr</a>, <a class="local col8 ref" href="#98device_type" title='device_type' data-ref="98device_type">device_type</a>,</td></tr>
<tr><th id="675">675</th><td>						 <a class="local col9 ref" href="#99phy_data" title='phy_data' data-ref="99phy_data">phy_data</a>);</td></tr>
<tr><th id="676">676</th><td>		<a class="local col6 ref" href="#96hw" title='hw' data-ref="96hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::release_swfw_sync" title='ixgbe_mac_operations::release_swfw_sync' data-ref="ixgbe_mac_operations::release_swfw_sync">release_swfw_sync</a>(<a class="local col6 ref" href="#96hw" title='hw' data-ref="96hw">hw</a>, <a class="local col1 ref" href="#101gssr" title='gssr' data-ref="101gssr">gssr</a>);</td></tr>
<tr><th id="677">677</th><td>	} <b>else</b> {</td></tr>
<tr><th id="678">678</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3658" title="-16" data-ref="_M/IXGBE_ERR_SWFW_SYNC">IXGBE_ERR_SWFW_SYNC</a>;</td></tr>
<tr><th id="679">679</th><td>	}</td></tr>
<tr><th id="680">680</th><td></td></tr>
<tr><th id="681">681</th><td>	<b>return</b> <a class="local col0 ref" href="#100status" title='status' data-ref="100status">status</a>;</td></tr>
<tr><th id="682">682</th><td>}</td></tr>
<tr><th id="683">683</th><td></td></tr>
<tr><th id="684">684</th><td><i class="doc">/**</i></td></tr>
<tr><th id="685">685</th><td><i class="doc"> *  ixgbe_setup_phy_link_generic - Set and restart autoneg</i></td></tr>
<tr><th id="686">686</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="687">687</th><td><i class="doc"> *</i></td></tr>
<tr><th id="688">688</th><td><i class="doc"> *  Restart autonegotiation and PHY and waits for completion.</i></td></tr>
<tr><th id="689">689</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="690">690</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_setup_phy_link_generic" title='ixgbe_setup_phy_link_generic' data-ref="ixgbe_setup_phy_link_generic">ixgbe_setup_phy_link_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col2 decl" id="102hw" title='hw' data-type='struct ixgbe_hw *' data-ref="102hw">hw</dfn>)</td></tr>
<tr><th id="691">691</th><td>{</td></tr>
<tr><th id="692">692</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col3 decl" id="103status" title='status' data-type='s32' data-ref="103status">status</dfn> = <var>0</var>;</td></tr>
<tr><th id="693">693</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col4 decl" id="104autoneg_reg" title='autoneg_reg' data-type='u16' data-ref="104autoneg_reg">autoneg_reg</dfn> = <a class="macro" href="ixgbe_type.h.html#1374" title="0x0" data-ref="_M/IXGBE_MII_AUTONEG_REG">IXGBE_MII_AUTONEG_REG</a>;</td></tr>
<tr><th id="694">694</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col5 decl" id="105autoneg" title='autoneg' data-type='bool' data-ref="105autoneg">autoneg</dfn> = <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="695">695</th><td>	<a class="typedef" href="ixgbe_type.h.html#ixgbe_link_speed" title='ixgbe_link_speed' data-type='u32' data-ref="ixgbe_link_speed">ixgbe_link_speed</a> <dfn class="local col6 decl" id="106speed" title='speed' data-type='ixgbe_link_speed' data-ref="106speed">speed</dfn>;</td></tr>
<tr><th id="696">696</th><td></td></tr>
<tr><th id="697">697</th><td>	<a class="ref fn" href="#ixgbe_get_copper_link_capabilities_generic" title='ixgbe_get_copper_link_capabilities_generic' data-ref="ixgbe_get_copper_link_capabilities_generic">ixgbe_get_copper_link_capabilities_generic</a>(<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>, &amp;<a class="local col6 ref" href="#106speed" title='speed' data-ref="106speed">speed</a>, &amp;<a class="local col5 ref" href="#105autoneg" title='autoneg' data-ref="105autoneg">autoneg</a>);</td></tr>
<tr><th id="698">698</th><td></td></tr>
<tr><th id="699">699</th><td>	<i>/* Set or unset auto-negotiation 10G advertisement */</i></td></tr>
<tr><th id="700">700</th><td>	<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#62" title="32" data-ref="_M/MDIO_AN_10GBT_CTRL">MDIO_AN_10GBT_CTRL</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>, &amp;<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="701">701</th><td></td></tr>
<tr><th id="702">702</th><td>	<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a> &amp;= ~<a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#234" title="0x1000" data-ref="_M/MDIO_AN_10GBT_CTRL_ADV10G">MDIO_AN_10GBT_CTRL_ADV10G</a>;</td></tr>
<tr><th id="703">703</th><td>	<b>if</b> ((<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> &amp; <a class="macro" href="ixgbe_type.h.html#2937" title="0x0080" data-ref="_M/IXGBE_LINK_SPEED_10GB_FULL">IXGBE_LINK_SPEED_10GB_FULL</a>) &amp;&amp;</td></tr>
<tr><th id="704">704</th><td>	    (<a class="local col6 ref" href="#106speed" title='speed' data-ref="106speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2937" title="0x0080" data-ref="_M/IXGBE_LINK_SPEED_10GB_FULL">IXGBE_LINK_SPEED_10GB_FULL</a>))</td></tr>
<tr><th id="705">705</th><td>		<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a> |= <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#234" title="0x1000" data-ref="_M/MDIO_AN_10GBT_CTRL_ADV10G">MDIO_AN_10GBT_CTRL_ADV10G</a>;</td></tr>
<tr><th id="706">706</th><td></td></tr>
<tr><th id="707">707</th><td>	<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#62" title="32" data-ref="_M/MDIO_AN_10GBT_CTRL">MDIO_AN_10GBT_CTRL</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>, <a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="708">708</th><td></td></tr>
<tr><th id="709">709</th><td>	<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1370" title="0xC400" data-ref="_M/IXGBE_MII_AUTONEG_VENDOR_PROVISION_1_REG">IXGBE_MII_AUTONEG_VENDOR_PROVISION_1_REG</a>,</td></tr>
<tr><th id="710">710</th><td>			     <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>, &amp;<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="711">711</th><td></td></tr>
<tr><th id="712">712</th><td>	<b>if</b> (<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::type" title='ixgbe_mac_info::type' data-ref="ixgbe_mac_info::type">type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_mac_X550" title='ixgbe_mac_X550' data-ref="ixgbe_mac_X550">ixgbe_mac_X550</a>) {</td></tr>
<tr><th id="713">713</th><td>		<i>/* Set or unset auto-negotiation 5G advertisement */</i></td></tr>
<tr><th id="714">714</th><td>		<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a> &amp;= ~<a class="macro" href="ixgbe_type.h.html#885" title="0x0800" data-ref="_M/IXGBE_MII_5GBASE_T_ADVERTISE">IXGBE_MII_5GBASE_T_ADVERTISE</a>;</td></tr>
<tr><th id="715">715</th><td>		<b>if</b> ((<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> &amp; <a class="macro" href="ixgbe_type.h.html#2936" title="0x0800" data-ref="_M/IXGBE_LINK_SPEED_5GB_FULL">IXGBE_LINK_SPEED_5GB_FULL</a>) &amp;&amp;</td></tr>
<tr><th id="716">716</th><td>		    (<a class="local col6 ref" href="#106speed" title='speed' data-ref="106speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2936" title="0x0800" data-ref="_M/IXGBE_LINK_SPEED_5GB_FULL">IXGBE_LINK_SPEED_5GB_FULL</a>))</td></tr>
<tr><th id="717">717</th><td>			<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a> |= <a class="macro" href="ixgbe_type.h.html#885" title="0x0800" data-ref="_M/IXGBE_MII_5GBASE_T_ADVERTISE">IXGBE_MII_5GBASE_T_ADVERTISE</a>;</td></tr>
<tr><th id="718">718</th><td></td></tr>
<tr><th id="719">719</th><td>		<i>/* Set or unset auto-negotiation 2.5G advertisement */</i></td></tr>
<tr><th id="720">720</th><td>		<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a> &amp;= ~<a class="macro" href="ixgbe_type.h.html#884" title="0x0400" data-ref="_M/IXGBE_MII_2_5GBASE_T_ADVERTISE">IXGBE_MII_2_5GBASE_T_ADVERTISE</a>;</td></tr>
<tr><th id="721">721</th><td>		<b>if</b> ((<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> &amp;</td></tr>
<tr><th id="722">722</th><td>		     <a class="macro" href="ixgbe_type.h.html#2935" title="0x0400" data-ref="_M/IXGBE_LINK_SPEED_2_5GB_FULL">IXGBE_LINK_SPEED_2_5GB_FULL</a>) &amp;&amp;</td></tr>
<tr><th id="723">723</th><td>		    (<a class="local col6 ref" href="#106speed" title='speed' data-ref="106speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2935" title="0x0400" data-ref="_M/IXGBE_LINK_SPEED_2_5GB_FULL">IXGBE_LINK_SPEED_2_5GB_FULL</a>))</td></tr>
<tr><th id="724">724</th><td>			<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a> |= <a class="macro" href="ixgbe_type.h.html#884" title="0x0400" data-ref="_M/IXGBE_MII_2_5GBASE_T_ADVERTISE">IXGBE_MII_2_5GBASE_T_ADVERTISE</a>;</td></tr>
<tr><th id="725">725</th><td>	}</td></tr>
<tr><th id="726">726</th><td></td></tr>
<tr><th id="727">727</th><td>	<i>/* Set or unset auto-negotiation 1G advertisement */</i></td></tr>
<tr><th id="728">728</th><td>	<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a> &amp;= ~<a class="macro" href="ixgbe_type.h.html#1373" title="0x8000" data-ref="_M/IXGBE_MII_1GBASE_T_ADVERTISE">IXGBE_MII_1GBASE_T_ADVERTISE</a>;</td></tr>
<tr><th id="729">729</th><td>	<b>if</b> ((<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> &amp; <a class="macro" href="ixgbe_type.h.html#2934" title="0x0020" data-ref="_M/IXGBE_LINK_SPEED_1GB_FULL">IXGBE_LINK_SPEED_1GB_FULL</a>) &amp;&amp;</td></tr>
<tr><th id="730">730</th><td>	    (<a class="local col6 ref" href="#106speed" title='speed' data-ref="106speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2934" title="0x0020" data-ref="_M/IXGBE_LINK_SPEED_1GB_FULL">IXGBE_LINK_SPEED_1GB_FULL</a>))</td></tr>
<tr><th id="731">731</th><td>		<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a> |= <a class="macro" href="ixgbe_type.h.html#1373" title="0x8000" data-ref="_M/IXGBE_MII_1GBASE_T_ADVERTISE">IXGBE_MII_1GBASE_T_ADVERTISE</a>;</td></tr>
<tr><th id="732">732</th><td></td></tr>
<tr><th id="733">733</th><td>	<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1370" title="0xC400" data-ref="_M/IXGBE_MII_AUTONEG_VENDOR_PROVISION_1_REG">IXGBE_MII_AUTONEG_VENDOR_PROVISION_1_REG</a>,</td></tr>
<tr><th id="734">734</th><td>			      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>, <a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="735">735</th><td></td></tr>
<tr><th id="736">736</th><td>	<i>/* Set or unset auto-negotiation 100M advertisement */</i></td></tr>
<tr><th id="737">737</th><td>	<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#45" title="16" data-ref="_M/MDIO_AN_ADVERTISE">MDIO_AN_ADVERTISE</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>, &amp;<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="738">738</th><td></td></tr>
<tr><th id="739">739</th><td>	<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a> &amp;= ~(<a class="macro" href="../../../../../include/uapi/linux/mii.h.html#80" title="0x0100" data-ref="_M/ADVERTISE_100FULL">ADVERTISE_100FULL</a> | <a class="macro" href="../../../../../include/uapi/linux/mii.h.html#78" title="0x0080" data-ref="_M/ADVERTISE_100HALF">ADVERTISE_100HALF</a>);</td></tr>
<tr><th id="740">740</th><td>	<b>if</b> ((<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> &amp; <a class="macro" href="ixgbe_type.h.html#2933" title="0x0008" data-ref="_M/IXGBE_LINK_SPEED_100_FULL">IXGBE_LINK_SPEED_100_FULL</a>) &amp;&amp;</td></tr>
<tr><th id="741">741</th><td>	    (<a class="local col6 ref" href="#106speed" title='speed' data-ref="106speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2933" title="0x0008" data-ref="_M/IXGBE_LINK_SPEED_100_FULL">IXGBE_LINK_SPEED_100_FULL</a>))</td></tr>
<tr><th id="742">742</th><td>		<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a> |= <a class="macro" href="../../../../../include/uapi/linux/mii.h.html#80" title="0x0100" data-ref="_M/ADVERTISE_100FULL">ADVERTISE_100FULL</a>;</td></tr>
<tr><th id="743">743</th><td></td></tr>
<tr><th id="744">744</th><td>	<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#45" title="16" data-ref="_M/MDIO_AN_ADVERTISE">MDIO_AN_ADVERTISE</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>, <a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="745">745</th><td></td></tr>
<tr><th id="746">746</th><td>	<i>/* Blocked by MNG FW so don't reset PHY */</i></td></tr>
<tr><th id="747">747</th><td>	<b>if</b> (<a class="ref fn" href="#ixgbe_check_reset_blocked" title='ixgbe_check_reset_blocked' data-ref="ixgbe_check_reset_blocked">ixgbe_check_reset_blocked</a>(<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>))</td></tr>
<tr><th id="748">748</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="749">749</th><td></td></tr>
<tr><th id="750">750</th><td>	<i>/* Restart PHY autonegotiation and wait for completion */</i></td></tr>
<tr><th id="751">751</th><td>	<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#31" title="0x00" data-ref="_M/MDIO_CTRL1">MDIO_CTRL1</a>,</td></tr>
<tr><th id="752">752</th><td>			     <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>, &amp;<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="753">753</th><td></td></tr>
<tr><th id="754">754</th><td>	<a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a> |= <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#86" title="0x0200" data-ref="_M/MDIO_AN_CTRL1_RESTART">MDIO_AN_CTRL1_RESTART</a>;</td></tr>
<tr><th id="755">755</th><td></td></tr>
<tr><th id="756">756</th><td>	<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col2 ref" href="#102hw" title='hw' data-ref="102hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#31" title="0x00" data-ref="_M/MDIO_CTRL1">MDIO_CTRL1</a>,</td></tr>
<tr><th id="757">757</th><td>			      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>, <a class="local col4 ref" href="#104autoneg_reg" title='autoneg_reg' data-ref="104autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="758">758</th><td></td></tr>
<tr><th id="759">759</th><td>	<b>return</b> <a class="local col3 ref" href="#103status" title='status' data-ref="103status">status</a>;</td></tr>
<tr><th id="760">760</th><td>}</td></tr>
<tr><th id="761">761</th><td></td></tr>
<tr><th id="762">762</th><td><i class="doc">/**</i></td></tr>
<tr><th id="763">763</th><td><i class="doc"> *  ixgbe_setup_phy_link_speed_generic - Sets the auto advertised capabilities</i></td></tr>
<tr><th id="764">764</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="765">765</th><td><i class="doc"> * <span class="command"> @speed</span>: new link speed</i></td></tr>
<tr><th id="766">766</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="767">767</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_setup_phy_link_speed_generic" title='ixgbe_setup_phy_link_speed_generic' data-ref="ixgbe_setup_phy_link_speed_generic">ixgbe_setup_phy_link_speed_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col7 decl" id="107hw" title='hw' data-type='struct ixgbe_hw *' data-ref="107hw">hw</dfn>,</td></tr>
<tr><th id="768">768</th><td>				       <a class="typedef" href="ixgbe_type.h.html#ixgbe_link_speed" title='ixgbe_link_speed' data-type='u32' data-ref="ixgbe_link_speed">ixgbe_link_speed</a> <dfn class="local col8 decl" id="108speed" title='speed' data-type='ixgbe_link_speed' data-ref="108speed">speed</dfn>,</td></tr>
<tr><th id="769">769</th><td>				       <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col9 decl" id="109autoneg_wait_to_complete" title='autoneg_wait_to_complete' data-type='bool' data-ref="109autoneg_wait_to_complete">autoneg_wait_to_complete</dfn>)</td></tr>
<tr><th id="770">770</th><td>{</td></tr>
<tr><th id="771">771</th><td>	<i>/* Clear autoneg_advertised and set new values based on input link</i></td></tr>
<tr><th id="772">772</th><td><i>	 * speed.</i></td></tr>
<tr><th id="773">773</th><td><i>	 */</i></td></tr>
<tr><th id="774">774</th><td>	<a class="local col7 ref" href="#107hw" title='hw' data-ref="107hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> = <var>0</var>;</td></tr>
<tr><th id="775">775</th><td></td></tr>
<tr><th id="776">776</th><td>	<b>if</b> (<a class="local col8 ref" href="#108speed" title='speed' data-ref="108speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2937" title="0x0080" data-ref="_M/IXGBE_LINK_SPEED_10GB_FULL">IXGBE_LINK_SPEED_10GB_FULL</a>)</td></tr>
<tr><th id="777">777</th><td>		<a class="local col7 ref" href="#107hw" title='hw' data-ref="107hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> |= <a class="macro" href="ixgbe_type.h.html#2937" title="0x0080" data-ref="_M/IXGBE_LINK_SPEED_10GB_FULL">IXGBE_LINK_SPEED_10GB_FULL</a>;</td></tr>
<tr><th id="778">778</th><td></td></tr>
<tr><th id="779">779</th><td>	<b>if</b> (<a class="local col8 ref" href="#108speed" title='speed' data-ref="108speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2936" title="0x0800" data-ref="_M/IXGBE_LINK_SPEED_5GB_FULL">IXGBE_LINK_SPEED_5GB_FULL</a>)</td></tr>
<tr><th id="780">780</th><td>		<a class="local col7 ref" href="#107hw" title='hw' data-ref="107hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> |= <a class="macro" href="ixgbe_type.h.html#2936" title="0x0800" data-ref="_M/IXGBE_LINK_SPEED_5GB_FULL">IXGBE_LINK_SPEED_5GB_FULL</a>;</td></tr>
<tr><th id="781">781</th><td></td></tr>
<tr><th id="782">782</th><td>	<b>if</b> (<a class="local col8 ref" href="#108speed" title='speed' data-ref="108speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2935" title="0x0400" data-ref="_M/IXGBE_LINK_SPEED_2_5GB_FULL">IXGBE_LINK_SPEED_2_5GB_FULL</a>)</td></tr>
<tr><th id="783">783</th><td>		<a class="local col7 ref" href="#107hw" title='hw' data-ref="107hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> |= <a class="macro" href="ixgbe_type.h.html#2935" title="0x0400" data-ref="_M/IXGBE_LINK_SPEED_2_5GB_FULL">IXGBE_LINK_SPEED_2_5GB_FULL</a>;</td></tr>
<tr><th id="784">784</th><td></td></tr>
<tr><th id="785">785</th><td>	<b>if</b> (<a class="local col8 ref" href="#108speed" title='speed' data-ref="108speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2934" title="0x0020" data-ref="_M/IXGBE_LINK_SPEED_1GB_FULL">IXGBE_LINK_SPEED_1GB_FULL</a>)</td></tr>
<tr><th id="786">786</th><td>		<a class="local col7 ref" href="#107hw" title='hw' data-ref="107hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> |= <a class="macro" href="ixgbe_type.h.html#2934" title="0x0020" data-ref="_M/IXGBE_LINK_SPEED_1GB_FULL">IXGBE_LINK_SPEED_1GB_FULL</a>;</td></tr>
<tr><th id="787">787</th><td></td></tr>
<tr><th id="788">788</th><td>	<b>if</b> (<a class="local col8 ref" href="#108speed" title='speed' data-ref="108speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2933" title="0x0008" data-ref="_M/IXGBE_LINK_SPEED_100_FULL">IXGBE_LINK_SPEED_100_FULL</a>)</td></tr>
<tr><th id="789">789</th><td>		<a class="local col7 ref" href="#107hw" title='hw' data-ref="107hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> |= <a class="macro" href="ixgbe_type.h.html#2933" title="0x0008" data-ref="_M/IXGBE_LINK_SPEED_100_FULL">IXGBE_LINK_SPEED_100_FULL</a>;</td></tr>
<tr><th id="790">790</th><td></td></tr>
<tr><th id="791">791</th><td>	<b>if</b> (<a class="local col8 ref" href="#108speed" title='speed' data-ref="108speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2932" title="0x0002" data-ref="_M/IXGBE_LINK_SPEED_10_FULL">IXGBE_LINK_SPEED_10_FULL</a>)</td></tr>
<tr><th id="792">792</th><td>		<a class="local col7 ref" href="#107hw" title='hw' data-ref="107hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> |= <a class="macro" href="ixgbe_type.h.html#2932" title="0x0002" data-ref="_M/IXGBE_LINK_SPEED_10_FULL">IXGBE_LINK_SPEED_10_FULL</a>;</td></tr>
<tr><th id="793">793</th><td></td></tr>
<tr><th id="794">794</th><td>	<i>/* Setup link based on the new speed settings */</i></td></tr>
<tr><th id="795">795</th><td>	<b>if</b> (<a class="local col7 ref" href="#107hw" title='hw' data-ref="107hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::setup_link" title='ixgbe_phy_operations::setup_link' data-ref="ixgbe_phy_operations::setup_link">setup_link</a>)</td></tr>
<tr><th id="796">796</th><td>		<a class="local col7 ref" href="#107hw" title='hw' data-ref="107hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::setup_link" title='ixgbe_phy_operations::setup_link' data-ref="ixgbe_phy_operations::setup_link">setup_link</a>(<a class="local col7 ref" href="#107hw" title='hw' data-ref="107hw">hw</a>);</td></tr>
<tr><th id="797">797</th><td></td></tr>
<tr><th id="798">798</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="799">799</th><td>}</td></tr>
<tr><th id="800">800</th><td></td></tr>
<tr><th id="801">801</th><td><i class="doc" data-doc="ixgbe_get_copper_speeds_supported">/**</i></td></tr>
<tr><th id="802">802</th><td><i class="doc" data-doc="ixgbe_get_copper_speeds_supported"> * ixgbe_get_copper_speeds_supported - Get copper link speed from phy</i></td></tr>
<tr><th id="803">803</th><td><i class="doc" data-doc="ixgbe_get_copper_speeds_supported"> *<span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="804">804</th><td><i class="doc" data-doc="ixgbe_get_copper_speeds_supported"> *</i></td></tr>
<tr><th id="805">805</th><td><i class="doc" data-doc="ixgbe_get_copper_speeds_supported"> * Determines the supported link capabilities by reading the PHY auto</i></td></tr>
<tr><th id="806">806</th><td><i class="doc" data-doc="ixgbe_get_copper_speeds_supported"> * negotiation register.</i></td></tr>
<tr><th id="807">807</th><td><i class="doc" data-doc="ixgbe_get_copper_speeds_supported"> */</i></td></tr>
<tr><th id="808">808</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_get_copper_speeds_supported" title='ixgbe_get_copper_speeds_supported' data-type='s32 ixgbe_get_copper_speeds_supported(struct ixgbe_hw * hw)' data-ref="ixgbe_get_copper_speeds_supported">ixgbe_get_copper_speeds_supported</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col0 decl" id="110hw" title='hw' data-type='struct ixgbe_hw *' data-ref="110hw">hw</dfn>)</td></tr>
<tr><th id="809">809</th><td>{</td></tr>
<tr><th id="810">810</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col1 decl" id="111speed_ability" title='speed_ability' data-type='u16' data-ref="111speed_ability">speed_ability</dfn>;</td></tr>
<tr><th id="811">811</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col2 decl" id="112status" title='status' data-type='s32' data-ref="112status">status</dfn>;</td></tr>
<tr><th id="812">812</th><td></td></tr>
<tr><th id="813">813</th><td>	<a class="local col2 ref" href="#112status" title='status' data-ref="112status">status</a> = <a class="local col0 ref" href="#110hw" title='hw' data-ref="110hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col0 ref" href="#110hw" title='hw' data-ref="110hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#35" title="4" data-ref="_M/MDIO_SPEED">MDIO_SPEED</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#18" title="1" data-ref="_M/MDIO_MMD_PMAPMD">MDIO_MMD_PMAPMD</a>,</td></tr>
<tr><th id="814">814</th><td>				      &amp;<a class="local col1 ref" href="#111speed_ability" title='speed_ability' data-ref="111speed_ability">speed_ability</a>);</td></tr>
<tr><th id="815">815</th><td>	<b>if</b> (<a class="local col2 ref" href="#112status" title='status' data-ref="112status">status</a>)</td></tr>
<tr><th id="816">816</th><td>		<b>return</b> <a class="local col2 ref" href="#112status" title='status' data-ref="112status">status</a>;</td></tr>
<tr><th id="817">817</th><td></td></tr>
<tr><th id="818">818</th><td>	<b>if</b> (<a class="local col1 ref" href="#111speed_ability" title='speed_ability' data-ref="111speed_ability">speed_ability</a> &amp; <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#108" title="0x0001" data-ref="_M/MDIO_SPEED_10G">MDIO_SPEED_10G</a>)</td></tr>
<tr><th id="819">819</th><td>		<a class="local col0 ref" href="#110hw" title='hw' data-ref="110hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::speeds_supported" title='ixgbe_phy_info::speeds_supported' data-ref="ixgbe_phy_info::speeds_supported">speeds_supported</a> |= <a class="macro" href="ixgbe_type.h.html#2937" title="0x0080" data-ref="_M/IXGBE_LINK_SPEED_10GB_FULL">IXGBE_LINK_SPEED_10GB_FULL</a>;</td></tr>
<tr><th id="820">820</th><td>	<b>if</b> (<a class="local col1 ref" href="#111speed_ability" title='speed_ability' data-ref="111speed_ability">speed_ability</a> &amp; <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#111" title="0x0010" data-ref="_M/MDIO_PMA_SPEED_1000">MDIO_PMA_SPEED_1000</a>)</td></tr>
<tr><th id="821">821</th><td>		<a class="local col0 ref" href="#110hw" title='hw' data-ref="110hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::speeds_supported" title='ixgbe_phy_info::speeds_supported' data-ref="ixgbe_phy_info::speeds_supported">speeds_supported</a> |= <a class="macro" href="ixgbe_type.h.html#2934" title="0x0020" data-ref="_M/IXGBE_LINK_SPEED_1GB_FULL">IXGBE_LINK_SPEED_1GB_FULL</a>;</td></tr>
<tr><th id="822">822</th><td>	<b>if</b> (<a class="local col1 ref" href="#111speed_ability" title='speed_ability' data-ref="111speed_ability">speed_ability</a> &amp; <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#112" title="0x0020" data-ref="_M/MDIO_PMA_SPEED_100">MDIO_PMA_SPEED_100</a>)</td></tr>
<tr><th id="823">823</th><td>		<a class="local col0 ref" href="#110hw" title='hw' data-ref="110hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::speeds_supported" title='ixgbe_phy_info::speeds_supported' data-ref="ixgbe_phy_info::speeds_supported">speeds_supported</a> |= <a class="macro" href="ixgbe_type.h.html#2933" title="0x0008" data-ref="_M/IXGBE_LINK_SPEED_100_FULL">IXGBE_LINK_SPEED_100_FULL</a>;</td></tr>
<tr><th id="824">824</th><td></td></tr>
<tr><th id="825">825</th><td>	<b>switch</b> (<a class="local col0 ref" href="#110hw" title='hw' data-ref="110hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::type" title='ixgbe_mac_info::type' data-ref="ixgbe_mac_info::type">type</a>) {</td></tr>
<tr><th id="826">826</th><td>	<b>case</b> <a class="enum" href="ixgbe_type.h.html#ixgbe_mac_X550" title='ixgbe_mac_X550' data-ref="ixgbe_mac_X550">ixgbe_mac_X550</a>:</td></tr>
<tr><th id="827">827</th><td>		<a class="local col0 ref" href="#110hw" title='hw' data-ref="110hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::speeds_supported" title='ixgbe_phy_info::speeds_supported' data-ref="ixgbe_phy_info::speeds_supported">speeds_supported</a> |= <a class="macro" href="ixgbe_type.h.html#2935" title="0x0400" data-ref="_M/IXGBE_LINK_SPEED_2_5GB_FULL">IXGBE_LINK_SPEED_2_5GB_FULL</a>;</td></tr>
<tr><th id="828">828</th><td>		<a class="local col0 ref" href="#110hw" title='hw' data-ref="110hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::speeds_supported" title='ixgbe_phy_info::speeds_supported' data-ref="ixgbe_phy_info::speeds_supported">speeds_supported</a> |= <a class="macro" href="ixgbe_type.h.html#2936" title="0x0800" data-ref="_M/IXGBE_LINK_SPEED_5GB_FULL">IXGBE_LINK_SPEED_5GB_FULL</a>;</td></tr>
<tr><th id="829">829</th><td>		<b>break</b>;</td></tr>
<tr><th id="830">830</th><td>	<b>case</b> <a class="enum" href="ixgbe_type.h.html#ixgbe_mac_X550EM_x" title='ixgbe_mac_X550EM_x' data-ref="ixgbe_mac_X550EM_x">ixgbe_mac_X550EM_x</a>:</td></tr>
<tr><th id="831">831</th><td>	<b>case</b> <a class="enum" href="ixgbe_type.h.html#ixgbe_mac_x550em_a" title='ixgbe_mac_x550em_a' data-ref="ixgbe_mac_x550em_a">ixgbe_mac_x550em_a</a>:</td></tr>
<tr><th id="832">832</th><td>		<a class="local col0 ref" href="#110hw" title='hw' data-ref="110hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::speeds_supported" title='ixgbe_phy_info::speeds_supported' data-ref="ixgbe_phy_info::speeds_supported">speeds_supported</a> &amp;= ~<a class="macro" href="ixgbe_type.h.html#2933" title="0x0008" data-ref="_M/IXGBE_LINK_SPEED_100_FULL">IXGBE_LINK_SPEED_100_FULL</a>;</td></tr>
<tr><th id="833">833</th><td>		<b>break</b>;</td></tr>
<tr><th id="834">834</th><td>	<b>default</b>:</td></tr>
<tr><th id="835">835</th><td>		<b>break</b>;</td></tr>
<tr><th id="836">836</th><td>	}</td></tr>
<tr><th id="837">837</th><td></td></tr>
<tr><th id="838">838</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="839">839</th><td>}</td></tr>
<tr><th id="840">840</th><td></td></tr>
<tr><th id="841">841</th><td><i class="doc">/**</i></td></tr>
<tr><th id="842">842</th><td><i class="doc"> * ixgbe_get_copper_link_capabilities_generic - Determines link capabilities</i></td></tr>
<tr><th id="843">843</th><td><i class="doc"> *<span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="844">844</th><td><i class="doc"> *<span class="command"> @speed</span>: pointer to link speed</i></td></tr>
<tr><th id="845">845</th><td><i class="doc"> *<span class="command"> @autoneg</span>: boolean auto-negotiation value</i></td></tr>
<tr><th id="846">846</th><td><i class="doc"> */</i></td></tr>
<tr><th id="847">847</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_get_copper_link_capabilities_generic" title='ixgbe_get_copper_link_capabilities_generic' data-ref="ixgbe_get_copper_link_capabilities_generic">ixgbe_get_copper_link_capabilities_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col3 decl" id="113hw" title='hw' data-type='struct ixgbe_hw *' data-ref="113hw">hw</dfn>,</td></tr>
<tr><th id="848">848</th><td>					       <a class="typedef" href="ixgbe_type.h.html#ixgbe_link_speed" title='ixgbe_link_speed' data-type='u32' data-ref="ixgbe_link_speed">ixgbe_link_speed</a> *<dfn class="local col4 decl" id="114speed" title='speed' data-type='ixgbe_link_speed *' data-ref="114speed">speed</dfn>,</td></tr>
<tr><th id="849">849</th><td>					       <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> *<dfn class="local col5 decl" id="115autoneg" title='autoneg' data-type='bool *' data-ref="115autoneg">autoneg</dfn>)</td></tr>
<tr><th id="850">850</th><td>{</td></tr>
<tr><th id="851">851</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col6 decl" id="116status" title='status' data-type='s32' data-ref="116status">status</dfn> = <var>0</var>;</td></tr>
<tr><th id="852">852</th><td></td></tr>
<tr><th id="853">853</th><td>	*<a class="local col5 ref" href="#115autoneg" title='autoneg' data-ref="115autoneg">autoneg</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="854">854</th><td>	<b>if</b> (!<a class="local col3 ref" href="#113hw" title='hw' data-ref="113hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::speeds_supported" title='ixgbe_phy_info::speeds_supported' data-ref="ixgbe_phy_info::speeds_supported">speeds_supported</a>)</td></tr>
<tr><th id="855">855</th><td>		<a class="local col6 ref" href="#116status" title='status' data-ref="116status">status</a> = <a class="tu ref fn" href="#ixgbe_get_copper_speeds_supported" title='ixgbe_get_copper_speeds_supported' data-use='c' data-ref="ixgbe_get_copper_speeds_supported">ixgbe_get_copper_speeds_supported</a>(<a class="local col3 ref" href="#113hw" title='hw' data-ref="113hw">hw</a>);</td></tr>
<tr><th id="856">856</th><td></td></tr>
<tr><th id="857">857</th><td>	*<a class="local col4 ref" href="#114speed" title='speed' data-ref="114speed">speed</a> = <a class="local col3 ref" href="#113hw" title='hw' data-ref="113hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::speeds_supported" title='ixgbe_phy_info::speeds_supported' data-ref="ixgbe_phy_info::speeds_supported">speeds_supported</a>;</td></tr>
<tr><th id="858">858</th><td>	<b>return</b> <a class="local col6 ref" href="#116status" title='status' data-ref="116status">status</a>;</td></tr>
<tr><th id="859">859</th><td>}</td></tr>
<tr><th id="860">860</th><td></td></tr>
<tr><th id="861">861</th><td><i class="doc">/**</i></td></tr>
<tr><th id="862">862</th><td><i class="doc"> *  ixgbe_check_phy_link_tnx - Determine link and speed status</i></td></tr>
<tr><th id="863">863</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="864">864</th><td><i class="doc"> *</i></td></tr>
<tr><th id="865">865</th><td><i class="doc"> *  Reads the VS1 register to determine if link is up and the current speed for</i></td></tr>
<tr><th id="866">866</th><td><i class="doc"> *  the PHY.</i></td></tr>
<tr><th id="867">867</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="868">868</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_check_phy_link_tnx" title='ixgbe_check_phy_link_tnx' data-ref="ixgbe_check_phy_link_tnx">ixgbe_check_phy_link_tnx</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col7 decl" id="117hw" title='hw' data-type='struct ixgbe_hw *' data-ref="117hw">hw</dfn>, <a class="typedef" href="ixgbe_type.h.html#ixgbe_link_speed" title='ixgbe_link_speed' data-type='u32' data-ref="ixgbe_link_speed">ixgbe_link_speed</a> *<dfn class="local col8 decl" id="118speed" title='speed' data-type='ixgbe_link_speed *' data-ref="118speed">speed</dfn>,</td></tr>
<tr><th id="869">869</th><td>			     <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> *<dfn class="local col9 decl" id="119link_up" title='link_up' data-type='bool *' data-ref="119link_up">link_up</dfn>)</td></tr>
<tr><th id="870">870</th><td>{</td></tr>
<tr><th id="871">871</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col0 decl" id="120status" title='status' data-type='s32' data-ref="120status">status</dfn>;</td></tr>
<tr><th id="872">872</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col1 decl" id="121time_out" title='time_out' data-type='u32' data-ref="121time_out">time_out</dfn>;</td></tr>
<tr><th id="873">873</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col2 decl" id="122max_time_out" title='max_time_out' data-type='u32' data-ref="122max_time_out">max_time_out</dfn> = <var>10</var>;</td></tr>
<tr><th id="874">874</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col3 decl" id="123phy_link" title='phy_link' data-type='u16' data-ref="123phy_link">phy_link</dfn> = <var>0</var>;</td></tr>
<tr><th id="875">875</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col4 decl" id="124phy_speed" title='phy_speed' data-type='u16' data-ref="124phy_speed">phy_speed</dfn> = <var>0</var>;</td></tr>
<tr><th id="876">876</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col5 decl" id="125phy_data" title='phy_data' data-type='u16' data-ref="125phy_data">phy_data</dfn> = <var>0</var>;</td></tr>
<tr><th id="877">877</th><td></td></tr>
<tr><th id="878">878</th><td>	<i>/* Initialize speed and link to default case */</i></td></tr>
<tr><th id="879">879</th><td>	*<a class="local col9 ref" href="#119link_up" title='link_up' data-ref="119link_up">link_up</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="880">880</th><td>	*<a class="local col8 ref" href="#118speed" title='speed' data-ref="118speed">speed</a> = <a class="macro" href="ixgbe_type.h.html#2937" title="0x0080" data-ref="_M/IXGBE_LINK_SPEED_10GB_FULL">IXGBE_LINK_SPEED_10GB_FULL</a>;</td></tr>
<tr><th id="881">881</th><td></td></tr>
<tr><th id="882">882</th><td>	<i>/*</i></td></tr>
<tr><th id="883">883</th><td><i>	 * Check current speed and link status of the PHY register.</i></td></tr>
<tr><th id="884">884</th><td><i>	 * This is a vendor specific register and may have to</i></td></tr>
<tr><th id="885">885</th><td><i>	 * be changed for other copper PHYs.</i></td></tr>
<tr><th id="886">886</th><td><i>	 */</i></td></tr>
<tr><th id="887">887</th><td>	<b>for</b> (<a class="local col1 ref" href="#121time_out" title='time_out' data-ref="121time_out">time_out</a> = <var>0</var>; <a class="local col1 ref" href="#121time_out" title='time_out' data-ref="121time_out">time_out</a> &lt; <a class="local col2 ref" href="#122max_time_out" title='max_time_out' data-ref="122max_time_out">max_time_out</a>; <a class="local col1 ref" href="#121time_out" title='time_out' data-ref="121time_out">time_out</a>++) {</td></tr>
<tr><th id="888">888</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(10)) { if ((10) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((10) * 0x10c7ul); } else { __udelay(10); } })" data-ref="_M/udelay">udelay</a>(<var>10</var>);</td></tr>
<tr><th id="889">889</th><td>		<a class="local col0 ref" href="#120status" title='status' data-ref="120status">status</a> = <a class="local col7 ref" href="#117hw" title='hw' data-ref="117hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col7 ref" href="#117hw" title='hw' data-ref="117hw">hw</a>,</td></tr>
<tr><th id="890">890</th><td>					      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#32" title="0x01" data-ref="_M/MDIO_STAT1">MDIO_STAT1</a>,</td></tr>
<tr><th id="891">891</th><td>					      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#27" title="30" data-ref="_M/MDIO_MMD_VEND1">MDIO_MMD_VEND1</a>,</td></tr>
<tr><th id="892">892</th><td>					      &amp;<a class="local col5 ref" href="#125phy_data" title='phy_data' data-ref="125phy_data">phy_data</a>);</td></tr>
<tr><th id="893">893</th><td>		<a class="local col3 ref" href="#123phy_link" title='phy_link' data-ref="123phy_link">phy_link</a> = <a class="local col5 ref" href="#125phy_data" title='phy_data' data-ref="125phy_data">phy_data</a> &amp;</td></tr>
<tr><th id="894">894</th><td>			    <a class="macro" href="ixgbe_type.h.html#1325" title="0x0008" data-ref="_M/IXGBE_MDIO_VENDOR_SPECIFIC_1_LINK_STATUS">IXGBE_MDIO_VENDOR_SPECIFIC_1_LINK_STATUS</a>;</td></tr>
<tr><th id="895">895</th><td>		<a class="local col4 ref" href="#124phy_speed" title='phy_speed' data-ref="124phy_speed">phy_speed</a> = <a class="local col5 ref" href="#125phy_data" title='phy_data' data-ref="125phy_data">phy_data</a> &amp;</td></tr>
<tr><th id="896">896</th><td>			    <a class="macro" href="ixgbe_type.h.html#1326" title="0x0010" data-ref="_M/IXGBE_MDIO_VENDOR_SPECIFIC_1_SPEED_STATUS">IXGBE_MDIO_VENDOR_SPECIFIC_1_SPEED_STATUS</a>;</td></tr>
<tr><th id="897">897</th><td>		<b>if</b> (<a class="local col3 ref" href="#123phy_link" title='phy_link' data-ref="123phy_link">phy_link</a> == <a class="macro" href="ixgbe_type.h.html#1325" title="0x0008" data-ref="_M/IXGBE_MDIO_VENDOR_SPECIFIC_1_LINK_STATUS">IXGBE_MDIO_VENDOR_SPECIFIC_1_LINK_STATUS</a>) {</td></tr>
<tr><th id="898">898</th><td>			*<a class="local col9 ref" href="#119link_up" title='link_up' data-ref="119link_up">link_up</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="899">899</th><td>			<b>if</b> (<a class="local col4 ref" href="#124phy_speed" title='phy_speed' data-ref="124phy_speed">phy_speed</a> ==</td></tr>
<tr><th id="900">900</th><td>			    <a class="macro" href="ixgbe_type.h.html#1326" title="0x0010" data-ref="_M/IXGBE_MDIO_VENDOR_SPECIFIC_1_SPEED_STATUS">IXGBE_MDIO_VENDOR_SPECIFIC_1_SPEED_STATUS</a>)</td></tr>
<tr><th id="901">901</th><td>				*<a class="local col8 ref" href="#118speed" title='speed' data-ref="118speed">speed</a> = <a class="macro" href="ixgbe_type.h.html#2934" title="0x0020" data-ref="_M/IXGBE_LINK_SPEED_1GB_FULL">IXGBE_LINK_SPEED_1GB_FULL</a>;</td></tr>
<tr><th id="902">902</th><td>			<b>break</b>;</td></tr>
<tr><th id="903">903</th><td>		}</td></tr>
<tr><th id="904">904</th><td>	}</td></tr>
<tr><th id="905">905</th><td></td></tr>
<tr><th id="906">906</th><td>	<b>return</b> <a class="local col0 ref" href="#120status" title='status' data-ref="120status">status</a>;</td></tr>
<tr><th id="907">907</th><td>}</td></tr>
<tr><th id="908">908</th><td></td></tr>
<tr><th id="909">909</th><td><i class="doc">/**</i></td></tr>
<tr><th id="910">910</th><td><i class="doc"> *	ixgbe_setup_phy_link_tnx - Set and restart autoneg</i></td></tr>
<tr><th id="911">911</th><td><i class="doc"> *<span class="command">	@hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="912">912</th><td><i class="doc"> *</i></td></tr>
<tr><th id="913">913</th><td><i class="doc"> *	Restart autonegotiation and PHY and waits for completion.</i></td></tr>
<tr><th id="914">914</th><td><i class="doc"> *      This function always returns success, this is nessary since</i></td></tr>
<tr><th id="915">915</th><td><i class="doc"> *	it is called via a function pointer that could call other</i></td></tr>
<tr><th id="916">916</th><td><i class="doc"> *	functions that could return an error.</i></td></tr>
<tr><th id="917">917</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="918">918</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_setup_phy_link_tnx" title='ixgbe_setup_phy_link_tnx' data-ref="ixgbe_setup_phy_link_tnx">ixgbe_setup_phy_link_tnx</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col6 decl" id="126hw" title='hw' data-type='struct ixgbe_hw *' data-ref="126hw">hw</dfn>)</td></tr>
<tr><th id="919">919</th><td>{</td></tr>
<tr><th id="920">920</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col7 decl" id="127autoneg_reg" title='autoneg_reg' data-type='u16' data-ref="127autoneg_reg">autoneg_reg</dfn> = <a class="macro" href="ixgbe_type.h.html#1374" title="0x0" data-ref="_M/IXGBE_MII_AUTONEG_REG">IXGBE_MII_AUTONEG_REG</a>;</td></tr>
<tr><th id="921">921</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col8 decl" id="128autoneg" title='autoneg' data-type='bool' data-ref="128autoneg">autoneg</dfn> = <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="922">922</th><td>	<a class="typedef" href="ixgbe_type.h.html#ixgbe_link_speed" title='ixgbe_link_speed' data-type='u32' data-ref="ixgbe_link_speed">ixgbe_link_speed</a> <dfn class="local col9 decl" id="129speed" title='speed' data-type='ixgbe_link_speed' data-ref="129speed">speed</dfn>;</td></tr>
<tr><th id="923">923</th><td></td></tr>
<tr><th id="924">924</th><td>	<a class="ref fn" href="#ixgbe_get_copper_link_capabilities_generic" title='ixgbe_get_copper_link_capabilities_generic' data-ref="ixgbe_get_copper_link_capabilities_generic">ixgbe_get_copper_link_capabilities_generic</a>(<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>, &amp;<a class="local col9 ref" href="#129speed" title='speed' data-ref="129speed">speed</a>, &amp;<a class="local col8 ref" href="#128autoneg" title='autoneg' data-ref="128autoneg">autoneg</a>);</td></tr>
<tr><th id="925">925</th><td></td></tr>
<tr><th id="926">926</th><td>	<b>if</b> (<a class="local col9 ref" href="#129speed" title='speed' data-ref="129speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2937" title="0x0080" data-ref="_M/IXGBE_LINK_SPEED_10GB_FULL">IXGBE_LINK_SPEED_10GB_FULL</a>) {</td></tr>
<tr><th id="927">927</th><td>		<i>/* Set or unset auto-negotiation 10G advertisement */</i></td></tr>
<tr><th id="928">928</th><td>		<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#62" title="32" data-ref="_M/MDIO_AN_10GBT_CTRL">MDIO_AN_10GBT_CTRL</a>,</td></tr>
<tr><th id="929">929</th><td>				     <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>,</td></tr>
<tr><th id="930">930</th><td>				     &amp;<a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="931">931</th><td></td></tr>
<tr><th id="932">932</th><td>		<a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a> &amp;= ~<a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#234" title="0x1000" data-ref="_M/MDIO_AN_10GBT_CTRL_ADV10G">MDIO_AN_10GBT_CTRL_ADV10G</a>;</td></tr>
<tr><th id="933">933</th><td>		<b>if</b> (<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> &amp; <a class="macro" href="ixgbe_type.h.html#2937" title="0x0080" data-ref="_M/IXGBE_LINK_SPEED_10GB_FULL">IXGBE_LINK_SPEED_10GB_FULL</a>)</td></tr>
<tr><th id="934">934</th><td>			<a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a> |= <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#234" title="0x1000" data-ref="_M/MDIO_AN_10GBT_CTRL_ADV10G">MDIO_AN_10GBT_CTRL_ADV10G</a>;</td></tr>
<tr><th id="935">935</th><td></td></tr>
<tr><th id="936">936</th><td>		<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#62" title="32" data-ref="_M/MDIO_AN_10GBT_CTRL">MDIO_AN_10GBT_CTRL</a>,</td></tr>
<tr><th id="937">937</th><td>				      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>,</td></tr>
<tr><th id="938">938</th><td>				      <a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="939">939</th><td>	}</td></tr>
<tr><th id="940">940</th><td></td></tr>
<tr><th id="941">941</th><td>	<b>if</b> (<a class="local col9 ref" href="#129speed" title='speed' data-ref="129speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2934" title="0x0020" data-ref="_M/IXGBE_LINK_SPEED_1GB_FULL">IXGBE_LINK_SPEED_1GB_FULL</a>) {</td></tr>
<tr><th id="942">942</th><td>		<i>/* Set or unset auto-negotiation 1G advertisement */</i></td></tr>
<tr><th id="943">943</th><td>		<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1371" title="0x17" data-ref="_M/IXGBE_MII_AUTONEG_XNP_TX_REG">IXGBE_MII_AUTONEG_XNP_TX_REG</a>,</td></tr>
<tr><th id="944">944</th><td>				     <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>,</td></tr>
<tr><th id="945">945</th><td>				     &amp;<a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="946">946</th><td></td></tr>
<tr><th id="947">947</th><td>		<a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a> &amp;= ~<a class="macro" href="ixgbe_type.h.html#1372" title="0x4000" data-ref="_M/IXGBE_MII_1GBASE_T_ADVERTISE_XNP_TX">IXGBE_MII_1GBASE_T_ADVERTISE_XNP_TX</a>;</td></tr>
<tr><th id="948">948</th><td>		<b>if</b> (<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> &amp; <a class="macro" href="ixgbe_type.h.html#2934" title="0x0020" data-ref="_M/IXGBE_LINK_SPEED_1GB_FULL">IXGBE_LINK_SPEED_1GB_FULL</a>)</td></tr>
<tr><th id="949">949</th><td>			<a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a> |= <a class="macro" href="ixgbe_type.h.html#1372" title="0x4000" data-ref="_M/IXGBE_MII_1GBASE_T_ADVERTISE_XNP_TX">IXGBE_MII_1GBASE_T_ADVERTISE_XNP_TX</a>;</td></tr>
<tr><th id="950">950</th><td></td></tr>
<tr><th id="951">951</th><td>		<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1371" title="0x17" data-ref="_M/IXGBE_MII_AUTONEG_XNP_TX_REG">IXGBE_MII_AUTONEG_XNP_TX_REG</a>,</td></tr>
<tr><th id="952">952</th><td>				      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>,</td></tr>
<tr><th id="953">953</th><td>				      <a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="954">954</th><td>	}</td></tr>
<tr><th id="955">955</th><td></td></tr>
<tr><th id="956">956</th><td>	<b>if</b> (<a class="local col9 ref" href="#129speed" title='speed' data-ref="129speed">speed</a> &amp; <a class="macro" href="ixgbe_type.h.html#2933" title="0x0008" data-ref="_M/IXGBE_LINK_SPEED_100_FULL">IXGBE_LINK_SPEED_100_FULL</a>) {</td></tr>
<tr><th id="957">957</th><td>		<i>/* Set or unset auto-negotiation 100M advertisement */</i></td></tr>
<tr><th id="958">958</th><td>		<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#45" title="16" data-ref="_M/MDIO_AN_ADVERTISE">MDIO_AN_ADVERTISE</a>,</td></tr>
<tr><th id="959">959</th><td>				     <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>,</td></tr>
<tr><th id="960">960</th><td>				     &amp;<a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="961">961</th><td></td></tr>
<tr><th id="962">962</th><td>		<a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a> &amp;= ~(<a class="macro" href="../../../../../include/uapi/linux/mii.h.html#80" title="0x0100" data-ref="_M/ADVERTISE_100FULL">ADVERTISE_100FULL</a> |</td></tr>
<tr><th id="963">963</th><td>				 <a class="macro" href="../../../../../include/uapi/linux/mii.h.html#78" title="0x0080" data-ref="_M/ADVERTISE_100HALF">ADVERTISE_100HALF</a>);</td></tr>
<tr><th id="964">964</th><td>		<b>if</b> (<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::autoneg_advertised" title='ixgbe_phy_info::autoneg_advertised' data-ref="ixgbe_phy_info::autoneg_advertised">autoneg_advertised</a> &amp; <a class="macro" href="ixgbe_type.h.html#2933" title="0x0008" data-ref="_M/IXGBE_LINK_SPEED_100_FULL">IXGBE_LINK_SPEED_100_FULL</a>)</td></tr>
<tr><th id="965">965</th><td>			<a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a> |= <a class="macro" href="../../../../../include/uapi/linux/mii.h.html#80" title="0x0100" data-ref="_M/ADVERTISE_100FULL">ADVERTISE_100FULL</a>;</td></tr>
<tr><th id="966">966</th><td></td></tr>
<tr><th id="967">967</th><td>		<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#45" title="16" data-ref="_M/MDIO_AN_ADVERTISE">MDIO_AN_ADVERTISE</a>,</td></tr>
<tr><th id="968">968</th><td>				      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>,</td></tr>
<tr><th id="969">969</th><td>				      <a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="970">970</th><td>	}</td></tr>
<tr><th id="971">971</th><td></td></tr>
<tr><th id="972">972</th><td>	<i>/* Blocked by MNG FW so don't reset PHY */</i></td></tr>
<tr><th id="973">973</th><td>	<b>if</b> (<a class="ref fn" href="#ixgbe_check_reset_blocked" title='ixgbe_check_reset_blocked' data-ref="ixgbe_check_reset_blocked">ixgbe_check_reset_blocked</a>(<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>))</td></tr>
<tr><th id="974">974</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="975">975</th><td></td></tr>
<tr><th id="976">976</th><td>	<i>/* Restart PHY autonegotiation and wait for completion */</i></td></tr>
<tr><th id="977">977</th><td>	<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#31" title="0x00" data-ref="_M/MDIO_CTRL1">MDIO_CTRL1</a>,</td></tr>
<tr><th id="978">978</th><td>			     <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>, &amp;<a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="979">979</th><td></td></tr>
<tr><th id="980">980</th><td>	<a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a> |= <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#86" title="0x0200" data-ref="_M/MDIO_AN_CTRL1_RESTART">MDIO_AN_CTRL1_RESTART</a>;</td></tr>
<tr><th id="981">981</th><td></td></tr>
<tr><th id="982">982</th><td>	<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col6 ref" href="#126hw" title='hw' data-ref="126hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#31" title="0x00" data-ref="_M/MDIO_CTRL1">MDIO_CTRL1</a>,</td></tr>
<tr><th id="983">983</th><td>			      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#25" title="7" data-ref="_M/MDIO_MMD_AN">MDIO_MMD_AN</a>, <a class="local col7 ref" href="#127autoneg_reg" title='autoneg_reg' data-ref="127autoneg_reg">autoneg_reg</a>);</td></tr>
<tr><th id="984">984</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="985">985</th><td>}</td></tr>
<tr><th id="986">986</th><td></td></tr>
<tr><th id="987">987</th><td><i class="doc">/**</i></td></tr>
<tr><th id="988">988</th><td><i class="doc"> *  ixgbe_reset_phy_nl - Performs a PHY reset</i></td></tr>
<tr><th id="989">989</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="990">990</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="991">991</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_reset_phy_nl" title='ixgbe_reset_phy_nl' data-ref="ixgbe_reset_phy_nl">ixgbe_reset_phy_nl</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col0 decl" id="130hw" title='hw' data-type='struct ixgbe_hw *' data-ref="130hw">hw</dfn>)</td></tr>
<tr><th id="992">992</th><td>{</td></tr>
<tr><th id="993">993</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col1 decl" id="131phy_offset" title='phy_offset' data-type='u16' data-ref="131phy_offset">phy_offset</dfn>, <dfn class="local col2 decl" id="132control" title='control' data-type='u16' data-ref="132control">control</dfn>, <dfn class="local col3 decl" id="133eword" title='eword' data-type='u16' data-ref="133eword">eword</dfn>, <dfn class="local col4 decl" id="134edata" title='edata' data-type='u16' data-ref="134edata">edata</dfn>, <dfn class="local col5 decl" id="135block_crc" title='block_crc' data-type='u16' data-ref="135block_crc">block_crc</dfn>;</td></tr>
<tr><th id="994">994</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col6 decl" id="136end_data" title='end_data' data-type='bool' data-ref="136end_data">end_data</dfn> = <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="995">995</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col7 decl" id="137list_offset" title='list_offset' data-type='u16' data-ref="137list_offset">list_offset</dfn>, <dfn class="local col8 decl" id="138data_offset" title='data_offset' data-type='u16' data-ref="138data_offset">data_offset</dfn>;</td></tr>
<tr><th id="996">996</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col9 decl" id="139phy_data" title='phy_data' data-type='u16' data-ref="139phy_data">phy_data</dfn> = <var>0</var>;</td></tr>
<tr><th id="997">997</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col0 decl" id="140ret_val" title='ret_val' data-type='s32' data-ref="140ret_val">ret_val</dfn>;</td></tr>
<tr><th id="998">998</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col1 decl" id="141i" title='i' data-type='u32' data-ref="141i">i</dfn>;</td></tr>
<tr><th id="999">999</th><td></td></tr>
<tr><th id="1000">1000</th><td>	<i>/* Blocked by MNG FW so bail */</i></td></tr>
<tr><th id="1001">1001</th><td>	<b>if</b> (<a class="ref fn" href="#ixgbe_check_reset_blocked" title='ixgbe_check_reset_blocked' data-ref="ixgbe_check_reset_blocked">ixgbe_check_reset_blocked</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>))</td></tr>
<tr><th id="1002">1002</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1003">1003</th><td></td></tr>
<tr><th id="1004">1004</th><td>	<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#31" title="0x00" data-ref="_M/MDIO_CTRL1">MDIO_CTRL1</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#22" title="4" data-ref="_M/MDIO_MMD_PHYXS">MDIO_MMD_PHYXS</a>, &amp;<a class="local col9 ref" href="#139phy_data" title='phy_data' data-ref="139phy_data">phy_data</a>);</td></tr>
<tr><th id="1005">1005</th><td></td></tr>
<tr><th id="1006">1006</th><td>	<i>/* reset the PHY and poll for completion */</i></td></tr>
<tr><th id="1007">1007</th><td>	<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#31" title="0x00" data-ref="_M/MDIO_CTRL1">MDIO_CTRL1</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#22" title="4" data-ref="_M/MDIO_MMD_PHYXS">MDIO_MMD_PHYXS</a>,</td></tr>
<tr><th id="1008">1008</th><td>			      (<a class="local col9 ref" href="#139phy_data" title='phy_data' data-ref="139phy_data">phy_data</a> | <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#80" title="0x8000" data-ref="_M/MDIO_CTRL1_RESET">MDIO_CTRL1_RESET</a>));</td></tr>
<tr><th id="1009">1009</th><td></td></tr>
<tr><th id="1010">1010</th><td>	<b>for</b> (<a class="local col1 ref" href="#141i" title='i' data-ref="141i">i</a> = <var>0</var>; <a class="local col1 ref" href="#141i" title='i' data-ref="141i">i</a> &lt; <var>100</var>; <a class="local col1 ref" href="#141i" title='i' data-ref="141i">i</a>++) {</td></tr>
<tr><th id="1011">1011</th><td>		<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#31" title="0x00" data-ref="_M/MDIO_CTRL1">MDIO_CTRL1</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#22" title="4" data-ref="_M/MDIO_MMD_PHYXS">MDIO_MMD_PHYXS</a>,</td></tr>
<tr><th id="1012">1012</th><td>				     &amp;<a class="local col9 ref" href="#139phy_data" title='phy_data' data-ref="139phy_data">phy_data</a>);</td></tr>
<tr><th id="1013">1013</th><td>		<b>if</b> ((<a class="local col9 ref" href="#139phy_data" title='phy_data' data-ref="139phy_data">phy_data</a> &amp; <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#80" title="0x8000" data-ref="_M/MDIO_CTRL1_RESET">MDIO_CTRL1_RESET</a>) == <var>0</var>)</td></tr>
<tr><th id="1014">1014</th><td>			<b>break</b>;</td></tr>
<tr><th id="1015">1015</th><td>		<a class="ref fn" href="../../../../../include/linux/delay.h.html#usleep_range" title='usleep_range' data-ref="usleep_range">usleep_range</a>(<var>10000</var>, <var>20000</var>);</td></tr>
<tr><th id="1016">1016</th><td>	}</td></tr>
<tr><th id="1017">1017</th><td></td></tr>
<tr><th id="1018">1018</th><td>	<b>if</b> ((<a class="local col9 ref" href="#139phy_data" title='phy_data' data-ref="139phy_data">phy_data</a> &amp; <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#80" title="0x8000" data-ref="_M/MDIO_CTRL1_RESET">MDIO_CTRL1_RESET</a>) != <var>0</var>) {</td></tr>
<tr><th id="1019">1019</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;PHY reset did not complete.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <q>"PHY reset did not complete.\n"</q>);</td></tr>
<tr><th id="1020">1020</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3645" title="-3" data-ref="_M/IXGBE_ERR_PHY">IXGBE_ERR_PHY</a>;</td></tr>
<tr><th id="1021">1021</th><td>	}</td></tr>
<tr><th id="1022">1022</th><td></td></tr>
<tr><th id="1023">1023</th><td>	<i>/* Get init offsets */</i></td></tr>
<tr><th id="1024">1024</th><td>	<a class="local col0 ref" href="#140ret_val" title='ret_val' data-ref="140ret_val">ret_val</a> = <a class="ref fn" href="#ixgbe_get_sfp_init_sequence_offsets" title='ixgbe_get_sfp_init_sequence_offsets' data-ref="ixgbe_get_sfp_init_sequence_offsets">ixgbe_get_sfp_init_sequence_offsets</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, &amp;<a class="local col7 ref" href="#137list_offset" title='list_offset' data-ref="137list_offset">list_offset</a>,</td></tr>
<tr><th id="1025">1025</th><td>						      &amp;<a class="local col8 ref" href="#138data_offset" title='data_offset' data-ref="138data_offset">data_offset</a>);</td></tr>
<tr><th id="1026">1026</th><td>	<b>if</b> (<a class="local col0 ref" href="#140ret_val" title='ret_val' data-ref="140ret_val">ret_val</a>)</td></tr>
<tr><th id="1027">1027</th><td>		<b>return</b> <a class="local col0 ref" href="#140ret_val" title='ret_val' data-ref="140ret_val">ret_val</a>;</td></tr>
<tr><th id="1028">1028</th><td></td></tr>
<tr><th id="1029">1029</th><td>	<a class="local col0 ref" href="#140ret_val" title='ret_val' data-ref="140ret_val">ret_val</a> = <a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::eeprom" title='ixgbe_hw::eeprom' data-ref="ixgbe_hw::eeprom">eeprom</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_info::ops" title='ixgbe_eeprom_info::ops' data-ref="ixgbe_eeprom_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_operations::read" title='ixgbe_eeprom_operations::read' data-ref="ixgbe_eeprom_operations::read">read</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <a class="local col8 ref" href="#138data_offset" title='data_offset' data-ref="138data_offset">data_offset</a>, &amp;<a class="local col5 ref" href="#135block_crc" title='block_crc' data-ref="135block_crc">block_crc</a>);</td></tr>
<tr><th id="1030">1030</th><td>	<a class="local col8 ref" href="#138data_offset" title='data_offset' data-ref="138data_offset">data_offset</a>++;</td></tr>
<tr><th id="1031">1031</th><td>	<b>while</b> (!<a class="local col6 ref" href="#136end_data" title='end_data' data-ref="136end_data">end_data</a>) {</td></tr>
<tr><th id="1032">1032</th><td>		<i>/*</i></td></tr>
<tr><th id="1033">1033</th><td><i>		 * Read control word from PHY init contents offset</i></td></tr>
<tr><th id="1034">1034</th><td><i>		 */</i></td></tr>
<tr><th id="1035">1035</th><td>		<a class="local col0 ref" href="#140ret_val" title='ret_val' data-ref="140ret_val">ret_val</a> = <a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::eeprom" title='ixgbe_hw::eeprom' data-ref="ixgbe_hw::eeprom">eeprom</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_info::ops" title='ixgbe_eeprom_info::ops' data-ref="ixgbe_eeprom_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_operations::read" title='ixgbe_eeprom_operations::read' data-ref="ixgbe_eeprom_operations::read">read</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <a class="local col8 ref" href="#138data_offset" title='data_offset' data-ref="138data_offset">data_offset</a>, &amp;<a class="local col3 ref" href="#133eword" title='eword' data-ref="133eword">eword</a>);</td></tr>
<tr><th id="1036">1036</th><td>		<b>if</b> (<a class="local col0 ref" href="#140ret_val" title='ret_val' data-ref="140ret_val">ret_val</a>)</td></tr>
<tr><th id="1037">1037</th><td>			<b>goto</b> <a class="lbl" href="#142err_eeprom" data-ref="142err_eeprom">err_eeprom</a>;</td></tr>
<tr><th id="1038">1038</th><td>		<a class="local col2 ref" href="#132control" title='control' data-ref="132control">control</a> = (<a class="local col3 ref" href="#133eword" title='eword' data-ref="133eword">eword</a> &amp; <a class="macro" href="ixgbe_type.h.html#1394" title="0xF000" data-ref="_M/IXGBE_CONTROL_MASK_NL">IXGBE_CONTROL_MASK_NL</a>) &gt;&gt;</td></tr>
<tr><th id="1039">1039</th><td>			   <a class="macro" href="ixgbe_type.h.html#1396" title="12" data-ref="_M/IXGBE_CONTROL_SHIFT_NL">IXGBE_CONTROL_SHIFT_NL</a>;</td></tr>
<tr><th id="1040">1040</th><td>		<a class="local col4 ref" href="#134edata" title='edata' data-ref="134edata">edata</a> = <a class="local col3 ref" href="#133eword" title='eword' data-ref="133eword">eword</a> &amp; <a class="macro" href="ixgbe_type.h.html#1395" title="0x0FFF" data-ref="_M/IXGBE_DATA_MASK_NL">IXGBE_DATA_MASK_NL</a>;</td></tr>
<tr><th id="1041">1041</th><td>		<b>switch</b> (<a class="local col2 ref" href="#132control" title='control' data-ref="132control">control</a>) {</td></tr>
<tr><th id="1042">1042</th><td>		<b>case</b> <a class="macro" href="ixgbe_type.h.html#1397" title="0" data-ref="_M/IXGBE_DELAY_NL">IXGBE_DELAY_NL</a>:</td></tr>
<tr><th id="1043">1043</th><td>			<a class="local col8 ref" href="#138data_offset" title='data_offset' data-ref="138data_offset">data_offset</a>++;</td></tr>
<tr><th id="1044">1044</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;DELAY: %d MS\n&quot;, edata); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <q>"DELAY: %d MS\n"</q>, <a class="local col4 ref" href="#134edata" title='edata' data-ref="134edata">edata</a>);</td></tr>
<tr><th id="1045">1045</th><td>			<a class="ref fn" href="../../../../../include/linux/delay.h.html#usleep_range" title='usleep_range' data-ref="usleep_range">usleep_range</a>(<a class="local col4 ref" href="#134edata" title='edata' data-ref="134edata">edata</a> * <var>1000</var>, <a class="local col4 ref" href="#134edata" title='edata' data-ref="134edata">edata</a> * <var>2000</var>);</td></tr>
<tr><th id="1046">1046</th><td>			<b>break</b>;</td></tr>
<tr><th id="1047">1047</th><td>		<b>case</b> <a class="macro" href="ixgbe_type.h.html#1398" title="1" data-ref="_M/IXGBE_DATA_NL">IXGBE_DATA_NL</a>:</td></tr>
<tr><th id="1048">1048</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;DATA:\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <q>"DATA:\n"</q>);</td></tr>
<tr><th id="1049">1049</th><td>			<a class="local col8 ref" href="#138data_offset" title='data_offset' data-ref="138data_offset">data_offset</a>++;</td></tr>
<tr><th id="1050">1050</th><td>			<a class="local col0 ref" href="#140ret_val" title='ret_val' data-ref="140ret_val">ret_val</a> = <a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::eeprom" title='ixgbe_hw::eeprom' data-ref="ixgbe_hw::eeprom">eeprom</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_info::ops" title='ixgbe_eeprom_info::ops' data-ref="ixgbe_eeprom_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_operations::read" title='ixgbe_eeprom_operations::read' data-ref="ixgbe_eeprom_operations::read">read</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <a class="local col8 ref" href="#138data_offset" title='data_offset' data-ref="138data_offset">data_offset</a>++,</td></tr>
<tr><th id="1051">1051</th><td>						      &amp;<a class="local col1 ref" href="#131phy_offset" title='phy_offset' data-ref="131phy_offset">phy_offset</a>);</td></tr>
<tr><th id="1052">1052</th><td>			<b>if</b> (<a class="local col0 ref" href="#140ret_val" title='ret_val' data-ref="140ret_val">ret_val</a>)</td></tr>
<tr><th id="1053">1053</th><td>				<b>goto</b> <a class="lbl" href="#142err_eeprom" data-ref="142err_eeprom">err_eeprom</a>;</td></tr>
<tr><th id="1054">1054</th><td>			<b>for</b> (<a class="local col1 ref" href="#141i" title='i' data-ref="141i">i</a> = <var>0</var>; <a class="local col1 ref" href="#141i" title='i' data-ref="141i">i</a> &lt; <a class="local col4 ref" href="#134edata" title='edata' data-ref="134edata">edata</a>; <a class="local col1 ref" href="#141i" title='i' data-ref="141i">i</a>++) {</td></tr>
<tr><th id="1055">1055</th><td>				<a class="local col0 ref" href="#140ret_val" title='ret_val' data-ref="140ret_val">ret_val</a> = <a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::eeprom" title='ixgbe_hw::eeprom' data-ref="ixgbe_hw::eeprom">eeprom</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_info::ops" title='ixgbe_eeprom_info::ops' data-ref="ixgbe_eeprom_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_operations::read" title='ixgbe_eeprom_operations::read' data-ref="ixgbe_eeprom_operations::read">read</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <a class="local col8 ref" href="#138data_offset" title='data_offset' data-ref="138data_offset">data_offset</a>,</td></tr>
<tr><th id="1056">1056</th><td>							      &amp;<a class="local col3 ref" href="#133eword" title='eword' data-ref="133eword">eword</a>);</td></tr>
<tr><th id="1057">1057</th><td>				<b>if</b> (<a class="local col0 ref" href="#140ret_val" title='ret_val' data-ref="140ret_val">ret_val</a>)</td></tr>
<tr><th id="1058">1058</th><td>					<b>goto</b> <a class="lbl" href="#142err_eeprom" data-ref="142err_eeprom">err_eeprom</a>;</td></tr>
<tr><th id="1059">1059</th><td>				<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <a class="local col1 ref" href="#131phy_offset" title='phy_offset' data-ref="131phy_offset">phy_offset</a>,</td></tr>
<tr><th id="1060">1060</th><td>						      <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#18" title="1" data-ref="_M/MDIO_MMD_PMAPMD">MDIO_MMD_PMAPMD</a>, <a class="local col3 ref" href="#133eword" title='eword' data-ref="133eword">eword</a>);</td></tr>
<tr><th id="1061">1061</th><td>				<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;Wrote %4.4x to %4.4x\n&quot;, eword, phy_offset); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <q>"Wrote %4.4x to %4.4x\n"</q>, <a class="local col3 ref" href="#133eword" title='eword' data-ref="133eword">eword</a>,</td></tr>
<tr><th id="1062">1062</th><td>				       <a class="local col1 ref" href="#131phy_offset" title='phy_offset' data-ref="131phy_offset">phy_offset</a>);</td></tr>
<tr><th id="1063">1063</th><td>				<a class="local col8 ref" href="#138data_offset" title='data_offset' data-ref="138data_offset">data_offset</a>++;</td></tr>
<tr><th id="1064">1064</th><td>				<a class="local col1 ref" href="#131phy_offset" title='phy_offset' data-ref="131phy_offset">phy_offset</a>++;</td></tr>
<tr><th id="1065">1065</th><td>			}</td></tr>
<tr><th id="1066">1066</th><td>			<b>break</b>;</td></tr>
<tr><th id="1067">1067</th><td>		<b>case</b> <a class="macro" href="ixgbe_type.h.html#1399" title="0x000F" data-ref="_M/IXGBE_CONTROL_NL">IXGBE_CONTROL_NL</a>:</td></tr>
<tr><th id="1068">1068</th><td>			<a class="local col8 ref" href="#138data_offset" title='data_offset' data-ref="138data_offset">data_offset</a>++;</td></tr>
<tr><th id="1069">1069</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;CONTROL:\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <q>"CONTROL:\n"</q>);</td></tr>
<tr><th id="1070">1070</th><td>			<b>if</b> (<a class="local col4 ref" href="#134edata" title='edata' data-ref="134edata">edata</a> == <a class="macro" href="ixgbe_type.h.html#1400" title="0x0FFF" data-ref="_M/IXGBE_CONTROL_EOL_NL">IXGBE_CONTROL_EOL_NL</a>) {</td></tr>
<tr><th id="1071">1071</th><td>				<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;EOL\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <q>"EOL\n"</q>);</td></tr>
<tr><th id="1072">1072</th><td>				<a class="local col6 ref" href="#136end_data" title='end_data' data-ref="136end_data">end_data</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="1073">1073</th><td>			} <b>else</b> <b>if</b> (<a class="local col4 ref" href="#134edata" title='edata' data-ref="134edata">edata</a> == <a class="macro" href="ixgbe_type.h.html#1401" title="0x0000" data-ref="_M/IXGBE_CONTROL_SOL_NL">IXGBE_CONTROL_SOL_NL</a>) {</td></tr>
<tr><th id="1074">1074</th><td>				<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;SOL\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <q>"SOL\n"</q>);</td></tr>
<tr><th id="1075">1075</th><td>			} <b>else</b> {</td></tr>
<tr><th id="1076">1076</th><td>				<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;Bad control value\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <q>"Bad control value\n"</q>);</td></tr>
<tr><th id="1077">1077</th><td>				<b>return</b> <a class="macro" href="ixgbe_type.h.html#3645" title="-3" data-ref="_M/IXGBE_ERR_PHY">IXGBE_ERR_PHY</a>;</td></tr>
<tr><th id="1078">1078</th><td>			}</td></tr>
<tr><th id="1079">1079</th><td>			<b>break</b>;</td></tr>
<tr><th id="1080">1080</th><td>		<b>default</b>:</td></tr>
<tr><th id="1081">1081</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;Bad control type\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <q>"Bad control type\n"</q>);</td></tr>
<tr><th id="1082">1082</th><td>			<b>return</b> <a class="macro" href="ixgbe_type.h.html#3645" title="-3" data-ref="_M/IXGBE_ERR_PHY">IXGBE_ERR_PHY</a>;</td></tr>
<tr><th id="1083">1083</th><td>		}</td></tr>
<tr><th id="1084">1084</th><td>	}</td></tr>
<tr><th id="1085">1085</th><td></td></tr>
<tr><th id="1086">1086</th><td>	<b>return</b> <a class="local col0 ref" href="#140ret_val" title='ret_val' data-ref="140ret_val">ret_val</a>;</td></tr>
<tr><th id="1087">1087</th><td></td></tr>
<tr><th id="1088">1088</th><td><dfn class="lbl" id="142err_eeprom" data-ref="142err_eeprom">err_eeprom</dfn>:</td></tr>
<tr><th id="1089">1089</th><td>	<a class="macro" href="ixgbe_common.h.html#206" title="netdev_err((((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;eeprom read at offset %d failed\n&quot;, data_offset)" data-ref="_M/hw_err">hw_err</a>(<a class="local col0 ref" href="#130hw" title='hw' data-ref="130hw">hw</a>, <q>"eeprom read at offset %d failed\n"</q>, <a class="local col8 ref" href="#138data_offset" title='data_offset' data-ref="138data_offset">data_offset</a>);</td></tr>
<tr><th id="1090">1090</th><td>	<b>return</b> <a class="macro" href="ixgbe_type.h.html#3645" title="-3" data-ref="_M/IXGBE_ERR_PHY">IXGBE_ERR_PHY</a>;</td></tr>
<tr><th id="1091">1091</th><td>}</td></tr>
<tr><th id="1092">1092</th><td></td></tr>
<tr><th id="1093">1093</th><td><i class="doc">/**</i></td></tr>
<tr><th id="1094">1094</th><td><i class="doc"> *  ixgbe_identify_module_generic - Identifies module type</i></td></tr>
<tr><th id="1095">1095</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1096">1096</th><td><i class="doc"> *</i></td></tr>
<tr><th id="1097">1097</th><td><i class="doc"> *  Determines HW type and calls appropriate function.</i></td></tr>
<tr><th id="1098">1098</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="1099">1099</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_identify_module_generic" title='ixgbe_identify_module_generic' data-ref="ixgbe_identify_module_generic">ixgbe_identify_module_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col3 decl" id="143hw" title='hw' data-type='struct ixgbe_hw *' data-ref="143hw">hw</dfn>)</td></tr>
<tr><th id="1100">1100</th><td>{</td></tr>
<tr><th id="1101">1101</th><td>	<b>switch</b> (<a class="local col3 ref" href="#143hw" title='hw' data-ref="143hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::get_media_type" title='ixgbe_mac_operations::get_media_type' data-ref="ixgbe_mac_operations::get_media_type">get_media_type</a>(<a class="local col3 ref" href="#143hw" title='hw' data-ref="143hw">hw</a>)) {</td></tr>
<tr><th id="1102">1102</th><td>	<b>case</b> <a class="enum" href="ixgbe_type.h.html#ixgbe_media_type_fiber" title='ixgbe_media_type_fiber' data-ref="ixgbe_media_type_fiber">ixgbe_media_type_fiber</a>:</td></tr>
<tr><th id="1103">1103</th><td>		<b>return</b> <a class="ref fn" href="#ixgbe_identify_sfp_module_generic" title='ixgbe_identify_sfp_module_generic' data-ref="ixgbe_identify_sfp_module_generic">ixgbe_identify_sfp_module_generic</a>(<a class="local col3 ref" href="#143hw" title='hw' data-ref="143hw">hw</a>);</td></tr>
<tr><th id="1104">1104</th><td>	<b>case</b> <a class="enum" href="ixgbe_type.h.html#ixgbe_media_type_fiber_qsfp" title='ixgbe_media_type_fiber_qsfp' data-ref="ixgbe_media_type_fiber_qsfp">ixgbe_media_type_fiber_qsfp</a>:</td></tr>
<tr><th id="1105">1105</th><td>		<b>return</b> <a class="tu ref fn" href="#ixgbe_identify_qsfp_module_generic" title='ixgbe_identify_qsfp_module_generic' data-use='c' data-ref="ixgbe_identify_qsfp_module_generic">ixgbe_identify_qsfp_module_generic</a>(<a class="local col3 ref" href="#143hw" title='hw' data-ref="143hw">hw</a>);</td></tr>
<tr><th id="1106">1106</th><td>	<b>default</b>:</td></tr>
<tr><th id="1107">1107</th><td>		<a class="local col3 ref" href="#143hw" title='hw' data-ref="143hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_not_present" title='ixgbe_sfp_type_not_present' data-ref="ixgbe_sfp_type_not_present">ixgbe_sfp_type_not_present</a>;</td></tr>
<tr><th id="1108">1108</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3662" title="-20" data-ref="_M/IXGBE_ERR_SFP_NOT_PRESENT">IXGBE_ERR_SFP_NOT_PRESENT</a>;</td></tr>
<tr><th id="1109">1109</th><td>	}</td></tr>
<tr><th id="1110">1110</th><td></td></tr>
<tr><th id="1111">1111</th><td>	<b>return</b> <a class="macro" href="ixgbe_type.h.html#3662" title="-20" data-ref="_M/IXGBE_ERR_SFP_NOT_PRESENT">IXGBE_ERR_SFP_NOT_PRESENT</a>;</td></tr>
<tr><th id="1112">1112</th><td>}</td></tr>
<tr><th id="1113">1113</th><td></td></tr>
<tr><th id="1114">1114</th><td><i class="doc">/**</i></td></tr>
<tr><th id="1115">1115</th><td><i class="doc"> *  ixgbe_identify_sfp_module_generic - Identifies SFP modules</i></td></tr>
<tr><th id="1116">1116</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1117">1117</th><td><i class="doc"> *</i></td></tr>
<tr><th id="1118">1118</th><td><i class="doc"> *  Searches for and identifies the SFP module and assigns appropriate PHY type.</i></td></tr>
<tr><th id="1119">1119</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="1120">1120</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_identify_sfp_module_generic" title='ixgbe_identify_sfp_module_generic' data-ref="ixgbe_identify_sfp_module_generic">ixgbe_identify_sfp_module_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col4 decl" id="144hw" title='hw' data-type='struct ixgbe_hw *' data-ref="144hw">hw</dfn>)</td></tr>
<tr><th id="1121">1121</th><td>{</td></tr>
<tr><th id="1122">1122</th><td>	<b>struct</b> <a class="type" href="ixgbe.h.html#ixgbe_adapter" title='ixgbe_adapter' data-ref="ixgbe_adapter">ixgbe_adapter</a> *<dfn class="local col5 decl" id="145adapter" title='adapter' data-type='struct ixgbe_adapter *' data-ref="145adapter">adapter</dfn> = <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::back" title='ixgbe_hw::back' data-ref="ixgbe_hw::back">back</a>;</td></tr>
<tr><th id="1123">1123</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col6 decl" id="146status" title='status' data-type='s32' data-ref="146status">status</dfn>;</td></tr>
<tr><th id="1124">1124</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col7 decl" id="147vendor_oui" title='vendor_oui' data-type='u32' data-ref="147vendor_oui">vendor_oui</dfn> = <var>0</var>;</td></tr>
<tr><th id="1125">1125</th><td>	<b>enum</b> <a class="type" href="ixgbe_type.h.html#ixgbe_sfp_type" title='ixgbe_sfp_type' data-ref="ixgbe_sfp_type">ixgbe_sfp_type</a> <dfn class="local col8 decl" id="148stored_sfp_type" title='stored_sfp_type' data-type='enum ixgbe_sfp_type' data-ref="148stored_sfp_type">stored_sfp_type</dfn> = <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a>;</td></tr>
<tr><th id="1126">1126</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col9 decl" id="149identifier" title='identifier' data-type='u8' data-ref="149identifier">identifier</dfn> = <var>0</var>;</td></tr>
<tr><th id="1127">1127</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col0 decl" id="150comp_codes_1g" title='comp_codes_1g' data-type='u8' data-ref="150comp_codes_1g">comp_codes_1g</dfn> = <var>0</var>;</td></tr>
<tr><th id="1128">1128</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col1 decl" id="151comp_codes_10g" title='comp_codes_10g' data-type='u8' data-ref="151comp_codes_10g">comp_codes_10g</dfn> = <var>0</var>;</td></tr>
<tr><th id="1129">1129</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col2 decl" id="152oui_bytes" title='oui_bytes' data-type='u8 [3]' data-ref="152oui_bytes">oui_bytes</dfn>[<var>3</var>] = {<var>0</var>, <var>0</var>, <var>0</var>};</td></tr>
<tr><th id="1130">1130</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col3 decl" id="153cable_tech" title='cable_tech' data-type='u8' data-ref="153cable_tech">cable_tech</dfn> = <var>0</var>;</td></tr>
<tr><th id="1131">1131</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col4 decl" id="154cable_spec" title='cable_spec' data-type='u8' data-ref="154cable_spec">cable_spec</dfn> = <var>0</var>;</td></tr>
<tr><th id="1132">1132</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col5 decl" id="155enforce_sfp" title='enforce_sfp' data-type='u16' data-ref="155enforce_sfp">enforce_sfp</dfn> = <var>0</var>;</td></tr>
<tr><th id="1133">1133</th><td></td></tr>
<tr><th id="1134">1134</th><td>	<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::get_media_type" title='ixgbe_mac_operations::get_media_type' data-ref="ixgbe_mac_operations::get_media_type">get_media_type</a>(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>) != <a class="enum" href="ixgbe_type.h.html#ixgbe_media_type_fiber" title='ixgbe_media_type_fiber' data-ref="ixgbe_media_type_fiber">ixgbe_media_type_fiber</a>) {</td></tr>
<tr><th id="1135">1135</th><td>		<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_not_present" title='ixgbe_sfp_type_not_present' data-ref="ixgbe_sfp_type_not_present">ixgbe_sfp_type_not_present</a>;</td></tr>
<tr><th id="1136">1136</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3662" title="-20" data-ref="_M/IXGBE_ERR_SFP_NOT_PRESENT">IXGBE_ERR_SFP_NOT_PRESENT</a>;</td></tr>
<tr><th id="1137">1137</th><td>	}</td></tr>
<tr><th id="1138">1138</th><td></td></tr>
<tr><th id="1139">1139</th><td>	<i>/* LAN ID is needed for sfp_type determination */</i></td></tr>
<tr><th id="1140">1140</th><td>	<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::set_lan_id" title='ixgbe_mac_operations::set_lan_id' data-ref="ixgbe_mac_operations::set_lan_id">set_lan_id</a>(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>);</td></tr>
<tr><th id="1141">1141</th><td></td></tr>
<tr><th id="1142">1142</th><td>	<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a> = <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>,</td></tr>
<tr><th id="1143">1143</th><td>					     <a class="macro" href="ixgbe_phy.h.html#37" title="0x0" data-ref="_M/IXGBE_SFF_IDENTIFIER">IXGBE_SFF_IDENTIFIER</a>,</td></tr>
<tr><th id="1144">1144</th><td>					     &amp;<a class="local col9 ref" href="#149identifier" title='identifier' data-ref="149identifier">identifier</a>);</td></tr>
<tr><th id="1145">1145</th><td></td></tr>
<tr><th id="1146">1146</th><td>	<b>if</b> (<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a>)</td></tr>
<tr><th id="1147">1147</th><td>		<b>goto</b> <a class="lbl" href="#156err_read_i2c_eeprom" data-ref="156err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1148">1148</th><td></td></tr>
<tr><th id="1149">1149</th><td>	<b>if</b> (<a class="local col9 ref" href="#149identifier" title='identifier' data-ref="149identifier">identifier</a> != <a class="macro" href="ixgbe_phy.h.html#38" title="0x3" data-ref="_M/IXGBE_SFF_IDENTIFIER_SFP">IXGBE_SFF_IDENTIFIER_SFP</a>) {</td></tr>
<tr><th id="1150">1150</th><td>		<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_unsupported" title='ixgbe_phy_sfp_unsupported' data-ref="ixgbe_phy_sfp_unsupported">ixgbe_phy_sfp_unsupported</a>;</td></tr>
<tr><th id="1151">1151</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3661" title="-19" data-ref="_M/IXGBE_ERR_SFP_NOT_SUPPORTED">IXGBE_ERR_SFP_NOT_SUPPORTED</a>;</td></tr>
<tr><th id="1152">1152</th><td>	}</td></tr>
<tr><th id="1153">1153</th><td>	<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a> = <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>,</td></tr>
<tr><th id="1154">1154</th><td>					     <a class="macro" href="ixgbe_phy.h.html#42" title="0x6" data-ref="_M/IXGBE_SFF_1GBE_COMP_CODES">IXGBE_SFF_1GBE_COMP_CODES</a>,</td></tr>
<tr><th id="1155">1155</th><td>					     &amp;<a class="local col0 ref" href="#150comp_codes_1g" title='comp_codes_1g' data-ref="150comp_codes_1g">comp_codes_1g</a>);</td></tr>
<tr><th id="1156">1156</th><td></td></tr>
<tr><th id="1157">1157</th><td>	<b>if</b> (<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a>)</td></tr>
<tr><th id="1158">1158</th><td>		<b>goto</b> <a class="lbl" href="#156err_read_i2c_eeprom" data-ref="156err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1159">1159</th><td></td></tr>
<tr><th id="1160">1160</th><td>	<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a> = <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>,</td></tr>
<tr><th id="1161">1161</th><td>					     <a class="macro" href="ixgbe_phy.h.html#43" title="0x3" data-ref="_M/IXGBE_SFF_10GBE_COMP_CODES">IXGBE_SFF_10GBE_COMP_CODES</a>,</td></tr>
<tr><th id="1162">1162</th><td>					     &amp;<a class="local col1 ref" href="#151comp_codes_10g" title='comp_codes_10g' data-ref="151comp_codes_10g">comp_codes_10g</a>);</td></tr>
<tr><th id="1163">1163</th><td></td></tr>
<tr><th id="1164">1164</th><td>	<b>if</b> (<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a>)</td></tr>
<tr><th id="1165">1165</th><td>		<b>goto</b> <a class="lbl" href="#156err_read_i2c_eeprom" data-ref="156err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1166">1166</th><td>	<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a> = <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>,</td></tr>
<tr><th id="1167">1167</th><td>					     <a class="macro" href="ixgbe_phy.h.html#44" title="0x8" data-ref="_M/IXGBE_SFF_CABLE_TECHNOLOGY">IXGBE_SFF_CABLE_TECHNOLOGY</a>,</td></tr>
<tr><th id="1168">1168</th><td>					     &amp;<a class="local col3 ref" href="#153cable_tech" title='cable_tech' data-ref="153cable_tech">cable_tech</a>);</td></tr>
<tr><th id="1169">1169</th><td></td></tr>
<tr><th id="1170">1170</th><td>	<b>if</b> (<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a>)</td></tr>
<tr><th id="1171">1171</th><td>		<b>goto</b> <a class="lbl" href="#156err_read_i2c_eeprom" data-ref="156err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1172">1172</th><td></td></tr>
<tr><th id="1173">1173</th><td>	 <i>/* ID Module</i></td></tr>
<tr><th id="1174">1174</th><td><i>	  * =========</i></td></tr>
<tr><th id="1175">1175</th><td><i>	  * 0   SFP_DA_CU</i></td></tr>
<tr><th id="1176">1176</th><td><i>	  * 1   SFP_SR</i></td></tr>
<tr><th id="1177">1177</th><td><i>	  * 2   SFP_LR</i></td></tr>
<tr><th id="1178">1178</th><td><i>	  * 3   SFP_DA_CORE0 - 82599-specific</i></td></tr>
<tr><th id="1179">1179</th><td><i>	  * 4   SFP_DA_CORE1 - 82599-specific</i></td></tr>
<tr><th id="1180">1180</th><td><i>	  * 5   SFP_SR/LR_CORE0 - 82599-specific</i></td></tr>
<tr><th id="1181">1181</th><td><i>	  * 6   SFP_SR/LR_CORE1 - 82599-specific</i></td></tr>
<tr><th id="1182">1182</th><td><i>	  * 7   SFP_act_lmt_DA_CORE0 - 82599-specific</i></td></tr>
<tr><th id="1183">1183</th><td><i>	  * 8   SFP_act_lmt_DA_CORE1 - 82599-specific</i></td></tr>
<tr><th id="1184">1184</th><td><i>	  * 9   SFP_1g_cu_CORE0 - 82599-specific</i></td></tr>
<tr><th id="1185">1185</th><td><i>	  * 10  SFP_1g_cu_CORE1 - 82599-specific</i></td></tr>
<tr><th id="1186">1186</th><td><i>	  * 11  SFP_1g_sx_CORE0 - 82599-specific</i></td></tr>
<tr><th id="1187">1187</th><td><i>	  * 12  SFP_1g_sx_CORE1 - 82599-specific</i></td></tr>
<tr><th id="1188">1188</th><td><i>	  */</i></td></tr>
<tr><th id="1189">1189</th><td>	<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::type" title='ixgbe_mac_info::type' data-ref="ixgbe_mac_info::type">type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_mac_82598EB" title='ixgbe_mac_82598EB' data-ref="ixgbe_mac_82598EB">ixgbe_mac_82598EB</a>) {</td></tr>
<tr><th id="1190">1190</th><td>		<b>if</b> (<a class="local col3 ref" href="#153cable_tech" title='cable_tech' data-ref="153cable_tech">cable_tech</a> &amp; <a class="macro" href="ixgbe_phy.h.html#61" title="0x4" data-ref="_M/IXGBE_SFF_DA_PASSIVE_CABLE">IXGBE_SFF_DA_PASSIVE_CABLE</a>)</td></tr>
<tr><th id="1191">1191</th><td>			<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_cu" title='ixgbe_sfp_type_da_cu' data-ref="ixgbe_sfp_type_da_cu">ixgbe_sfp_type_da_cu</a>;</td></tr>
<tr><th id="1192">1192</th><td>		<b>else</b> <b>if</b> (<a class="local col1 ref" href="#151comp_codes_10g" title='comp_codes_10g' data-ref="151comp_codes_10g">comp_codes_10g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#67" title="0x10" data-ref="_M/IXGBE_SFF_10GBASESR_CAPABLE">IXGBE_SFF_10GBASESR_CAPABLE</a>)</td></tr>
<tr><th id="1193">1193</th><td>			<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_sr" title='ixgbe_sfp_type_sr' data-ref="ixgbe_sfp_type_sr">ixgbe_sfp_type_sr</a>;</td></tr>
<tr><th id="1194">1194</th><td>		<b>else</b> <b>if</b> (<a class="local col1 ref" href="#151comp_codes_10g" title='comp_codes_10g' data-ref="151comp_codes_10g">comp_codes_10g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#68" title="0x20" data-ref="_M/IXGBE_SFF_10GBASELR_CAPABLE">IXGBE_SFF_10GBASELR_CAPABLE</a>)</td></tr>
<tr><th id="1195">1195</th><td>			<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_lr" title='ixgbe_sfp_type_lr' data-ref="ixgbe_sfp_type_lr">ixgbe_sfp_type_lr</a>;</td></tr>
<tr><th id="1196">1196</th><td>		<b>else</b></td></tr>
<tr><th id="1197">1197</th><td>			<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_unknown" title='ixgbe_sfp_type_unknown' data-ref="ixgbe_sfp_type_unknown">ixgbe_sfp_type_unknown</a>;</td></tr>
<tr><th id="1198">1198</th><td>	} <b>else</b> {</td></tr>
<tr><th id="1199">1199</th><td>		<b>if</b> (<a class="local col3 ref" href="#153cable_tech" title='cable_tech' data-ref="153cable_tech">cable_tech</a> &amp; <a class="macro" href="ixgbe_phy.h.html#61" title="0x4" data-ref="_M/IXGBE_SFF_DA_PASSIVE_CABLE">IXGBE_SFF_DA_PASSIVE_CABLE</a>) {</td></tr>
<tr><th id="1200">1200</th><td>			<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::bus" title='ixgbe_hw::bus' data-ref="ixgbe_hw::bus">bus</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_bus_info::lan_id" title='ixgbe_bus_info::lan_id' data-ref="ixgbe_bus_info::lan_id">lan_id</a> == <var>0</var>)</td></tr>
<tr><th id="1201">1201</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1202">1202</th><td>					     <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_cu_core0" title='ixgbe_sfp_type_da_cu_core0' data-ref="ixgbe_sfp_type_da_cu_core0">ixgbe_sfp_type_da_cu_core0</a>;</td></tr>
<tr><th id="1203">1203</th><td>			<b>else</b></td></tr>
<tr><th id="1204">1204</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1205">1205</th><td>					     <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_cu_core1" title='ixgbe_sfp_type_da_cu_core1' data-ref="ixgbe_sfp_type_da_cu_core1">ixgbe_sfp_type_da_cu_core1</a>;</td></tr>
<tr><th id="1206">1206</th><td>		} <b>else</b> <b>if</b> (<a class="local col3 ref" href="#153cable_tech" title='cable_tech' data-ref="153cable_tech">cable_tech</a> &amp; <a class="macro" href="ixgbe_phy.h.html#62" title="0x8" data-ref="_M/IXGBE_SFF_DA_ACTIVE_CABLE">IXGBE_SFF_DA_ACTIVE_CABLE</a>) {</td></tr>
<tr><th id="1207">1207</th><td>			<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(</td></tr>
<tr><th id="1208">1208</th><td>					<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>, <a class="macro" href="ixgbe_phy.h.html#45" title="0x3C" data-ref="_M/IXGBE_SFF_CABLE_SPEC_COMP">IXGBE_SFF_CABLE_SPEC_COMP</a>,</td></tr>
<tr><th id="1209">1209</th><td>					&amp;<a class="local col4 ref" href="#154cable_spec" title='cable_spec' data-ref="154cable_spec">cable_spec</a>);</td></tr>
<tr><th id="1210">1210</th><td>			<b>if</b> (<a class="local col4 ref" href="#154cable_spec" title='cable_spec' data-ref="154cable_spec">cable_spec</a> &amp;</td></tr>
<tr><th id="1211">1211</th><td>			    <a class="macro" href="ixgbe_phy.h.html#63" title="0x4" data-ref="_M/IXGBE_SFF_DA_SPEC_ACTIVE_LIMITING">IXGBE_SFF_DA_SPEC_ACTIVE_LIMITING</a>) {</td></tr>
<tr><th id="1212">1212</th><td>				<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::bus" title='ixgbe_hw::bus' data-ref="ixgbe_hw::bus">bus</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_bus_info::lan_id" title='ixgbe_bus_info::lan_id' data-ref="ixgbe_bus_info::lan_id">lan_id</a> == <var>0</var>)</td></tr>
<tr><th id="1213">1213</th><td>					<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1214">1214</th><td>					<a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_act_lmt_core0" title='ixgbe_sfp_type_da_act_lmt_core0' data-ref="ixgbe_sfp_type_da_act_lmt_core0">ixgbe_sfp_type_da_act_lmt_core0</a>;</td></tr>
<tr><th id="1215">1215</th><td>				<b>else</b></td></tr>
<tr><th id="1216">1216</th><td>					<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1217">1217</th><td>					<a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_act_lmt_core1" title='ixgbe_sfp_type_da_act_lmt_core1' data-ref="ixgbe_sfp_type_da_act_lmt_core1">ixgbe_sfp_type_da_act_lmt_core1</a>;</td></tr>
<tr><th id="1218">1218</th><td>			} <b>else</b> {</td></tr>
<tr><th id="1219">1219</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1220">1220</th><td>						<a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_unknown" title='ixgbe_sfp_type_unknown' data-ref="ixgbe_sfp_type_unknown">ixgbe_sfp_type_unknown</a>;</td></tr>
<tr><th id="1221">1221</th><td>			}</td></tr>
<tr><th id="1222">1222</th><td>		} <b>else</b> <b>if</b> (<a class="local col1 ref" href="#151comp_codes_10g" title='comp_codes_10g' data-ref="151comp_codes_10g">comp_codes_10g</a> &amp;</td></tr>
<tr><th id="1223">1223</th><td>			   (<a class="macro" href="ixgbe_phy.h.html#67" title="0x10" data-ref="_M/IXGBE_SFF_10GBASESR_CAPABLE">IXGBE_SFF_10GBASESR_CAPABLE</a> |</td></tr>
<tr><th id="1224">1224</th><td>			    <a class="macro" href="ixgbe_phy.h.html#68" title="0x20" data-ref="_M/IXGBE_SFF_10GBASELR_CAPABLE">IXGBE_SFF_10GBASELR_CAPABLE</a>)) {</td></tr>
<tr><th id="1225">1225</th><td>			<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::bus" title='ixgbe_hw::bus' data-ref="ixgbe_hw::bus">bus</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_bus_info::lan_id" title='ixgbe_bus_info::lan_id' data-ref="ixgbe_bus_info::lan_id">lan_id</a> == <var>0</var>)</td></tr>
<tr><th id="1226">1226</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1227">1227</th><td>					      <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_srlr_core0" title='ixgbe_sfp_type_srlr_core0' data-ref="ixgbe_sfp_type_srlr_core0">ixgbe_sfp_type_srlr_core0</a>;</td></tr>
<tr><th id="1228">1228</th><td>			<b>else</b></td></tr>
<tr><th id="1229">1229</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1230">1230</th><td>					      <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_srlr_core1" title='ixgbe_sfp_type_srlr_core1' data-ref="ixgbe_sfp_type_srlr_core1">ixgbe_sfp_type_srlr_core1</a>;</td></tr>
<tr><th id="1231">1231</th><td>		} <b>else</b> <b>if</b> (<a class="local col0 ref" href="#150comp_codes_1g" title='comp_codes_1g' data-ref="150comp_codes_1g">comp_codes_1g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#66" title="0x8" data-ref="_M/IXGBE_SFF_1GBASET_CAPABLE">IXGBE_SFF_1GBASET_CAPABLE</a>) {</td></tr>
<tr><th id="1232">1232</th><td>			<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::bus" title='ixgbe_hw::bus' data-ref="ixgbe_hw::bus">bus</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_bus_info::lan_id" title='ixgbe_bus_info::lan_id' data-ref="ixgbe_bus_info::lan_id">lan_id</a> == <var>0</var>)</td></tr>
<tr><th id="1233">1233</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1234">1234</th><td>					<a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_cu_core0" title='ixgbe_sfp_type_1g_cu_core0' data-ref="ixgbe_sfp_type_1g_cu_core0">ixgbe_sfp_type_1g_cu_core0</a>;</td></tr>
<tr><th id="1235">1235</th><td>			<b>else</b></td></tr>
<tr><th id="1236">1236</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1237">1237</th><td>					<a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_cu_core1" title='ixgbe_sfp_type_1g_cu_core1' data-ref="ixgbe_sfp_type_1g_cu_core1">ixgbe_sfp_type_1g_cu_core1</a>;</td></tr>
<tr><th id="1238">1238</th><td>		} <b>else</b> <b>if</b> (<a class="local col0 ref" href="#150comp_codes_1g" title='comp_codes_1g' data-ref="150comp_codes_1g">comp_codes_1g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#64" title="0x1" data-ref="_M/IXGBE_SFF_1GBASESX_CAPABLE">IXGBE_SFF_1GBASESX_CAPABLE</a>) {</td></tr>
<tr><th id="1239">1239</th><td>			<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::bus" title='ixgbe_hw::bus' data-ref="ixgbe_hw::bus">bus</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_bus_info::lan_id" title='ixgbe_bus_info::lan_id' data-ref="ixgbe_bus_info::lan_id">lan_id</a> == <var>0</var>)</td></tr>
<tr><th id="1240">1240</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1241">1241</th><td>					<a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_sx_core0" title='ixgbe_sfp_type_1g_sx_core0' data-ref="ixgbe_sfp_type_1g_sx_core0">ixgbe_sfp_type_1g_sx_core0</a>;</td></tr>
<tr><th id="1242">1242</th><td>			<b>else</b></td></tr>
<tr><th id="1243">1243</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1244">1244</th><td>					<a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_sx_core1" title='ixgbe_sfp_type_1g_sx_core1' data-ref="ixgbe_sfp_type_1g_sx_core1">ixgbe_sfp_type_1g_sx_core1</a>;</td></tr>
<tr><th id="1245">1245</th><td>		} <b>else</b> <b>if</b> (<a class="local col0 ref" href="#150comp_codes_1g" title='comp_codes_1g' data-ref="150comp_codes_1g">comp_codes_1g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#65" title="0x2" data-ref="_M/IXGBE_SFF_1GBASELX_CAPABLE">IXGBE_SFF_1GBASELX_CAPABLE</a>) {</td></tr>
<tr><th id="1246">1246</th><td>			<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::bus" title='ixgbe_hw::bus' data-ref="ixgbe_hw::bus">bus</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_bus_info::lan_id" title='ixgbe_bus_info::lan_id' data-ref="ixgbe_bus_info::lan_id">lan_id</a> == <var>0</var>)</td></tr>
<tr><th id="1247">1247</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1248">1248</th><td>					<a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_lx_core0" title='ixgbe_sfp_type_1g_lx_core0' data-ref="ixgbe_sfp_type_1g_lx_core0">ixgbe_sfp_type_1g_lx_core0</a>;</td></tr>
<tr><th id="1249">1249</th><td>			<b>else</b></td></tr>
<tr><th id="1250">1250</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1251">1251</th><td>					<a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_lx_core1" title='ixgbe_sfp_type_1g_lx_core1' data-ref="ixgbe_sfp_type_1g_lx_core1">ixgbe_sfp_type_1g_lx_core1</a>;</td></tr>
<tr><th id="1252">1252</th><td>		} <b>else</b> {</td></tr>
<tr><th id="1253">1253</th><td>			<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_unknown" title='ixgbe_sfp_type_unknown' data-ref="ixgbe_sfp_type_unknown">ixgbe_sfp_type_unknown</a>;</td></tr>
<tr><th id="1254">1254</th><td>		}</td></tr>
<tr><th id="1255">1255</th><td>	}</td></tr>
<tr><th id="1256">1256</th><td></td></tr>
<tr><th id="1257">1257</th><td>	<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> != <a class="local col8 ref" href="#148stored_sfp_type" title='stored_sfp_type' data-ref="148stored_sfp_type">stored_sfp_type</a>)</td></tr>
<tr><th id="1258">1258</th><td>		<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_setup_needed" title='ixgbe_phy_info::sfp_setup_needed' data-ref="ixgbe_phy_info::sfp_setup_needed">sfp_setup_needed</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="1259">1259</th><td></td></tr>
<tr><th id="1260">1260</th><td>	<i>/* Determine if the SFP+ PHY is dual speed or not. */</i></td></tr>
<tr><th id="1261">1261</th><td>	<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::multispeed_fiber" title='ixgbe_phy_info::multispeed_fiber' data-ref="ixgbe_phy_info::multispeed_fiber">multispeed_fiber</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="1262">1262</th><td>	<b>if</b> (((<a class="local col0 ref" href="#150comp_codes_1g" title='comp_codes_1g' data-ref="150comp_codes_1g">comp_codes_1g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#64" title="0x1" data-ref="_M/IXGBE_SFF_1GBASESX_CAPABLE">IXGBE_SFF_1GBASESX_CAPABLE</a>) &amp;&amp;</td></tr>
<tr><th id="1263">1263</th><td>	     (<a class="local col1 ref" href="#151comp_codes_10g" title='comp_codes_10g' data-ref="151comp_codes_10g">comp_codes_10g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#67" title="0x10" data-ref="_M/IXGBE_SFF_10GBASESR_CAPABLE">IXGBE_SFF_10GBASESR_CAPABLE</a>)) ||</td></tr>
<tr><th id="1264">1264</th><td>	    ((<a class="local col0 ref" href="#150comp_codes_1g" title='comp_codes_1g' data-ref="150comp_codes_1g">comp_codes_1g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#65" title="0x2" data-ref="_M/IXGBE_SFF_1GBASELX_CAPABLE">IXGBE_SFF_1GBASELX_CAPABLE</a>) &amp;&amp;</td></tr>
<tr><th id="1265">1265</th><td>	     (<a class="local col1 ref" href="#151comp_codes_10g" title='comp_codes_10g' data-ref="151comp_codes_10g">comp_codes_10g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#68" title="0x20" data-ref="_M/IXGBE_SFF_10GBASELR_CAPABLE">IXGBE_SFF_10GBASELR_CAPABLE</a>)))</td></tr>
<tr><th id="1266">1266</th><td>		<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::multispeed_fiber" title='ixgbe_phy_info::multispeed_fiber' data-ref="ixgbe_phy_info::multispeed_fiber">multispeed_fiber</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="1267">1267</th><td></td></tr>
<tr><th id="1268">1268</th><td>	<i>/* Determine PHY vendor */</i></td></tr>
<tr><th id="1269">1269</th><td>	<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> != <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_nl" title='ixgbe_phy_nl' data-ref="ixgbe_phy_nl">ixgbe_phy_nl</a>) {</td></tr>
<tr><th id="1270">1270</th><td>		<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::id" title='ixgbe_phy_info::id' data-ref="ixgbe_phy_info::id">id</a> = <a class="local col9 ref" href="#149identifier" title='identifier' data-ref="149identifier">identifier</a>;</td></tr>
<tr><th id="1271">1271</th><td>		<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a> = <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>,</td></tr>
<tr><th id="1272">1272</th><td>					    <a class="macro" href="ixgbe_phy.h.html#39" title="0x25" data-ref="_M/IXGBE_SFF_VENDOR_OUI_BYTE0">IXGBE_SFF_VENDOR_OUI_BYTE0</a>,</td></tr>
<tr><th id="1273">1273</th><td>					    &amp;<a class="local col2 ref" href="#152oui_bytes" title='oui_bytes' data-ref="152oui_bytes">oui_bytes</a>[<var>0</var>]);</td></tr>
<tr><th id="1274">1274</th><td></td></tr>
<tr><th id="1275">1275</th><td>		<b>if</b> (<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1276">1276</th><td>			<b>goto</b> <a class="lbl" href="#156err_read_i2c_eeprom" data-ref="156err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1277">1277</th><td></td></tr>
<tr><th id="1278">1278</th><td>		<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a> = <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>,</td></tr>
<tr><th id="1279">1279</th><td>					    <a class="macro" href="ixgbe_phy.h.html#40" title="0x26" data-ref="_M/IXGBE_SFF_VENDOR_OUI_BYTE1">IXGBE_SFF_VENDOR_OUI_BYTE1</a>,</td></tr>
<tr><th id="1280">1280</th><td>					    &amp;<a class="local col2 ref" href="#152oui_bytes" title='oui_bytes' data-ref="152oui_bytes">oui_bytes</a>[<var>1</var>]);</td></tr>
<tr><th id="1281">1281</th><td></td></tr>
<tr><th id="1282">1282</th><td>		<b>if</b> (<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1283">1283</th><td>			<b>goto</b> <a class="lbl" href="#156err_read_i2c_eeprom" data-ref="156err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1284">1284</th><td></td></tr>
<tr><th id="1285">1285</th><td>		<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a> = <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>,</td></tr>
<tr><th id="1286">1286</th><td>					    <a class="macro" href="ixgbe_phy.h.html#41" title="0x27" data-ref="_M/IXGBE_SFF_VENDOR_OUI_BYTE2">IXGBE_SFF_VENDOR_OUI_BYTE2</a>,</td></tr>
<tr><th id="1287">1287</th><td>					    &amp;<a class="local col2 ref" href="#152oui_bytes" title='oui_bytes' data-ref="152oui_bytes">oui_bytes</a>[<var>2</var>]);</td></tr>
<tr><th id="1288">1288</th><td></td></tr>
<tr><th id="1289">1289</th><td>		<b>if</b> (<a class="local col6 ref" href="#146status" title='status' data-ref="146status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1290">1290</th><td>			<b>goto</b> <a class="lbl" href="#156err_read_i2c_eeprom" data-ref="156err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1291">1291</th><td></td></tr>
<tr><th id="1292">1292</th><td>		<a class="local col7 ref" href="#147vendor_oui" title='vendor_oui' data-ref="147vendor_oui">vendor_oui</a> =</td></tr>
<tr><th id="1293">1293</th><td>		  ((<a class="local col2 ref" href="#152oui_bytes" title='oui_bytes' data-ref="152oui_bytes">oui_bytes</a>[<var>0</var>] &lt;&lt; <a class="macro" href="ixgbe_phy.h.html#118" title="24" data-ref="_M/IXGBE_SFF_VENDOR_OUI_BYTE0_SHIFT">IXGBE_SFF_VENDOR_OUI_BYTE0_SHIFT</a>) |</td></tr>
<tr><th id="1294">1294</th><td>		   (<a class="local col2 ref" href="#152oui_bytes" title='oui_bytes' data-ref="152oui_bytes">oui_bytes</a>[<var>1</var>] &lt;&lt; <a class="macro" href="ixgbe_phy.h.html#119" title="16" data-ref="_M/IXGBE_SFF_VENDOR_OUI_BYTE1_SHIFT">IXGBE_SFF_VENDOR_OUI_BYTE1_SHIFT</a>) |</td></tr>
<tr><th id="1295">1295</th><td>		   (<a class="local col2 ref" href="#152oui_bytes" title='oui_bytes' data-ref="152oui_bytes">oui_bytes</a>[<var>2</var>] &lt;&lt; <a class="macro" href="ixgbe_phy.h.html#120" title="8" data-ref="_M/IXGBE_SFF_VENDOR_OUI_BYTE2_SHIFT">IXGBE_SFF_VENDOR_OUI_BYTE2_SHIFT</a>));</td></tr>
<tr><th id="1296">1296</th><td></td></tr>
<tr><th id="1297">1297</th><td>		<b>switch</b> (<a class="local col7 ref" href="#147vendor_oui" title='vendor_oui' data-ref="147vendor_oui">vendor_oui</a>) {</td></tr>
<tr><th id="1298">1298</th><td>		<b>case</b> <a class="macro" href="ixgbe_phy.h.html#123" title="0x00407600" data-ref="_M/IXGBE_SFF_VENDOR_OUI_TYCO">IXGBE_SFF_VENDOR_OUI_TYCO</a>:</td></tr>
<tr><th id="1299">1299</th><td>			<b>if</b> (<a class="local col3 ref" href="#153cable_tech" title='cable_tech' data-ref="153cable_tech">cable_tech</a> &amp; <a class="macro" href="ixgbe_phy.h.html#61" title="0x4" data-ref="_M/IXGBE_SFF_DA_PASSIVE_CABLE">IXGBE_SFF_DA_PASSIVE_CABLE</a>)</td></tr>
<tr><th id="1300">1300</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> =</td></tr>
<tr><th id="1301">1301</th><td>					    <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_passive_tyco" title='ixgbe_phy_sfp_passive_tyco' data-ref="ixgbe_phy_sfp_passive_tyco">ixgbe_phy_sfp_passive_tyco</a>;</td></tr>
<tr><th id="1302">1302</th><td>			<b>break</b>;</td></tr>
<tr><th id="1303">1303</th><td>		<b>case</b> <a class="macro" href="ixgbe_phy.h.html#124" title="0x00906500" data-ref="_M/IXGBE_SFF_VENDOR_OUI_FTL">IXGBE_SFF_VENDOR_OUI_FTL</a>:</td></tr>
<tr><th id="1304">1304</th><td>			<b>if</b> (<a class="local col3 ref" href="#153cable_tech" title='cable_tech' data-ref="153cable_tech">cable_tech</a> &amp; <a class="macro" href="ixgbe_phy.h.html#62" title="0x8" data-ref="_M/IXGBE_SFF_DA_ACTIVE_CABLE">IXGBE_SFF_DA_ACTIVE_CABLE</a>)</td></tr>
<tr><th id="1305">1305</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_ftl_active" title='ixgbe_phy_sfp_ftl_active' data-ref="ixgbe_phy_sfp_ftl_active">ixgbe_phy_sfp_ftl_active</a>;</td></tr>
<tr><th id="1306">1306</th><td>			<b>else</b></td></tr>
<tr><th id="1307">1307</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_ftl" title='ixgbe_phy_sfp_ftl' data-ref="ixgbe_phy_sfp_ftl">ixgbe_phy_sfp_ftl</a>;</td></tr>
<tr><th id="1308">1308</th><td>			<b>break</b>;</td></tr>
<tr><th id="1309">1309</th><td>		<b>case</b> <a class="macro" href="ixgbe_phy.h.html#125" title="0x00176A00" data-ref="_M/IXGBE_SFF_VENDOR_OUI_AVAGO">IXGBE_SFF_VENDOR_OUI_AVAGO</a>:</td></tr>
<tr><th id="1310">1310</th><td>			<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_avago" title='ixgbe_phy_sfp_avago' data-ref="ixgbe_phy_sfp_avago">ixgbe_phy_sfp_avago</a>;</td></tr>
<tr><th id="1311">1311</th><td>			<b>break</b>;</td></tr>
<tr><th id="1312">1312</th><td>		<b>case</b> <a class="macro" href="ixgbe_phy.h.html#126" title="0x001B2100" data-ref="_M/IXGBE_SFF_VENDOR_OUI_INTEL">IXGBE_SFF_VENDOR_OUI_INTEL</a>:</td></tr>
<tr><th id="1313">1313</th><td>			<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_intel" title='ixgbe_phy_sfp_intel' data-ref="ixgbe_phy_sfp_intel">ixgbe_phy_sfp_intel</a>;</td></tr>
<tr><th id="1314">1314</th><td>			<b>break</b>;</td></tr>
<tr><th id="1315">1315</th><td>		<b>default</b>:</td></tr>
<tr><th id="1316">1316</th><td>			<b>if</b> (<a class="local col3 ref" href="#153cable_tech" title='cable_tech' data-ref="153cable_tech">cable_tech</a> &amp; <a class="macro" href="ixgbe_phy.h.html#61" title="0x4" data-ref="_M/IXGBE_SFF_DA_PASSIVE_CABLE">IXGBE_SFF_DA_PASSIVE_CABLE</a>)</td></tr>
<tr><th id="1317">1317</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> =</td></tr>
<tr><th id="1318">1318</th><td>					 <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_passive_unknown" title='ixgbe_phy_sfp_passive_unknown' data-ref="ixgbe_phy_sfp_passive_unknown">ixgbe_phy_sfp_passive_unknown</a>;</td></tr>
<tr><th id="1319">1319</th><td>			<b>else</b> <b>if</b> (<a class="local col3 ref" href="#153cable_tech" title='cable_tech' data-ref="153cable_tech">cable_tech</a> &amp; <a class="macro" href="ixgbe_phy.h.html#62" title="0x8" data-ref="_M/IXGBE_SFF_DA_ACTIVE_CABLE">IXGBE_SFF_DA_ACTIVE_CABLE</a>)</td></tr>
<tr><th id="1320">1320</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> =</td></tr>
<tr><th id="1321">1321</th><td>					<a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_active_unknown" title='ixgbe_phy_sfp_active_unknown' data-ref="ixgbe_phy_sfp_active_unknown">ixgbe_phy_sfp_active_unknown</a>;</td></tr>
<tr><th id="1322">1322</th><td>			<b>else</b></td></tr>
<tr><th id="1323">1323</th><td>				<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_unknown" title='ixgbe_phy_sfp_unknown' data-ref="ixgbe_phy_sfp_unknown">ixgbe_phy_sfp_unknown</a>;</td></tr>
<tr><th id="1324">1324</th><td>			<b>break</b>;</td></tr>
<tr><th id="1325">1325</th><td>		}</td></tr>
<tr><th id="1326">1326</th><td>	}</td></tr>
<tr><th id="1327">1327</th><td></td></tr>
<tr><th id="1328">1328</th><td>	<i>/* Allow any DA cable vendor */</i></td></tr>
<tr><th id="1329">1329</th><td>	<b>if</b> (<a class="local col3 ref" href="#153cable_tech" title='cable_tech' data-ref="153cable_tech">cable_tech</a> &amp; (<a class="macro" href="ixgbe_phy.h.html#61" title="0x4" data-ref="_M/IXGBE_SFF_DA_PASSIVE_CABLE">IXGBE_SFF_DA_PASSIVE_CABLE</a> |</td></tr>
<tr><th id="1330">1330</th><td>	    <a class="macro" href="ixgbe_phy.h.html#62" title="0x8" data-ref="_M/IXGBE_SFF_DA_ACTIVE_CABLE">IXGBE_SFF_DA_ACTIVE_CABLE</a>))</td></tr>
<tr><th id="1331">1331</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1332">1332</th><td></td></tr>
<tr><th id="1333">1333</th><td>	<i>/* Verify supported 1G SFP modules */</i></td></tr>
<tr><th id="1334">1334</th><td>	<b>if</b> (<a class="local col1 ref" href="#151comp_codes_10g" title='comp_codes_10g' data-ref="151comp_codes_10g">comp_codes_10g</a> == <var>0</var> &amp;&amp;</td></tr>
<tr><th id="1335">1335</th><td>	    !(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_cu_core1" title='ixgbe_sfp_type_1g_cu_core1' data-ref="ixgbe_sfp_type_1g_cu_core1">ixgbe_sfp_type_1g_cu_core1</a> ||</td></tr>
<tr><th id="1336">1336</th><td>	      <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_cu_core0" title='ixgbe_sfp_type_1g_cu_core0' data-ref="ixgbe_sfp_type_1g_cu_core0">ixgbe_sfp_type_1g_cu_core0</a> ||</td></tr>
<tr><th id="1337">1337</th><td>	      <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_lx_core0" title='ixgbe_sfp_type_1g_lx_core0' data-ref="ixgbe_sfp_type_1g_lx_core0">ixgbe_sfp_type_1g_lx_core0</a> ||</td></tr>
<tr><th id="1338">1338</th><td>	      <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_lx_core1" title='ixgbe_sfp_type_1g_lx_core1' data-ref="ixgbe_sfp_type_1g_lx_core1">ixgbe_sfp_type_1g_lx_core1</a> ||</td></tr>
<tr><th id="1339">1339</th><td>	      <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_sx_core0" title='ixgbe_sfp_type_1g_sx_core0' data-ref="ixgbe_sfp_type_1g_sx_core0">ixgbe_sfp_type_1g_sx_core0</a> ||</td></tr>
<tr><th id="1340">1340</th><td>	      <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_sx_core1" title='ixgbe_sfp_type_1g_sx_core1' data-ref="ixgbe_sfp_type_1g_sx_core1">ixgbe_sfp_type_1g_sx_core1</a>)) {</td></tr>
<tr><th id="1341">1341</th><td>		<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_unsupported" title='ixgbe_phy_sfp_unsupported' data-ref="ixgbe_phy_sfp_unsupported">ixgbe_phy_sfp_unsupported</a>;</td></tr>
<tr><th id="1342">1342</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3661" title="-19" data-ref="_M/IXGBE_ERR_SFP_NOT_SUPPORTED">IXGBE_ERR_SFP_NOT_SUPPORTED</a>;</td></tr>
<tr><th id="1343">1343</th><td>	}</td></tr>
<tr><th id="1344">1344</th><td></td></tr>
<tr><th id="1345">1345</th><td>	<i>/* Anything else 82598-based is supported */</i></td></tr>
<tr><th id="1346">1346</th><td>	<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::type" title='ixgbe_mac_info::type' data-ref="ixgbe_mac_info::type">type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_mac_82598EB" title='ixgbe_mac_82598EB' data-ref="ixgbe_mac_82598EB">ixgbe_mac_82598EB</a>)</td></tr>
<tr><th id="1347">1347</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1348">1348</th><td></td></tr>
<tr><th id="1349">1349</th><td>	<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::get_device_caps" title='ixgbe_mac_operations::get_device_caps' data-ref="ixgbe_mac_operations::get_device_caps">get_device_caps</a>(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>, &amp;<a class="local col5 ref" href="#155enforce_sfp" title='enforce_sfp' data-ref="155enforce_sfp">enforce_sfp</a>);</td></tr>
<tr><th id="1350">1350</th><td>	<b>if</b> (!(<a class="local col5 ref" href="#155enforce_sfp" title='enforce_sfp' data-ref="155enforce_sfp">enforce_sfp</a> &amp; <a class="macro" href="ixgbe_type.h.html#2120" title="0x1" data-ref="_M/IXGBE_DEVICE_CAPS_ALLOW_ANY_SFP">IXGBE_DEVICE_CAPS_ALLOW_ANY_SFP</a>) &amp;&amp;</td></tr>
<tr><th id="1351">1351</th><td>	    !(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_cu_core0" title='ixgbe_sfp_type_1g_cu_core0' data-ref="ixgbe_sfp_type_1g_cu_core0">ixgbe_sfp_type_1g_cu_core0</a> ||</td></tr>
<tr><th id="1352">1352</th><td>	      <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_cu_core1" title='ixgbe_sfp_type_1g_cu_core1' data-ref="ixgbe_sfp_type_1g_cu_core1">ixgbe_sfp_type_1g_cu_core1</a> ||</td></tr>
<tr><th id="1353">1353</th><td>	      <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_lx_core0" title='ixgbe_sfp_type_1g_lx_core0' data-ref="ixgbe_sfp_type_1g_lx_core0">ixgbe_sfp_type_1g_lx_core0</a> ||</td></tr>
<tr><th id="1354">1354</th><td>	      <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_lx_core1" title='ixgbe_sfp_type_1g_lx_core1' data-ref="ixgbe_sfp_type_1g_lx_core1">ixgbe_sfp_type_1g_lx_core1</a> ||</td></tr>
<tr><th id="1355">1355</th><td>	      <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_sx_core0" title='ixgbe_sfp_type_1g_sx_core0' data-ref="ixgbe_sfp_type_1g_sx_core0">ixgbe_sfp_type_1g_sx_core0</a> ||</td></tr>
<tr><th id="1356">1356</th><td>	      <a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_sx_core1" title='ixgbe_sfp_type_1g_sx_core1' data-ref="ixgbe_sfp_type_1g_sx_core1">ixgbe_sfp_type_1g_sx_core1</a>)) {</td></tr>
<tr><th id="1357">1357</th><td>		<i>/* Make sure we're a supported PHY type */</i></td></tr>
<tr><th id="1358">1358</th><td>		<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_intel" title='ixgbe_phy_sfp_intel' data-ref="ixgbe_phy_sfp_intel">ixgbe_phy_sfp_intel</a>)</td></tr>
<tr><th id="1359">1359</th><td>			<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1360">1360</th><td>		<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::allow_unsupported_sfp" title='ixgbe_hw::allow_unsupported_sfp' data-ref="ixgbe_hw::allow_unsupported_sfp">allow_unsupported_sfp</a>) {</td></tr>
<tr><th id="1361">1361</th><td>			<a class="macro" href="ixgbe_common.h.html#220" title="do { if (((adapter)-&gt;msg_enable &amp; NETIF_MSG_DRV)) netdev_warn(adapter-&gt;netdev, &quot;WARNING: Intel (R) Network Connections are quality tested using Intel (R) Ethernet Optics.  Using untested modules is not supported and may cause unstable operation or damage to the module or the adapter.  Intel Corporation is not responsible for any harm caused by using untested modules.\n&quot;); } while (0)" data-ref="_M/e_warn">e_warn</a>(drv, <q>"WARNING: Intel (R) Network Connections are quality tested using Intel (R) Ethernet Optics.  Using untested modules is not supported and may cause unstable operation or damage to the module or the adapter.  Intel Corporation is not responsible for any harm caused by using untested modules.\n"</q>);</td></tr>
<tr><th id="1362">1362</th><td>			<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1363">1363</th><td>		}</td></tr>
<tr><th id="1364">1364</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;SFP+ module not supported\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>, <q>"SFP+ module not supported\n"</q>);</td></tr>
<tr><th id="1365">1365</th><td>		<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_unsupported" title='ixgbe_phy_sfp_unsupported' data-ref="ixgbe_phy_sfp_unsupported">ixgbe_phy_sfp_unsupported</a>;</td></tr>
<tr><th id="1366">1366</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3661" title="-19" data-ref="_M/IXGBE_ERR_SFP_NOT_SUPPORTED">IXGBE_ERR_SFP_NOT_SUPPORTED</a>;</td></tr>
<tr><th id="1367">1367</th><td>	}</td></tr>
<tr><th id="1368">1368</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1369">1369</th><td></td></tr>
<tr><th id="1370">1370</th><td><dfn class="lbl" id="156err_read_i2c_eeprom" data-ref="156err_read_i2c_eeprom">err_read_i2c_eeprom</dfn>:</td></tr>
<tr><th id="1371">1371</th><td>	<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_not_present" title='ixgbe_sfp_type_not_present' data-ref="ixgbe_sfp_type_not_present">ixgbe_sfp_type_not_present</a>;</td></tr>
<tr><th id="1372">1372</th><td>	<b>if</b> (<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> != <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_nl" title='ixgbe_phy_nl' data-ref="ixgbe_phy_nl">ixgbe_phy_nl</a>) {</td></tr>
<tr><th id="1373">1373</th><td>		<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::id" title='ixgbe_phy_info::id' data-ref="ixgbe_phy_info::id">id</a> = <var>0</var>;</td></tr>
<tr><th id="1374">1374</th><td>		<a class="local col4 ref" href="#144hw" title='hw' data-ref="144hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_unknown" title='ixgbe_phy_unknown' data-ref="ixgbe_phy_unknown">ixgbe_phy_unknown</a>;</td></tr>
<tr><th id="1375">1375</th><td>	}</td></tr>
<tr><th id="1376">1376</th><td>	<b>return</b> <a class="macro" href="ixgbe_type.h.html#3662" title="-20" data-ref="_M/IXGBE_ERR_SFP_NOT_PRESENT">IXGBE_ERR_SFP_NOT_PRESENT</a>;</td></tr>
<tr><th id="1377">1377</th><td>}</td></tr>
<tr><th id="1378">1378</th><td></td></tr>
<tr><th id="1379">1379</th><td><i class="doc" data-doc="ixgbe_identify_qsfp_module_generic">/**</i></td></tr>
<tr><th id="1380">1380</th><td><i class="doc" data-doc="ixgbe_identify_qsfp_module_generic"> * ixgbe_identify_qsfp_module_generic - Identifies QSFP modules</i></td></tr>
<tr><th id="1381">1381</th><td><i class="doc" data-doc="ixgbe_identify_qsfp_module_generic"> *<span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1382">1382</th><td><i class="doc" data-doc="ixgbe_identify_qsfp_module_generic"> *</i></td></tr>
<tr><th id="1383">1383</th><td><i class="doc" data-doc="ixgbe_identify_qsfp_module_generic"> * Searches for and identifies the QSFP module and assigns appropriate PHY type</i></td></tr>
<tr><th id="1384">1384</th><td><i class="doc" data-doc="ixgbe_identify_qsfp_module_generic"> **/</i></td></tr>
<tr><th id="1385">1385</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_identify_qsfp_module_generic" title='ixgbe_identify_qsfp_module_generic' data-type='s32 ixgbe_identify_qsfp_module_generic(struct ixgbe_hw * hw)' data-ref="ixgbe_identify_qsfp_module_generic">ixgbe_identify_qsfp_module_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col7 decl" id="157hw" title='hw' data-type='struct ixgbe_hw *' data-ref="157hw">hw</dfn>)</td></tr>
<tr><th id="1386">1386</th><td>{</td></tr>
<tr><th id="1387">1387</th><td>	<b>struct</b> <a class="type" href="ixgbe.h.html#ixgbe_adapter" title='ixgbe_adapter' data-ref="ixgbe_adapter">ixgbe_adapter</a> *<dfn class="local col8 decl" id="158adapter" title='adapter' data-type='struct ixgbe_adapter *' data-ref="158adapter">adapter</dfn> = <a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::back" title='ixgbe_hw::back' data-ref="ixgbe_hw::back">back</a>;</td></tr>
<tr><th id="1388">1388</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col9 decl" id="159status" title='status' data-type='s32' data-ref="159status">status</dfn>;</td></tr>
<tr><th id="1389">1389</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col0 decl" id="160vendor_oui" title='vendor_oui' data-type='u32' data-ref="160vendor_oui">vendor_oui</dfn> = <var>0</var>;</td></tr>
<tr><th id="1390">1390</th><td>	<b>enum</b> <a class="type" href="ixgbe_type.h.html#ixgbe_sfp_type" title='ixgbe_sfp_type' data-ref="ixgbe_sfp_type">ixgbe_sfp_type</a> <dfn class="local col1 decl" id="161stored_sfp_type" title='stored_sfp_type' data-type='enum ixgbe_sfp_type' data-ref="161stored_sfp_type">stored_sfp_type</dfn> = <a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a>;</td></tr>
<tr><th id="1391">1391</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col2 decl" id="162identifier" title='identifier' data-type='u8' data-ref="162identifier">identifier</dfn> = <var>0</var>;</td></tr>
<tr><th id="1392">1392</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col3 decl" id="163comp_codes_1g" title='comp_codes_1g' data-type='u8' data-ref="163comp_codes_1g">comp_codes_1g</dfn> = <var>0</var>;</td></tr>
<tr><th id="1393">1393</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col4 decl" id="164comp_codes_10g" title='comp_codes_10g' data-type='u8' data-ref="164comp_codes_10g">comp_codes_10g</dfn> = <var>0</var>;</td></tr>
<tr><th id="1394">1394</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col5 decl" id="165oui_bytes" title='oui_bytes' data-type='u8 [3]' data-ref="165oui_bytes">oui_bytes</dfn>[<var>3</var>] = {<var>0</var>, <var>0</var>, <var>0</var>};</td></tr>
<tr><th id="1395">1395</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col6 decl" id="166enforce_sfp" title='enforce_sfp' data-type='u16' data-ref="166enforce_sfp">enforce_sfp</dfn> = <var>0</var>;</td></tr>
<tr><th id="1396">1396</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col7 decl" id="167connector" title='connector' data-type='u8' data-ref="167connector">connector</dfn> = <var>0</var>;</td></tr>
<tr><th id="1397">1397</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col8 decl" id="168cable_length" title='cable_length' data-type='u8' data-ref="168cable_length">cable_length</dfn> = <var>0</var>;</td></tr>
<tr><th id="1398">1398</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col9 decl" id="169device_tech" title='device_tech' data-type='u8' data-ref="169device_tech">device_tech</dfn> = <var>0</var>;</td></tr>
<tr><th id="1399">1399</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col0 decl" id="170active_cable" title='active_cable' data-type='bool' data-ref="170active_cable">active_cable</dfn> = <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="1400">1400</th><td></td></tr>
<tr><th id="1401">1401</th><td>	<b>if</b> (<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::get_media_type" title='ixgbe_mac_operations::get_media_type' data-ref="ixgbe_mac_operations::get_media_type">get_media_type</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>) != <a class="enum" href="ixgbe_type.h.html#ixgbe_media_type_fiber_qsfp" title='ixgbe_media_type_fiber_qsfp' data-ref="ixgbe_media_type_fiber_qsfp">ixgbe_media_type_fiber_qsfp</a>) {</td></tr>
<tr><th id="1402">1402</th><td>		<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_not_present" title='ixgbe_sfp_type_not_present' data-ref="ixgbe_sfp_type_not_present">ixgbe_sfp_type_not_present</a>;</td></tr>
<tr><th id="1403">1403</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3662" title="-20" data-ref="_M/IXGBE_ERR_SFP_NOT_PRESENT">IXGBE_ERR_SFP_NOT_PRESENT</a>;</td></tr>
<tr><th id="1404">1404</th><td>	}</td></tr>
<tr><th id="1405">1405</th><td></td></tr>
<tr><th id="1406">1406</th><td>	<i>/* LAN ID is needed for sfp_type determination */</i></td></tr>
<tr><th id="1407">1407</th><td>	<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::set_lan_id" title='ixgbe_mac_operations::set_lan_id' data-ref="ixgbe_mac_operations::set_lan_id">set_lan_id</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>);</td></tr>
<tr><th id="1408">1408</th><td></td></tr>
<tr><th id="1409">1409</th><td>	<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> = <a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>, <a class="macro" href="ixgbe_phy.h.html#37" title="0x0" data-ref="_M/IXGBE_SFF_IDENTIFIER">IXGBE_SFF_IDENTIFIER</a>,</td></tr>
<tr><th id="1410">1410</th><td>					     &amp;<a class="local col2 ref" href="#162identifier" title='identifier' data-ref="162identifier">identifier</a>);</td></tr>
<tr><th id="1411">1411</th><td></td></tr>
<tr><th id="1412">1412</th><td>	<b>if</b> (<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1413">1413</th><td>		<b>goto</b> <a class="lbl" href="#171err_read_i2c_eeprom" data-ref="171err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1414">1414</th><td></td></tr>
<tr><th id="1415">1415</th><td>	<b>if</b> (<a class="local col2 ref" href="#162identifier" title='identifier' data-ref="162identifier">identifier</a> != <a class="macro" href="ixgbe_phy.h.html#50" title="0xD" data-ref="_M/IXGBE_SFF_IDENTIFIER_QSFP_PLUS">IXGBE_SFF_IDENTIFIER_QSFP_PLUS</a>) {</td></tr>
<tr><th id="1416">1416</th><td>		<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_unsupported" title='ixgbe_phy_sfp_unsupported' data-ref="ixgbe_phy_sfp_unsupported">ixgbe_phy_sfp_unsupported</a>;</td></tr>
<tr><th id="1417">1417</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3661" title="-19" data-ref="_M/IXGBE_ERR_SFP_NOT_SUPPORTED">IXGBE_ERR_SFP_NOT_SUPPORTED</a>;</td></tr>
<tr><th id="1418">1418</th><td>	}</td></tr>
<tr><th id="1419">1419</th><td></td></tr>
<tr><th id="1420">1420</th><td>	<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::id" title='ixgbe_phy_info::id' data-ref="ixgbe_phy_info::id">id</a> = <a class="local col2 ref" href="#162identifier" title='identifier' data-ref="162identifier">identifier</a>;</td></tr>
<tr><th id="1421">1421</th><td></td></tr>
<tr><th id="1422">1422</th><td>	<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> = <a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>, <a class="macro" href="ixgbe_phy.h.html#55" title="0x83" data-ref="_M/IXGBE_SFF_QSFP_10GBE_COMP">IXGBE_SFF_QSFP_10GBE_COMP</a>,</td></tr>
<tr><th id="1423">1423</th><td>					     &amp;<a class="local col4 ref" href="#164comp_codes_10g" title='comp_codes_10g' data-ref="164comp_codes_10g">comp_codes_10g</a>);</td></tr>
<tr><th id="1424">1424</th><td></td></tr>
<tr><th id="1425">1425</th><td>	<b>if</b> (<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1426">1426</th><td>		<b>goto</b> <a class="lbl" href="#171err_read_i2c_eeprom" data-ref="171err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1427">1427</th><td></td></tr>
<tr><th id="1428">1428</th><td>	<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> = <a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>, <a class="macro" href="ixgbe_phy.h.html#56" title="0x86" data-ref="_M/IXGBE_SFF_QSFP_1GBE_COMP">IXGBE_SFF_QSFP_1GBE_COMP</a>,</td></tr>
<tr><th id="1429">1429</th><td>					     &amp;<a class="local col3 ref" href="#163comp_codes_1g" title='comp_codes_1g' data-ref="163comp_codes_1g">comp_codes_1g</a>);</td></tr>
<tr><th id="1430">1430</th><td></td></tr>
<tr><th id="1431">1431</th><td>	<b>if</b> (<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1432">1432</th><td>		<b>goto</b> <a class="lbl" href="#171err_read_i2c_eeprom" data-ref="171err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1433">1433</th><td></td></tr>
<tr><th id="1434">1434</th><td>	<b>if</b> (<a class="local col4 ref" href="#164comp_codes_10g" title='comp_codes_10g' data-ref="164comp_codes_10g">comp_codes_10g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#74" title="0x8" data-ref="_M/IXGBE_SFF_QSFP_DA_PASSIVE_CABLE">IXGBE_SFF_QSFP_DA_PASSIVE_CABLE</a>) {</td></tr>
<tr><th id="1435">1435</th><td>		<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_qsfp_passive_unknown" title='ixgbe_phy_qsfp_passive_unknown' data-ref="ixgbe_phy_qsfp_passive_unknown">ixgbe_phy_qsfp_passive_unknown</a>;</td></tr>
<tr><th id="1436">1436</th><td>		<b>if</b> (<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::bus" title='ixgbe_hw::bus' data-ref="ixgbe_hw::bus">bus</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_bus_info::lan_id" title='ixgbe_bus_info::lan_id' data-ref="ixgbe_bus_info::lan_id">lan_id</a> == <var>0</var>)</td></tr>
<tr><th id="1437">1437</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_cu_core0" title='ixgbe_sfp_type_da_cu_core0' data-ref="ixgbe_sfp_type_da_cu_core0">ixgbe_sfp_type_da_cu_core0</a>;</td></tr>
<tr><th id="1438">1438</th><td>		<b>else</b></td></tr>
<tr><th id="1439">1439</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_cu_core1" title='ixgbe_sfp_type_da_cu_core1' data-ref="ixgbe_sfp_type_da_cu_core1">ixgbe_sfp_type_da_cu_core1</a>;</td></tr>
<tr><th id="1440">1440</th><td>	} <b>else</b> <b>if</b> (<a class="local col4 ref" href="#164comp_codes_10g" title='comp_codes_10g' data-ref="164comp_codes_10g">comp_codes_10g</a> &amp; (<a class="macro" href="ixgbe_phy.h.html#67" title="0x10" data-ref="_M/IXGBE_SFF_10GBASESR_CAPABLE">IXGBE_SFF_10GBASESR_CAPABLE</a> |</td></tr>
<tr><th id="1441">1441</th><td>				     <a class="macro" href="ixgbe_phy.h.html#68" title="0x20" data-ref="_M/IXGBE_SFF_10GBASELR_CAPABLE">IXGBE_SFF_10GBASELR_CAPABLE</a>)) {</td></tr>
<tr><th id="1442">1442</th><td>		<b>if</b> (<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::bus" title='ixgbe_hw::bus' data-ref="ixgbe_hw::bus">bus</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_bus_info::lan_id" title='ixgbe_bus_info::lan_id' data-ref="ixgbe_bus_info::lan_id">lan_id</a> == <var>0</var>)</td></tr>
<tr><th id="1443">1443</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_srlr_core0" title='ixgbe_sfp_type_srlr_core0' data-ref="ixgbe_sfp_type_srlr_core0">ixgbe_sfp_type_srlr_core0</a>;</td></tr>
<tr><th id="1444">1444</th><td>		<b>else</b></td></tr>
<tr><th id="1445">1445</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_srlr_core1" title='ixgbe_sfp_type_srlr_core1' data-ref="ixgbe_sfp_type_srlr_core1">ixgbe_sfp_type_srlr_core1</a>;</td></tr>
<tr><th id="1446">1446</th><td>	} <b>else</b> {</td></tr>
<tr><th id="1447">1447</th><td>		<b>if</b> (<a class="local col4 ref" href="#164comp_codes_10g" title='comp_codes_10g' data-ref="164comp_codes_10g">comp_codes_10g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#73" title="0x1" data-ref="_M/IXGBE_SFF_QSFP_DA_ACTIVE_CABLE">IXGBE_SFF_QSFP_DA_ACTIVE_CABLE</a>)</td></tr>
<tr><th id="1448">1448</th><td>			<a class="local col0 ref" href="#170active_cable" title='active_cable' data-ref="170active_cable">active_cable</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="1449">1449</th><td></td></tr>
<tr><th id="1450">1450</th><td>		<b>if</b> (!<a class="local col0 ref" href="#170active_cable" title='active_cable' data-ref="170active_cable">active_cable</a>) {</td></tr>
<tr><th id="1451">1451</th><td>			<i>/* check for active DA cables that pre-date</i></td></tr>
<tr><th id="1452">1452</th><td><i>			 * SFF-8436 v3.6</i></td></tr>
<tr><th id="1453">1453</th><td><i>			 */</i></td></tr>
<tr><th id="1454">1454</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>,</td></tr>
<tr><th id="1455">1455</th><td>					<a class="macro" href="ixgbe_phy.h.html#54" title="0x82" data-ref="_M/IXGBE_SFF_QSFP_CONNECTOR">IXGBE_SFF_QSFP_CONNECTOR</a>,</td></tr>
<tr><th id="1456">1456</th><td>					&amp;<a class="local col7 ref" href="#167connector" title='connector' data-ref="167connector">connector</a>);</td></tr>
<tr><th id="1457">1457</th><td></td></tr>
<tr><th id="1458">1458</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>,</td></tr>
<tr><th id="1459">1459</th><td>					<a class="macro" href="ixgbe_phy.h.html#57" title="0x92" data-ref="_M/IXGBE_SFF_QSFP_CABLE_LENGTH">IXGBE_SFF_QSFP_CABLE_LENGTH</a>,</td></tr>
<tr><th id="1460">1460</th><td>					&amp;<a class="local col8 ref" href="#168cable_length" title='cable_length' data-ref="168cable_length">cable_length</a>);</td></tr>
<tr><th id="1461">1461</th><td></td></tr>
<tr><th id="1462">1462</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>,</td></tr>
<tr><th id="1463">1463</th><td>					<a class="macro" href="ixgbe_phy.h.html#58" title="0x93" data-ref="_M/IXGBE_SFF_QSFP_DEVICE_TECH">IXGBE_SFF_QSFP_DEVICE_TECH</a>,</td></tr>
<tr><th id="1464">1464</th><td>					&amp;<a class="local col9 ref" href="#169device_tech" title='device_tech' data-ref="169device_tech">device_tech</a>);</td></tr>
<tr><th id="1465">1465</th><td></td></tr>
<tr><th id="1466">1466</th><td>			<b>if</b> ((<a class="local col7 ref" href="#167connector" title='connector' data-ref="167connector">connector</a> ==</td></tr>
<tr><th id="1467">1467</th><td>				     <a class="macro" href="ixgbe_phy.h.html#75" title="0x23" data-ref="_M/IXGBE_SFF_QSFP_CONNECTOR_NOT_SEPARABLE">IXGBE_SFF_QSFP_CONNECTOR_NOT_SEPARABLE</a>) &amp;&amp;</td></tr>
<tr><th id="1468">1468</th><td>			    (<a class="local col8 ref" href="#168cable_length" title='cable_length' data-ref="168cable_length">cable_length</a> &gt; <var>0</var>) &amp;&amp;</td></tr>
<tr><th id="1469">1469</th><td>			    ((<a class="local col9 ref" href="#169device_tech" title='device_tech' data-ref="169device_tech">device_tech</a> &gt;&gt; <var>4</var>) ==</td></tr>
<tr><th id="1470">1470</th><td>				     <a class="macro" href="ixgbe_phy.h.html#76" title="0x0" data-ref="_M/IXGBE_SFF_QSFP_TRANSMITER_850NM_VCSEL">IXGBE_SFF_QSFP_TRANSMITER_850NM_VCSEL</a>))</td></tr>
<tr><th id="1471">1471</th><td>				<a class="local col0 ref" href="#170active_cable" title='active_cable' data-ref="170active_cable">active_cable</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="1472">1472</th><td>		}</td></tr>
<tr><th id="1473">1473</th><td></td></tr>
<tr><th id="1474">1474</th><td>		<b>if</b> (<a class="local col0 ref" href="#170active_cable" title='active_cable' data-ref="170active_cable">active_cable</a>) {</td></tr>
<tr><th id="1475">1475</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_qsfp_active_unknown" title='ixgbe_phy_qsfp_active_unknown' data-ref="ixgbe_phy_qsfp_active_unknown">ixgbe_phy_qsfp_active_unknown</a>;</td></tr>
<tr><th id="1476">1476</th><td>			<b>if</b> (<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::bus" title='ixgbe_hw::bus' data-ref="ixgbe_hw::bus">bus</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_bus_info::lan_id" title='ixgbe_bus_info::lan_id' data-ref="ixgbe_bus_info::lan_id">lan_id</a> == <var>0</var>)</td></tr>
<tr><th id="1477">1477</th><td>				<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1478">1478</th><td>						<a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_act_lmt_core0" title='ixgbe_sfp_type_da_act_lmt_core0' data-ref="ixgbe_sfp_type_da_act_lmt_core0">ixgbe_sfp_type_da_act_lmt_core0</a>;</td></tr>
<tr><th id="1479">1479</th><td>			<b>else</b></td></tr>
<tr><th id="1480">1480</th><td>				<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> =</td></tr>
<tr><th id="1481">1481</th><td>						<a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_act_lmt_core1" title='ixgbe_sfp_type_da_act_lmt_core1' data-ref="ixgbe_sfp_type_da_act_lmt_core1">ixgbe_sfp_type_da_act_lmt_core1</a>;</td></tr>
<tr><th id="1482">1482</th><td>		} <b>else</b> {</td></tr>
<tr><th id="1483">1483</th><td>			<i>/* unsupported module type */</i></td></tr>
<tr><th id="1484">1484</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_unsupported" title='ixgbe_phy_sfp_unsupported' data-ref="ixgbe_phy_sfp_unsupported">ixgbe_phy_sfp_unsupported</a>;</td></tr>
<tr><th id="1485">1485</th><td>			<b>return</b> <a class="macro" href="ixgbe_type.h.html#3661" title="-19" data-ref="_M/IXGBE_ERR_SFP_NOT_SUPPORTED">IXGBE_ERR_SFP_NOT_SUPPORTED</a>;</td></tr>
<tr><th id="1486">1486</th><td>		}</td></tr>
<tr><th id="1487">1487</th><td>	}</td></tr>
<tr><th id="1488">1488</th><td></td></tr>
<tr><th id="1489">1489</th><td>	<b>if</b> (<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> != <a class="local col1 ref" href="#161stored_sfp_type" title='stored_sfp_type' data-ref="161stored_sfp_type">stored_sfp_type</a>)</td></tr>
<tr><th id="1490">1490</th><td>		<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_setup_needed" title='ixgbe_phy_info::sfp_setup_needed' data-ref="ixgbe_phy_info::sfp_setup_needed">sfp_setup_needed</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="1491">1491</th><td></td></tr>
<tr><th id="1492">1492</th><td>	<i>/* Determine if the QSFP+ PHY is dual speed or not. */</i></td></tr>
<tr><th id="1493">1493</th><td>	<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::multispeed_fiber" title='ixgbe_phy_info::multispeed_fiber' data-ref="ixgbe_phy_info::multispeed_fiber">multispeed_fiber</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="1494">1494</th><td>	<b>if</b> (((<a class="local col3 ref" href="#163comp_codes_1g" title='comp_codes_1g' data-ref="163comp_codes_1g">comp_codes_1g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#64" title="0x1" data-ref="_M/IXGBE_SFF_1GBASESX_CAPABLE">IXGBE_SFF_1GBASESX_CAPABLE</a>) &amp;&amp;</td></tr>
<tr><th id="1495">1495</th><td>	     (<a class="local col4 ref" href="#164comp_codes_10g" title='comp_codes_10g' data-ref="164comp_codes_10g">comp_codes_10g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#67" title="0x10" data-ref="_M/IXGBE_SFF_10GBASESR_CAPABLE">IXGBE_SFF_10GBASESR_CAPABLE</a>)) ||</td></tr>
<tr><th id="1496">1496</th><td>	    ((<a class="local col3 ref" href="#163comp_codes_1g" title='comp_codes_1g' data-ref="163comp_codes_1g">comp_codes_1g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#65" title="0x2" data-ref="_M/IXGBE_SFF_1GBASELX_CAPABLE">IXGBE_SFF_1GBASELX_CAPABLE</a>) &amp;&amp;</td></tr>
<tr><th id="1497">1497</th><td>	     (<a class="local col4 ref" href="#164comp_codes_10g" title='comp_codes_10g' data-ref="164comp_codes_10g">comp_codes_10g</a> &amp; <a class="macro" href="ixgbe_phy.h.html#68" title="0x20" data-ref="_M/IXGBE_SFF_10GBASELR_CAPABLE">IXGBE_SFF_10GBASELR_CAPABLE</a>)))</td></tr>
<tr><th id="1498">1498</th><td>		<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::multispeed_fiber" title='ixgbe_phy_info::multispeed_fiber' data-ref="ixgbe_phy_info::multispeed_fiber">multispeed_fiber</a> = <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="1499">1499</th><td></td></tr>
<tr><th id="1500">1500</th><td>	<i>/* Determine PHY vendor for optical modules */</i></td></tr>
<tr><th id="1501">1501</th><td>	<b>if</b> (<a class="local col4 ref" href="#164comp_codes_10g" title='comp_codes_10g' data-ref="164comp_codes_10g">comp_codes_10g</a> &amp; (<a class="macro" href="ixgbe_phy.h.html#67" title="0x10" data-ref="_M/IXGBE_SFF_10GBASESR_CAPABLE">IXGBE_SFF_10GBASESR_CAPABLE</a> |</td></tr>
<tr><th id="1502">1502</th><td>			      <a class="macro" href="ixgbe_phy.h.html#68" title="0x20" data-ref="_M/IXGBE_SFF_10GBASELR_CAPABLE">IXGBE_SFF_10GBASELR_CAPABLE</a>)) {</td></tr>
<tr><th id="1503">1503</th><td>		<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> = <a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>,</td></tr>
<tr><th id="1504">1504</th><td>					<a class="macro" href="ixgbe_phy.h.html#51" title="0xA5" data-ref="_M/IXGBE_SFF_QSFP_VENDOR_OUI_BYTE0">IXGBE_SFF_QSFP_VENDOR_OUI_BYTE0</a>,</td></tr>
<tr><th id="1505">1505</th><td>					&amp;<a class="local col5 ref" href="#165oui_bytes" title='oui_bytes' data-ref="165oui_bytes">oui_bytes</a>[<var>0</var>]);</td></tr>
<tr><th id="1506">1506</th><td></td></tr>
<tr><th id="1507">1507</th><td>		<b>if</b> (<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1508">1508</th><td>			<b>goto</b> <a class="lbl" href="#171err_read_i2c_eeprom" data-ref="171err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1509">1509</th><td></td></tr>
<tr><th id="1510">1510</th><td>		<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> = <a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>,</td></tr>
<tr><th id="1511">1511</th><td>					<a class="macro" href="ixgbe_phy.h.html#52" title="0xA6" data-ref="_M/IXGBE_SFF_QSFP_VENDOR_OUI_BYTE1">IXGBE_SFF_QSFP_VENDOR_OUI_BYTE1</a>,</td></tr>
<tr><th id="1512">1512</th><td>					&amp;<a class="local col5 ref" href="#165oui_bytes" title='oui_bytes' data-ref="165oui_bytes">oui_bytes</a>[<var>1</var>]);</td></tr>
<tr><th id="1513">1513</th><td></td></tr>
<tr><th id="1514">1514</th><td>		<b>if</b> (<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1515">1515</th><td>			<b>goto</b> <a class="lbl" href="#171err_read_i2c_eeprom" data-ref="171err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1516">1516</th><td></td></tr>
<tr><th id="1517">1517</th><td>		<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> = <a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_eeprom" title='ixgbe_phy_operations::read_i2c_eeprom' data-ref="ixgbe_phy_operations::read_i2c_eeprom">read_i2c_eeprom</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>,</td></tr>
<tr><th id="1518">1518</th><td>					<a class="macro" href="ixgbe_phy.h.html#53" title="0xA7" data-ref="_M/IXGBE_SFF_QSFP_VENDOR_OUI_BYTE2">IXGBE_SFF_QSFP_VENDOR_OUI_BYTE2</a>,</td></tr>
<tr><th id="1519">1519</th><td>					&amp;<a class="local col5 ref" href="#165oui_bytes" title='oui_bytes' data-ref="165oui_bytes">oui_bytes</a>[<var>2</var>]);</td></tr>
<tr><th id="1520">1520</th><td></td></tr>
<tr><th id="1521">1521</th><td>		<b>if</b> (<a class="local col9 ref" href="#159status" title='status' data-ref="159status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1522">1522</th><td>			<b>goto</b> <a class="lbl" href="#171err_read_i2c_eeprom" data-ref="171err_read_i2c_eeprom">err_read_i2c_eeprom</a>;</td></tr>
<tr><th id="1523">1523</th><td></td></tr>
<tr><th id="1524">1524</th><td>		<a class="local col0 ref" href="#160vendor_oui" title='vendor_oui' data-ref="160vendor_oui">vendor_oui</a> =</td></tr>
<tr><th id="1525">1525</th><td>			((<a class="local col5 ref" href="#165oui_bytes" title='oui_bytes' data-ref="165oui_bytes">oui_bytes</a>[<var>0</var>] &lt;&lt; <a class="macro" href="ixgbe_phy.h.html#118" title="24" data-ref="_M/IXGBE_SFF_VENDOR_OUI_BYTE0_SHIFT">IXGBE_SFF_VENDOR_OUI_BYTE0_SHIFT</a>) |</td></tr>
<tr><th id="1526">1526</th><td>			 (<a class="local col5 ref" href="#165oui_bytes" title='oui_bytes' data-ref="165oui_bytes">oui_bytes</a>[<var>1</var>] &lt;&lt; <a class="macro" href="ixgbe_phy.h.html#119" title="16" data-ref="_M/IXGBE_SFF_VENDOR_OUI_BYTE1_SHIFT">IXGBE_SFF_VENDOR_OUI_BYTE1_SHIFT</a>) |</td></tr>
<tr><th id="1527">1527</th><td>			 (<a class="local col5 ref" href="#165oui_bytes" title='oui_bytes' data-ref="165oui_bytes">oui_bytes</a>[<var>2</var>] &lt;&lt; <a class="macro" href="ixgbe_phy.h.html#120" title="8" data-ref="_M/IXGBE_SFF_VENDOR_OUI_BYTE2_SHIFT">IXGBE_SFF_VENDOR_OUI_BYTE2_SHIFT</a>));</td></tr>
<tr><th id="1528">1528</th><td></td></tr>
<tr><th id="1529">1529</th><td>		<b>if</b> (<a class="local col0 ref" href="#160vendor_oui" title='vendor_oui' data-ref="160vendor_oui">vendor_oui</a> == <a class="macro" href="ixgbe_phy.h.html#126" title="0x001B2100" data-ref="_M/IXGBE_SFF_VENDOR_OUI_INTEL">IXGBE_SFF_VENDOR_OUI_INTEL</a>)</td></tr>
<tr><th id="1530">1530</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_qsfp_intel" title='ixgbe_phy_qsfp_intel' data-ref="ixgbe_phy_qsfp_intel">ixgbe_phy_qsfp_intel</a>;</td></tr>
<tr><th id="1531">1531</th><td>		<b>else</b></td></tr>
<tr><th id="1532">1532</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_qsfp_unknown" title='ixgbe_phy_qsfp_unknown' data-ref="ixgbe_phy_qsfp_unknown">ixgbe_phy_qsfp_unknown</a>;</td></tr>
<tr><th id="1533">1533</th><td></td></tr>
<tr><th id="1534">1534</th><td>		<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::get_device_caps" title='ixgbe_mac_operations::get_device_caps' data-ref="ixgbe_mac_operations::get_device_caps">get_device_caps</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>, &amp;<a class="local col6 ref" href="#166enforce_sfp" title='enforce_sfp' data-ref="166enforce_sfp">enforce_sfp</a>);</td></tr>
<tr><th id="1535">1535</th><td>		<b>if</b> (!(<a class="local col6 ref" href="#166enforce_sfp" title='enforce_sfp' data-ref="166enforce_sfp">enforce_sfp</a> &amp; <a class="macro" href="ixgbe_type.h.html#2120" title="0x1" data-ref="_M/IXGBE_DEVICE_CAPS_ALLOW_ANY_SFP">IXGBE_DEVICE_CAPS_ALLOW_ANY_SFP</a>)) {</td></tr>
<tr><th id="1536">1536</th><td>			<i>/* Make sure we're a supported PHY type */</i></td></tr>
<tr><th id="1537">1537</th><td>			<b>if</b> (<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_qsfp_intel" title='ixgbe_phy_qsfp_intel' data-ref="ixgbe_phy_qsfp_intel">ixgbe_phy_qsfp_intel</a>)</td></tr>
<tr><th id="1538">1538</th><td>				<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1539">1539</th><td>			<b>if</b> (<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::allow_unsupported_sfp" title='ixgbe_hw::allow_unsupported_sfp' data-ref="ixgbe_hw::allow_unsupported_sfp">allow_unsupported_sfp</a>) {</td></tr>
<tr><th id="1540">1540</th><td>				<a class="macro" href="ixgbe_common.h.html#220" title="do { if (((adapter)-&gt;msg_enable &amp; NETIF_MSG_DRV)) netdev_warn(adapter-&gt;netdev, &quot;WARNING: Intel (R) Network Connections are quality tested using Intel (R) Ethernet Optics. Using untested modules is not supported and may cause unstable operation or damage to the module or the adapter. Intel Corporation is not responsible for any harm caused by using untested modules.\n&quot;); } while (0)" data-ref="_M/e_warn">e_warn</a>(drv, <q>"WARNING: Intel (R) Network Connections are quality tested using Intel (R) Ethernet Optics. Using untested modules is not supported and may cause unstable operation or damage to the module or the adapter. Intel Corporation is not responsible for any harm caused by using untested modules.\n"</q>);</td></tr>
<tr><th id="1541">1541</th><td>				<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1542">1542</th><td>			}</td></tr>
<tr><th id="1543">1543</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;QSFP module not supported\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>, <q>"QSFP module not supported\n"</q>);</td></tr>
<tr><th id="1544">1544</th><td>			<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_sfp_unsupported" title='ixgbe_phy_sfp_unsupported' data-ref="ixgbe_phy_sfp_unsupported">ixgbe_phy_sfp_unsupported</a>;</td></tr>
<tr><th id="1545">1545</th><td>			<b>return</b> <a class="macro" href="ixgbe_type.h.html#3661" title="-19" data-ref="_M/IXGBE_ERR_SFP_NOT_SUPPORTED">IXGBE_ERR_SFP_NOT_SUPPORTED</a>;</td></tr>
<tr><th id="1546">1546</th><td>		}</td></tr>
<tr><th id="1547">1547</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1548">1548</th><td>	}</td></tr>
<tr><th id="1549">1549</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1550">1550</th><td></td></tr>
<tr><th id="1551">1551</th><td><dfn class="lbl" id="171err_read_i2c_eeprom" data-ref="171err_read_i2c_eeprom">err_read_i2c_eeprom</dfn>:</td></tr>
<tr><th id="1552">1552</th><td>	<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_not_present" title='ixgbe_sfp_type_not_present' data-ref="ixgbe_sfp_type_not_present">ixgbe_sfp_type_not_present</a>;</td></tr>
<tr><th id="1553">1553</th><td>	<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::id" title='ixgbe_phy_info::id' data-ref="ixgbe_phy_info::id">id</a> = <var>0</var>;</td></tr>
<tr><th id="1554">1554</th><td>	<a class="local col7 ref" href="#157hw" title='hw' data-ref="157hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::type" title='ixgbe_phy_info::type' data-ref="ixgbe_phy_info::type">type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_phy_unknown" title='ixgbe_phy_unknown' data-ref="ixgbe_phy_unknown">ixgbe_phy_unknown</a>;</td></tr>
<tr><th id="1555">1555</th><td></td></tr>
<tr><th id="1556">1556</th><td>	<b>return</b> <a class="macro" href="ixgbe_type.h.html#3662" title="-20" data-ref="_M/IXGBE_ERR_SFP_NOT_PRESENT">IXGBE_ERR_SFP_NOT_PRESENT</a>;</td></tr>
<tr><th id="1557">1557</th><td>}</td></tr>
<tr><th id="1558">1558</th><td></td></tr>
<tr><th id="1559">1559</th><td><i class="doc">/**</i></td></tr>
<tr><th id="1560">1560</th><td><i class="doc"> *  ixgbe_get_sfp_init_sequence_offsets - Provides offset of PHY init sequence</i></td></tr>
<tr><th id="1561">1561</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1562">1562</th><td><i class="doc"> * <span class="command"> @list</span>_offset: offset to the SFP ID list</i></td></tr>
<tr><th id="1563">1563</th><td><i class="doc"> *  <span class="command">@data</span>_offset: offset to the SFP data block</i></td></tr>
<tr><th id="1564">1564</th><td><i class="doc"> *</i></td></tr>
<tr><th id="1565">1565</th><td><i class="doc"> *  Checks the MAC's EEPROM to see if it supports a given SFP+ module type, if</i></td></tr>
<tr><th id="1566">1566</th><td><i class="doc"> *  so it returns the offsets to the phy init sequence block.</i></td></tr>
<tr><th id="1567">1567</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="1568">1568</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_get_sfp_init_sequence_offsets" title='ixgbe_get_sfp_init_sequence_offsets' data-ref="ixgbe_get_sfp_init_sequence_offsets">ixgbe_get_sfp_init_sequence_offsets</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col2 decl" id="172hw" title='hw' data-type='struct ixgbe_hw *' data-ref="172hw">hw</dfn>,</td></tr>
<tr><th id="1569">1569</th><td>					<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> *<dfn class="local col3 decl" id="173list_offset" title='list_offset' data-type='u16 *' data-ref="173list_offset">list_offset</dfn>,</td></tr>
<tr><th id="1570">1570</th><td>					<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> *<dfn class="local col4 decl" id="174data_offset" title='data_offset' data-type='u16 *' data-ref="174data_offset">data_offset</dfn>)</td></tr>
<tr><th id="1571">1571</th><td>{</td></tr>
<tr><th id="1572">1572</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col5 decl" id="175sfp_id" title='sfp_id' data-type='u16' data-ref="175sfp_id">sfp_id</dfn>;</td></tr>
<tr><th id="1573">1573</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col6 decl" id="176sfp_type" title='sfp_type' data-type='u16' data-ref="176sfp_type">sfp_type</dfn> = <a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a>;</td></tr>
<tr><th id="1574">1574</th><td></td></tr>
<tr><th id="1575">1575</th><td>	<b>if</b> (<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_unknown" title='ixgbe_sfp_type_unknown' data-ref="ixgbe_sfp_type_unknown">ixgbe_sfp_type_unknown</a>)</td></tr>
<tr><th id="1576">1576</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3661" title="-19" data-ref="_M/IXGBE_ERR_SFP_NOT_SUPPORTED">IXGBE_ERR_SFP_NOT_SUPPORTED</a>;</td></tr>
<tr><th id="1577">1577</th><td></td></tr>
<tr><th id="1578">1578</th><td>	<b>if</b> (<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_not_present" title='ixgbe_sfp_type_not_present' data-ref="ixgbe_sfp_type_not_present">ixgbe_sfp_type_not_present</a>)</td></tr>
<tr><th id="1579">1579</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3662" title="-20" data-ref="_M/IXGBE_ERR_SFP_NOT_PRESENT">IXGBE_ERR_SFP_NOT_PRESENT</a>;</td></tr>
<tr><th id="1580">1580</th><td></td></tr>
<tr><th id="1581">1581</th><td>	<b>if</b> ((<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::device_id" title='ixgbe_hw::device_id' data-ref="ixgbe_hw::device_id">device_id</a> == <a class="macro" href="ixgbe_type.h.html#47" title="0x10E1" data-ref="_M/IXGBE_DEV_ID_82598_SR_DUAL_PORT_EM">IXGBE_DEV_ID_82598_SR_DUAL_PORT_EM</a>) &amp;&amp;</td></tr>
<tr><th id="1582">1582</th><td>	    (<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_cu" title='ixgbe_sfp_type_da_cu' data-ref="ixgbe_sfp_type_da_cu">ixgbe_sfp_type_da_cu</a>))</td></tr>
<tr><th id="1583">1583</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3661" title="-19" data-ref="_M/IXGBE_ERR_SFP_NOT_SUPPORTED">IXGBE_ERR_SFP_NOT_SUPPORTED</a>;</td></tr>
<tr><th id="1584">1584</th><td></td></tr>
<tr><th id="1585">1585</th><td>	<i>/*</i></td></tr>
<tr><th id="1586">1586</th><td><i>	 * Limiting active cables and 1G Phys must be initialized as</i></td></tr>
<tr><th id="1587">1587</th><td><i>	 * SR modules</i></td></tr>
<tr><th id="1588">1588</th><td><i>	 */</i></td></tr>
<tr><th id="1589">1589</th><td>	<b>if</b> (<a class="local col6 ref" href="#176sfp_type" title='sfp_type' data-ref="176sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_act_lmt_core0" title='ixgbe_sfp_type_da_act_lmt_core0' data-ref="ixgbe_sfp_type_da_act_lmt_core0">ixgbe_sfp_type_da_act_lmt_core0</a> ||</td></tr>
<tr><th id="1590">1590</th><td>	    <a class="local col6 ref" href="#176sfp_type" title='sfp_type' data-ref="176sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_lx_core0" title='ixgbe_sfp_type_1g_lx_core0' data-ref="ixgbe_sfp_type_1g_lx_core0">ixgbe_sfp_type_1g_lx_core0</a> ||</td></tr>
<tr><th id="1591">1591</th><td>	    <a class="local col6 ref" href="#176sfp_type" title='sfp_type' data-ref="176sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_cu_core0" title='ixgbe_sfp_type_1g_cu_core0' data-ref="ixgbe_sfp_type_1g_cu_core0">ixgbe_sfp_type_1g_cu_core0</a> ||</td></tr>
<tr><th id="1592">1592</th><td>	    <a class="local col6 ref" href="#176sfp_type" title='sfp_type' data-ref="176sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_sx_core0" title='ixgbe_sfp_type_1g_sx_core0' data-ref="ixgbe_sfp_type_1g_sx_core0">ixgbe_sfp_type_1g_sx_core0</a>)</td></tr>
<tr><th id="1593">1593</th><td>		<a class="local col6 ref" href="#176sfp_type" title='sfp_type' data-ref="176sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_srlr_core0" title='ixgbe_sfp_type_srlr_core0' data-ref="ixgbe_sfp_type_srlr_core0">ixgbe_sfp_type_srlr_core0</a>;</td></tr>
<tr><th id="1594">1594</th><td>	<b>else</b> <b>if</b> (<a class="local col6 ref" href="#176sfp_type" title='sfp_type' data-ref="176sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_da_act_lmt_core1" title='ixgbe_sfp_type_da_act_lmt_core1' data-ref="ixgbe_sfp_type_da_act_lmt_core1">ixgbe_sfp_type_da_act_lmt_core1</a> ||</td></tr>
<tr><th id="1595">1595</th><td>		 <a class="local col6 ref" href="#176sfp_type" title='sfp_type' data-ref="176sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_lx_core1" title='ixgbe_sfp_type_1g_lx_core1' data-ref="ixgbe_sfp_type_1g_lx_core1">ixgbe_sfp_type_1g_lx_core1</a> ||</td></tr>
<tr><th id="1596">1596</th><td>		 <a class="local col6 ref" href="#176sfp_type" title='sfp_type' data-ref="176sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_cu_core1" title='ixgbe_sfp_type_1g_cu_core1' data-ref="ixgbe_sfp_type_1g_cu_core1">ixgbe_sfp_type_1g_cu_core1</a> ||</td></tr>
<tr><th id="1597">1597</th><td>		 <a class="local col6 ref" href="#176sfp_type" title='sfp_type' data-ref="176sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_1g_sx_core1" title='ixgbe_sfp_type_1g_sx_core1' data-ref="ixgbe_sfp_type_1g_sx_core1">ixgbe_sfp_type_1g_sx_core1</a>)</td></tr>
<tr><th id="1598">1598</th><td>		<a class="local col6 ref" href="#176sfp_type" title='sfp_type' data-ref="176sfp_type">sfp_type</a> = <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_srlr_core1" title='ixgbe_sfp_type_srlr_core1' data-ref="ixgbe_sfp_type_srlr_core1">ixgbe_sfp_type_srlr_core1</a>;</td></tr>
<tr><th id="1599">1599</th><td></td></tr>
<tr><th id="1600">1600</th><td>	<i>/* Read offset to PHY init contents */</i></td></tr>
<tr><th id="1601">1601</th><td>	<b>if</b> (<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::eeprom" title='ixgbe_hw::eeprom' data-ref="ixgbe_hw::eeprom">eeprom</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_info::ops" title='ixgbe_eeprom_info::ops' data-ref="ixgbe_eeprom_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_operations::read" title='ixgbe_eeprom_operations::read' data-ref="ixgbe_eeprom_operations::read">read</a>(<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#1392" title="0x002B" data-ref="_M/IXGBE_PHY_INIT_OFFSET_NL">IXGBE_PHY_INIT_OFFSET_NL</a>, <a class="local col3 ref" href="#173list_offset" title='list_offset' data-ref="173list_offset">list_offset</a>)) {</td></tr>
<tr><th id="1602">1602</th><td>		<a class="macro" href="ixgbe_common.h.html#206" title="netdev_err((((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;eeprom read at %d failed\n&quot;, 0x002B)" data-ref="_M/hw_err">hw_err</a>(<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>, <q>"eeprom read at %d failed\n"</q>,</td></tr>
<tr><th id="1603">1603</th><td>		       IXGBE_PHY_INIT_OFFSET_NL);</td></tr>
<tr><th id="1604">1604</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3663" title="-21" data-ref="_M/IXGBE_ERR_SFP_NO_INIT_SEQ_PRESENT">IXGBE_ERR_SFP_NO_INIT_SEQ_PRESENT</a>;</td></tr>
<tr><th id="1605">1605</th><td>	}</td></tr>
<tr><th id="1606">1606</th><td></td></tr>
<tr><th id="1607">1607</th><td>	<b>if</b> ((!*<a class="local col3 ref" href="#173list_offset" title='list_offset' data-ref="173list_offset">list_offset</a>) || (*<a class="local col3 ref" href="#173list_offset" title='list_offset' data-ref="173list_offset">list_offset</a> == <var>0xFFFF</var>))</td></tr>
<tr><th id="1608">1608</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3663" title="-21" data-ref="_M/IXGBE_ERR_SFP_NO_INIT_SEQ_PRESENT">IXGBE_ERR_SFP_NO_INIT_SEQ_PRESENT</a>;</td></tr>
<tr><th id="1609">1609</th><td></td></tr>
<tr><th id="1610">1610</th><td>	<i>/* Shift offset to first ID word */</i></td></tr>
<tr><th id="1611">1611</th><td>	(*<a class="local col3 ref" href="#173list_offset" title='list_offset' data-ref="173list_offset">list_offset</a>)++;</td></tr>
<tr><th id="1612">1612</th><td></td></tr>
<tr><th id="1613">1613</th><td>	<i>/*</i></td></tr>
<tr><th id="1614">1614</th><td><i>	 * Find the matching SFP ID in the EEPROM</i></td></tr>
<tr><th id="1615">1615</th><td><i>	 * and program the init sequence</i></td></tr>
<tr><th id="1616">1616</th><td><i>	 */</i></td></tr>
<tr><th id="1617">1617</th><td>	<b>if</b> (<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::eeprom" title='ixgbe_hw::eeprom' data-ref="ixgbe_hw::eeprom">eeprom</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_info::ops" title='ixgbe_eeprom_info::ops' data-ref="ixgbe_eeprom_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_operations::read" title='ixgbe_eeprom_operations::read' data-ref="ixgbe_eeprom_operations::read">read</a>(<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>, *<a class="local col3 ref" href="#173list_offset" title='list_offset' data-ref="173list_offset">list_offset</a>, &amp;<a class="local col5 ref" href="#175sfp_id" title='sfp_id' data-ref="175sfp_id">sfp_id</a>))</td></tr>
<tr><th id="1618">1618</th><td>		<b>goto</b> <a class="lbl" href="#177err_phy" data-ref="177err_phy">err_phy</a>;</td></tr>
<tr><th id="1619">1619</th><td></td></tr>
<tr><th id="1620">1620</th><td>	<b>while</b> (<a class="local col5 ref" href="#175sfp_id" title='sfp_id' data-ref="175sfp_id">sfp_id</a> != <a class="macro" href="ixgbe_type.h.html#1393" title="0xFFFF" data-ref="_M/IXGBE_PHY_INIT_END_NL">IXGBE_PHY_INIT_END_NL</a>) {</td></tr>
<tr><th id="1621">1621</th><td>		<b>if</b> (<a class="local col5 ref" href="#175sfp_id" title='sfp_id' data-ref="175sfp_id">sfp_id</a> == <a class="local col6 ref" href="#176sfp_type" title='sfp_type' data-ref="176sfp_type">sfp_type</a>) {</td></tr>
<tr><th id="1622">1622</th><td>			(*<a class="local col3 ref" href="#173list_offset" title='list_offset' data-ref="173list_offset">list_offset</a>)++;</td></tr>
<tr><th id="1623">1623</th><td>			<b>if</b> (<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::eeprom" title='ixgbe_hw::eeprom' data-ref="ixgbe_hw::eeprom">eeprom</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_info::ops" title='ixgbe_eeprom_info::ops' data-ref="ixgbe_eeprom_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_operations::read" title='ixgbe_eeprom_operations::read' data-ref="ixgbe_eeprom_operations::read">read</a>(<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>, *<a class="local col3 ref" href="#173list_offset" title='list_offset' data-ref="173list_offset">list_offset</a>, <a class="local col4 ref" href="#174data_offset" title='data_offset' data-ref="174data_offset">data_offset</a>))</td></tr>
<tr><th id="1624">1624</th><td>				<b>goto</b> <a class="lbl" href="#177err_phy" data-ref="177err_phy">err_phy</a>;</td></tr>
<tr><th id="1625">1625</th><td>			<b>if</b> ((!*<a class="local col4 ref" href="#174data_offset" title='data_offset' data-ref="174data_offset">data_offset</a>) || (*<a class="local col4 ref" href="#174data_offset" title='data_offset' data-ref="174data_offset">data_offset</a> == <var>0xFFFF</var>)) {</td></tr>
<tr><th id="1626">1626</th><td>				<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;SFP+ module not supported\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>, <q>"SFP+ module not supported\n"</q>);</td></tr>
<tr><th id="1627">1627</th><td>				<b>return</b> <a class="macro" href="ixgbe_type.h.html#3661" title="-19" data-ref="_M/IXGBE_ERR_SFP_NOT_SUPPORTED">IXGBE_ERR_SFP_NOT_SUPPORTED</a>;</td></tr>
<tr><th id="1628">1628</th><td>			} <b>else</b> {</td></tr>
<tr><th id="1629">1629</th><td>				<b>break</b>;</td></tr>
<tr><th id="1630">1630</th><td>			}</td></tr>
<tr><th id="1631">1631</th><td>		} <b>else</b> {</td></tr>
<tr><th id="1632">1632</th><td>			(*<a class="local col3 ref" href="#173list_offset" title='list_offset' data-ref="173list_offset">list_offset</a>) += <var>2</var>;</td></tr>
<tr><th id="1633">1633</th><td>			<b>if</b> (<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::eeprom" title='ixgbe_hw::eeprom' data-ref="ixgbe_hw::eeprom">eeprom</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_info::ops" title='ixgbe_eeprom_info::ops' data-ref="ixgbe_eeprom_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_eeprom_operations::read" title='ixgbe_eeprom_operations::read' data-ref="ixgbe_eeprom_operations::read">read</a>(<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>, *<a class="local col3 ref" href="#173list_offset" title='list_offset' data-ref="173list_offset">list_offset</a>, &amp;<a class="local col5 ref" href="#175sfp_id" title='sfp_id' data-ref="175sfp_id">sfp_id</a>))</td></tr>
<tr><th id="1634">1634</th><td>				<b>goto</b> <a class="lbl" href="#177err_phy" data-ref="177err_phy">err_phy</a>;</td></tr>
<tr><th id="1635">1635</th><td>		}</td></tr>
<tr><th id="1636">1636</th><td>	}</td></tr>
<tr><th id="1637">1637</th><td></td></tr>
<tr><th id="1638">1638</th><td>	<b>if</b> (<a class="local col5 ref" href="#175sfp_id" title='sfp_id' data-ref="175sfp_id">sfp_id</a> == <a class="macro" href="ixgbe_type.h.html#1393" title="0xFFFF" data-ref="_M/IXGBE_PHY_INIT_END_NL">IXGBE_PHY_INIT_END_NL</a>) {</td></tr>
<tr><th id="1639">1639</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;No matching SFP+ module found\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>, <q>"No matching SFP+ module found\n"</q>);</td></tr>
<tr><th id="1640">1640</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3661" title="-19" data-ref="_M/IXGBE_ERR_SFP_NOT_SUPPORTED">IXGBE_ERR_SFP_NOT_SUPPORTED</a>;</td></tr>
<tr><th id="1641">1641</th><td>	}</td></tr>
<tr><th id="1642">1642</th><td></td></tr>
<tr><th id="1643">1643</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1644">1644</th><td></td></tr>
<tr><th id="1645">1645</th><td><dfn class="lbl" id="177err_phy" data-ref="177err_phy">err_phy</dfn>:</td></tr>
<tr><th id="1646">1646</th><td>	<a class="macro" href="ixgbe_common.h.html#206" title="netdev_err((((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;eeprom read at offset %d failed\n&quot;, *list_offset)" data-ref="_M/hw_err">hw_err</a>(<a class="local col2 ref" href="#172hw" title='hw' data-ref="172hw">hw</a>, <q>"eeprom read at offset %d failed\n"</q>, *<a class="local col3 ref" href="#173list_offset" title='list_offset' data-ref="173list_offset">list_offset</a>);</td></tr>
<tr><th id="1647">1647</th><td>	<b>return</b> <a class="macro" href="ixgbe_type.h.html#3645" title="-3" data-ref="_M/IXGBE_ERR_PHY">IXGBE_ERR_PHY</a>;</td></tr>
<tr><th id="1648">1648</th><td>}</td></tr>
<tr><th id="1649">1649</th><td></td></tr>
<tr><th id="1650">1650</th><td><i class="doc">/**</i></td></tr>
<tr><th id="1651">1651</th><td><i class="doc"> *  ixgbe_read_i2c_eeprom_generic - Reads 8 bit EEPROM word over I2C interface</i></td></tr>
<tr><th id="1652">1652</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1653">1653</th><td><i class="doc"> * <span class="command"> @byte</span>_offset: EEPROM byte offset to read</i></td></tr>
<tr><th id="1654">1654</th><td><i class="doc"> * <span class="command"> @eeprom</span>_data: value read</i></td></tr>
<tr><th id="1655">1655</th><td><i class="doc"> *</i></td></tr>
<tr><th id="1656">1656</th><td><i class="doc"> *  Performs byte read operation to SFP module's EEPROM over I2C interface.</i></td></tr>
<tr><th id="1657">1657</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="1658">1658</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_read_i2c_eeprom_generic" title='ixgbe_read_i2c_eeprom_generic' data-ref="ixgbe_read_i2c_eeprom_generic">ixgbe_read_i2c_eeprom_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col8 decl" id="178hw" title='hw' data-type='struct ixgbe_hw *' data-ref="178hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col9 decl" id="179byte_offset" title='byte_offset' data-type='u8' data-ref="179byte_offset">byte_offset</dfn>,</td></tr>
<tr><th id="1659">1659</th><td>				  <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> *<dfn class="local col0 decl" id="180eeprom_data" title='eeprom_data' data-type='u8 *' data-ref="180eeprom_data">eeprom_data</dfn>)</td></tr>
<tr><th id="1660">1660</th><td>{</td></tr>
<tr><th id="1661">1661</th><td>	<b>return</b> <a class="local col8 ref" href="#178hw" title='hw' data-ref="178hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_byte" title='ixgbe_phy_operations::read_i2c_byte' data-ref="ixgbe_phy_operations::read_i2c_byte">read_i2c_byte</a>(<a class="local col8 ref" href="#178hw" title='hw' data-ref="178hw">hw</a>, <a class="local col9 ref" href="#179byte_offset" title='byte_offset' data-ref="179byte_offset">byte_offset</a>,</td></tr>
<tr><th id="1662">1662</th><td>					 <a class="macro" href="ixgbe_phy.h.html#33" title="0xA0" data-ref="_M/IXGBE_I2C_EEPROM_DEV_ADDR">IXGBE_I2C_EEPROM_DEV_ADDR</a>,</td></tr>
<tr><th id="1663">1663</th><td>					 <a class="local col0 ref" href="#180eeprom_data" title='eeprom_data' data-ref="180eeprom_data">eeprom_data</a>);</td></tr>
<tr><th id="1664">1664</th><td>}</td></tr>
<tr><th id="1665">1665</th><td></td></tr>
<tr><th id="1666">1666</th><td><i class="doc">/**</i></td></tr>
<tr><th id="1667">1667</th><td><i class="doc"> *  ixgbe_read_i2c_sff8472_generic - Reads 8 bit word over I2C interface</i></td></tr>
<tr><th id="1668">1668</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1669">1669</th><td><i class="doc"> * <span class="command"> @byte</span>_offset: byte offset at address 0xA2</i></td></tr>
<tr><th id="1670">1670</th><td><i class="doc"> * <span class="command"> @eeprom</span>_data: value read</i></td></tr>
<tr><th id="1671">1671</th><td><i class="doc"> *</i></td></tr>
<tr><th id="1672">1672</th><td><i class="doc"> *  Performs byte read operation to SFP module's SFF-8472 data over I2C</i></td></tr>
<tr><th id="1673">1673</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="1674">1674</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_read_i2c_sff8472_generic" title='ixgbe_read_i2c_sff8472_generic' data-ref="ixgbe_read_i2c_sff8472_generic">ixgbe_read_i2c_sff8472_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col1 decl" id="181hw" title='hw' data-type='struct ixgbe_hw *' data-ref="181hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col2 decl" id="182byte_offset" title='byte_offset' data-type='u8' data-ref="182byte_offset">byte_offset</dfn>,</td></tr>
<tr><th id="1675">1675</th><td>				   <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> *<dfn class="local col3 decl" id="183sff8472_data" title='sff8472_data' data-type='u8 *' data-ref="183sff8472_data">sff8472_data</dfn>)</td></tr>
<tr><th id="1676">1676</th><td>{</td></tr>
<tr><th id="1677">1677</th><td>	<b>return</b> <a class="local col1 ref" href="#181hw" title='hw' data-ref="181hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_i2c_byte" title='ixgbe_phy_operations::read_i2c_byte' data-ref="ixgbe_phy_operations::read_i2c_byte">read_i2c_byte</a>(<a class="local col1 ref" href="#181hw" title='hw' data-ref="181hw">hw</a>, <a class="local col2 ref" href="#182byte_offset" title='byte_offset' data-ref="182byte_offset">byte_offset</a>,</td></tr>
<tr><th id="1678">1678</th><td>					 <a class="macro" href="ixgbe_phy.h.html#34" title="0xA2" data-ref="_M/IXGBE_I2C_EEPROM_DEV_ADDR2">IXGBE_I2C_EEPROM_DEV_ADDR2</a>,</td></tr>
<tr><th id="1679">1679</th><td>					 <a class="local col3 ref" href="#183sff8472_data" title='sff8472_data' data-ref="183sff8472_data">sff8472_data</a>);</td></tr>
<tr><th id="1680">1680</th><td>}</td></tr>
<tr><th id="1681">1681</th><td></td></tr>
<tr><th id="1682">1682</th><td><i class="doc">/**</i></td></tr>
<tr><th id="1683">1683</th><td><i class="doc"> *  ixgbe_write_i2c_eeprom_generic - Writes 8 bit EEPROM word over I2C interface</i></td></tr>
<tr><th id="1684">1684</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1685">1685</th><td><i class="doc"> * <span class="command"> @byte</span>_offset: EEPROM byte offset to write</i></td></tr>
<tr><th id="1686">1686</th><td><i class="doc"> * <span class="command"> @eeprom</span>_data: value to write</i></td></tr>
<tr><th id="1687">1687</th><td><i class="doc"> *</i></td></tr>
<tr><th id="1688">1688</th><td><i class="doc"> *  Performs byte write operation to SFP module's EEPROM over I2C interface.</i></td></tr>
<tr><th id="1689">1689</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="1690">1690</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_write_i2c_eeprom_generic" title='ixgbe_write_i2c_eeprom_generic' data-ref="ixgbe_write_i2c_eeprom_generic">ixgbe_write_i2c_eeprom_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col4 decl" id="184hw" title='hw' data-type='struct ixgbe_hw *' data-ref="184hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col5 decl" id="185byte_offset" title='byte_offset' data-type='u8' data-ref="185byte_offset">byte_offset</dfn>,</td></tr>
<tr><th id="1691">1691</th><td>				   <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col6 decl" id="186eeprom_data" title='eeprom_data' data-type='u8' data-ref="186eeprom_data">eeprom_data</dfn>)</td></tr>
<tr><th id="1692">1692</th><td>{</td></tr>
<tr><th id="1693">1693</th><td>	<b>return</b> <a class="local col4 ref" href="#184hw" title='hw' data-ref="184hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_i2c_byte" title='ixgbe_phy_operations::write_i2c_byte' data-ref="ixgbe_phy_operations::write_i2c_byte">write_i2c_byte</a>(<a class="local col4 ref" href="#184hw" title='hw' data-ref="184hw">hw</a>, <a class="local col5 ref" href="#185byte_offset" title='byte_offset' data-ref="185byte_offset">byte_offset</a>,</td></tr>
<tr><th id="1694">1694</th><td>					  <a class="macro" href="ixgbe_phy.h.html#33" title="0xA0" data-ref="_M/IXGBE_I2C_EEPROM_DEV_ADDR">IXGBE_I2C_EEPROM_DEV_ADDR</a>,</td></tr>
<tr><th id="1695">1695</th><td>					  <a class="local col6 ref" href="#186eeprom_data" title='eeprom_data' data-ref="186eeprom_data">eeprom_data</a>);</td></tr>
<tr><th id="1696">1696</th><td>}</td></tr>
<tr><th id="1697">1697</th><td></td></tr>
<tr><th id="1698">1698</th><td><i class="doc" data-doc="ixgbe_is_sfp_probe">/**</i></td></tr>
<tr><th id="1699">1699</th><td><i class="doc" data-doc="ixgbe_is_sfp_probe"> * ixgbe_is_sfp_probe - Returns true if SFP is being detected</i></td></tr>
<tr><th id="1700">1700</th><td><i class="doc" data-doc="ixgbe_is_sfp_probe"> *<span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1701">1701</th><td><i class="doc" data-doc="ixgbe_is_sfp_probe"> *<span class="command"> @offset</span>: eeprom offset to be read</i></td></tr>
<tr><th id="1702">1702</th><td><i class="doc" data-doc="ixgbe_is_sfp_probe"> *<span class="command"> @addr</span>: I2C address to be read</i></td></tr>
<tr><th id="1703">1703</th><td><i class="doc" data-doc="ixgbe_is_sfp_probe"> */</i></td></tr>
<tr><th id="1704">1704</th><td><em>static</em> <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="tu decl def fn" id="ixgbe_is_sfp_probe" title='ixgbe_is_sfp_probe' data-type='bool ixgbe_is_sfp_probe(struct ixgbe_hw * hw, u8 offset, u8 addr)' data-ref="ixgbe_is_sfp_probe">ixgbe_is_sfp_probe</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col7 decl" id="187hw" title='hw' data-type='struct ixgbe_hw *' data-ref="187hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col8 decl" id="188offset" title='offset' data-type='u8' data-ref="188offset">offset</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col9 decl" id="189addr" title='addr' data-type='u8' data-ref="189addr">addr</dfn>)</td></tr>
<tr><th id="1705">1705</th><td>{</td></tr>
<tr><th id="1706">1706</th><td>	<b>if</b> (<a class="local col9 ref" href="#189addr" title='addr' data-ref="189addr">addr</a> == <a class="macro" href="ixgbe_phy.h.html#33" title="0xA0" data-ref="_M/IXGBE_I2C_EEPROM_DEV_ADDR">IXGBE_I2C_EEPROM_DEV_ADDR</a> &amp;&amp;</td></tr>
<tr><th id="1707">1707</th><td>	    <a class="local col8 ref" href="#188offset" title='offset' data-ref="188offset">offset</a> == <a class="macro" href="ixgbe_phy.h.html#37" title="0x0" data-ref="_M/IXGBE_SFF_IDENTIFIER">IXGBE_SFF_IDENTIFIER</a> &amp;&amp;</td></tr>
<tr><th id="1708">1708</th><td>	    <a class="local col7 ref" href="#187hw" title='hw' data-ref="187hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::sfp_type" title='ixgbe_phy_info::sfp_type' data-ref="ixgbe_phy_info::sfp_type">sfp_type</a> == <a class="enum" href="ixgbe_type.h.html#ixgbe_sfp_type_not_present" title='ixgbe_sfp_type_not_present' data-ref="ixgbe_sfp_type_not_present">ixgbe_sfp_type_not_present</a>)</td></tr>
<tr><th id="1709">1709</th><td>		<b>return</b> <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="1710">1710</th><td>	<b>return</b> <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="1711">1711</th><td>}</td></tr>
<tr><th id="1712">1712</th><td></td></tr>
<tr><th id="1713">1713</th><td><i class="doc" data-doc="ixgbe_read_i2c_byte_generic_int">/**</i></td></tr>
<tr><th id="1714">1714</th><td><i class="doc" data-doc="ixgbe_read_i2c_byte_generic_int"> *  ixgbe_read_i2c_byte_generic_int - Reads 8 bit word over I2C</i></td></tr>
<tr><th id="1715">1715</th><td><i class="doc" data-doc="ixgbe_read_i2c_byte_generic_int"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1716">1716</th><td><i class="doc" data-doc="ixgbe_read_i2c_byte_generic_int"> * <span class="command"> @byte</span>_offset: byte offset to read</i></td></tr>
<tr><th id="1717">1717</th><td><i class="doc" data-doc="ixgbe_read_i2c_byte_generic_int"> *  <span class="command">@data</span>: value read</i></td></tr>
<tr><th id="1718">1718</th><td><i class="doc" data-doc="ixgbe_read_i2c_byte_generic_int"> * <span class="command"> @lock</span>: true if to take and release semaphore</i></td></tr>
<tr><th id="1719">1719</th><td><i class="doc" data-doc="ixgbe_read_i2c_byte_generic_int"> *</i></td></tr>
<tr><th id="1720">1720</th><td><i class="doc" data-doc="ixgbe_read_i2c_byte_generic_int"> *  Performs byte read operation to SFP module's EEPROM over I2C interface at</i></td></tr>
<tr><th id="1721">1721</th><td><i class="doc" data-doc="ixgbe_read_i2c_byte_generic_int"> *  a specified device address.</i></td></tr>
<tr><th id="1722">1722</th><td><i class="doc" data-doc="ixgbe_read_i2c_byte_generic_int"> */</i></td></tr>
<tr><th id="1723">1723</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_read_i2c_byte_generic_int" title='ixgbe_read_i2c_byte_generic_int' data-type='s32 ixgbe_read_i2c_byte_generic_int(struct ixgbe_hw * hw, u8 byte_offset, u8 dev_addr, u8 * data, bool lock)' data-ref="ixgbe_read_i2c_byte_generic_int">ixgbe_read_i2c_byte_generic_int</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col0 decl" id="190hw" title='hw' data-type='struct ixgbe_hw *' data-ref="190hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col1 decl" id="191byte_offset" title='byte_offset' data-type='u8' data-ref="191byte_offset">byte_offset</dfn>,</td></tr>
<tr><th id="1724">1724</th><td>					   <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col2 decl" id="192dev_addr" title='dev_addr' data-type='u8' data-ref="192dev_addr">dev_addr</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> *<dfn class="local col3 decl" id="193data" title='data' data-type='u8 *' data-ref="193data">data</dfn>, <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col4 decl" id="194lock" title='lock' data-type='bool' data-ref="194lock">lock</dfn>)</td></tr>
<tr><th id="1725">1725</th><td>{</td></tr>
<tr><th id="1726">1726</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col5 decl" id="195status" title='status' data-type='s32' data-ref="195status">status</dfn>;</td></tr>
<tr><th id="1727">1727</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col6 decl" id="196max_retry" title='max_retry' data-type='u32' data-ref="196max_retry">max_retry</dfn> = <var>10</var>;</td></tr>
<tr><th id="1728">1728</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col7 decl" id="197retry" title='retry' data-type='u32' data-ref="197retry">retry</dfn> = <var>0</var>;</td></tr>
<tr><th id="1729">1729</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col8 decl" id="198swfw_mask" title='swfw_mask' data-type='u32' data-ref="198swfw_mask">swfw_mask</dfn> = <a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::phy_semaphore_mask" title='ixgbe_phy_info::phy_semaphore_mask' data-ref="ixgbe_phy_info::phy_semaphore_mask">phy_semaphore_mask</a>;</td></tr>
<tr><th id="1730">1730</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col9 decl" id="199nack" title='nack' data-type='bool' data-ref="199nack">nack</dfn> = <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="1731">1731</th><td></td></tr>
<tr><th id="1732">1732</th><td>	<b>if</b> (<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::type" title='ixgbe_mac_info::type' data-ref="ixgbe_mac_info::type">type</a> &gt;= <a class="enum" href="ixgbe_type.h.html#ixgbe_mac_X550" title='ixgbe_mac_X550' data-ref="ixgbe_mac_X550">ixgbe_mac_X550</a>)</td></tr>
<tr><th id="1733">1733</th><td>		<a class="local col6 ref" href="#196max_retry" title='max_retry' data-ref="196max_retry">max_retry</a> = <var>3</var>;</td></tr>
<tr><th id="1734">1734</th><td>	<b>if</b> (<a class="tu ref fn" href="#ixgbe_is_sfp_probe" title='ixgbe_is_sfp_probe' data-use='c' data-ref="ixgbe_is_sfp_probe">ixgbe_is_sfp_probe</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>, <a class="local col1 ref" href="#191byte_offset" title='byte_offset' data-ref="191byte_offset">byte_offset</a>, <a class="local col2 ref" href="#192dev_addr" title='dev_addr' data-ref="192dev_addr">dev_addr</a>))</td></tr>
<tr><th id="1735">1735</th><td>		<a class="local col6 ref" href="#196max_retry" title='max_retry' data-ref="196max_retry">max_retry</a> = <a class="macro" href="ixgbe_phy.h.html#140" title="2" data-ref="_M/IXGBE_SFP_DETECT_RETRIES">IXGBE_SFP_DETECT_RETRIES</a>;</td></tr>
<tr><th id="1736">1736</th><td></td></tr>
<tr><th id="1737">1737</th><td>	*<a class="local col3 ref" href="#193data" title='data' data-ref="193data">data</a> = <var>0</var>;</td></tr>
<tr><th id="1738">1738</th><td></td></tr>
<tr><th id="1739">1739</th><td>	<b>do</b> {</td></tr>
<tr><th id="1740">1740</th><td>		<b>if</b> (<a class="local col4 ref" href="#194lock" title='lock' data-ref="194lock">lock</a> &amp;&amp; <a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::acquire_swfw_sync" title='ixgbe_mac_operations::acquire_swfw_sync' data-ref="ixgbe_mac_operations::acquire_swfw_sync">acquire_swfw_sync</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>, <a class="local col8 ref" href="#198swfw_mask" title='swfw_mask' data-ref="198swfw_mask">swfw_mask</a>))</td></tr>
<tr><th id="1741">1741</th><td>			<b>return</b> <a class="macro" href="ixgbe_type.h.html#3658" title="-16" data-ref="_M/IXGBE_ERR_SWFW_SYNC">IXGBE_ERR_SWFW_SYNC</a>;</td></tr>
<tr><th id="1742">1742</th><td></td></tr>
<tr><th id="1743">1743</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_start" title='ixgbe_i2c_start' data-use='c' data-ref="ixgbe_i2c_start">ixgbe_i2c_start</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>);</td></tr>
<tr><th id="1744">1744</th><td></td></tr>
<tr><th id="1745">1745</th><td>		<i>/* Device Address and write indication */</i></td></tr>
<tr><th id="1746">1746</th><td>		<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> = <a class="tu ref fn" href="#ixgbe_clock_out_i2c_byte" title='ixgbe_clock_out_i2c_byte' data-use='c' data-ref="ixgbe_clock_out_i2c_byte">ixgbe_clock_out_i2c_byte</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>, <a class="local col2 ref" href="#192dev_addr" title='dev_addr' data-ref="192dev_addr">dev_addr</a>);</td></tr>
<tr><th id="1747">1747</th><td>		<b>if</b> (<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1748">1748</th><td>			<b>goto</b> <a class="lbl" href="#200fail" data-ref="200fail">fail</a>;</td></tr>
<tr><th id="1749">1749</th><td></td></tr>
<tr><th id="1750">1750</th><td>		<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> = <a class="tu ref fn" href="#ixgbe_get_i2c_ack" title='ixgbe_get_i2c_ack' data-use='c' data-ref="ixgbe_get_i2c_ack">ixgbe_get_i2c_ack</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>);</td></tr>
<tr><th id="1751">1751</th><td>		<b>if</b> (<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1752">1752</th><td>			<b>goto</b> <a class="lbl" href="#200fail" data-ref="200fail">fail</a>;</td></tr>
<tr><th id="1753">1753</th><td></td></tr>
<tr><th id="1754">1754</th><td>		<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> = <a class="tu ref fn" href="#ixgbe_clock_out_i2c_byte" title='ixgbe_clock_out_i2c_byte' data-use='c' data-ref="ixgbe_clock_out_i2c_byte">ixgbe_clock_out_i2c_byte</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>, <a class="local col1 ref" href="#191byte_offset" title='byte_offset' data-ref="191byte_offset">byte_offset</a>);</td></tr>
<tr><th id="1755">1755</th><td>		<b>if</b> (<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1756">1756</th><td>			<b>goto</b> <a class="lbl" href="#200fail" data-ref="200fail">fail</a>;</td></tr>
<tr><th id="1757">1757</th><td></td></tr>
<tr><th id="1758">1758</th><td>		<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> = <a class="tu ref fn" href="#ixgbe_get_i2c_ack" title='ixgbe_get_i2c_ack' data-use='c' data-ref="ixgbe_get_i2c_ack">ixgbe_get_i2c_ack</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>);</td></tr>
<tr><th id="1759">1759</th><td>		<b>if</b> (<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1760">1760</th><td>			<b>goto</b> <a class="lbl" href="#200fail" data-ref="200fail">fail</a>;</td></tr>
<tr><th id="1761">1761</th><td></td></tr>
<tr><th id="1762">1762</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_start" title='ixgbe_i2c_start' data-use='c' data-ref="ixgbe_i2c_start">ixgbe_i2c_start</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>);</td></tr>
<tr><th id="1763">1763</th><td></td></tr>
<tr><th id="1764">1764</th><td>		<i>/* Device Address and read indication */</i></td></tr>
<tr><th id="1765">1765</th><td>		<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> = <a class="tu ref fn" href="#ixgbe_clock_out_i2c_byte" title='ixgbe_clock_out_i2c_byte' data-use='c' data-ref="ixgbe_clock_out_i2c_byte">ixgbe_clock_out_i2c_byte</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>, (<a class="local col2 ref" href="#192dev_addr" title='dev_addr' data-ref="192dev_addr">dev_addr</a> | <var>0x1</var>));</td></tr>
<tr><th id="1766">1766</th><td>		<b>if</b> (<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1767">1767</th><td>			<b>goto</b> <a class="lbl" href="#200fail" data-ref="200fail">fail</a>;</td></tr>
<tr><th id="1768">1768</th><td></td></tr>
<tr><th id="1769">1769</th><td>		<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> = <a class="tu ref fn" href="#ixgbe_get_i2c_ack" title='ixgbe_get_i2c_ack' data-use='c' data-ref="ixgbe_get_i2c_ack">ixgbe_get_i2c_ack</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>);</td></tr>
<tr><th id="1770">1770</th><td>		<b>if</b> (<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1771">1771</th><td>			<b>goto</b> <a class="lbl" href="#200fail" data-ref="200fail">fail</a>;</td></tr>
<tr><th id="1772">1772</th><td></td></tr>
<tr><th id="1773">1773</th><td>		<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> = <a class="tu ref fn" href="#ixgbe_clock_in_i2c_byte" title='ixgbe_clock_in_i2c_byte' data-use='c' data-ref="ixgbe_clock_in_i2c_byte">ixgbe_clock_in_i2c_byte</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>, <a class="local col3 ref" href="#193data" title='data' data-ref="193data">data</a>);</td></tr>
<tr><th id="1774">1774</th><td>		<b>if</b> (<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1775">1775</th><td>			<b>goto</b> <a class="lbl" href="#200fail" data-ref="200fail">fail</a>;</td></tr>
<tr><th id="1776">1776</th><td></td></tr>
<tr><th id="1777">1777</th><td>		<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> = <a class="tu ref fn" href="#ixgbe_clock_out_i2c_bit" title='ixgbe_clock_out_i2c_bit' data-use='c' data-ref="ixgbe_clock_out_i2c_bit">ixgbe_clock_out_i2c_bit</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>, <a class="local col9 ref" href="#199nack" title='nack' data-ref="199nack">nack</a>);</td></tr>
<tr><th id="1778">1778</th><td>		<b>if</b> (<a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1779">1779</th><td>			<b>goto</b> <a class="lbl" href="#200fail" data-ref="200fail">fail</a>;</td></tr>
<tr><th id="1780">1780</th><td></td></tr>
<tr><th id="1781">1781</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_stop" title='ixgbe_i2c_stop' data-use='c' data-ref="ixgbe_i2c_stop">ixgbe_i2c_stop</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>);</td></tr>
<tr><th id="1782">1782</th><td>		<b>if</b> (<a class="local col4 ref" href="#194lock" title='lock' data-ref="194lock">lock</a>)</td></tr>
<tr><th id="1783">1783</th><td>			<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::release_swfw_sync" title='ixgbe_mac_operations::release_swfw_sync' data-ref="ixgbe_mac_operations::release_swfw_sync">release_swfw_sync</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>, <a class="local col8 ref" href="#198swfw_mask" title='swfw_mask' data-ref="198swfw_mask">swfw_mask</a>);</td></tr>
<tr><th id="1784">1784</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1785">1785</th><td></td></tr>
<tr><th id="1786">1786</th><td><dfn class="lbl" id="200fail" data-ref="200fail">fail</dfn>:</td></tr>
<tr><th id="1787">1787</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_bus_clear" title='ixgbe_i2c_bus_clear' data-use='c' data-ref="ixgbe_i2c_bus_clear">ixgbe_i2c_bus_clear</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>);</td></tr>
<tr><th id="1788">1788</th><td>		<b>if</b> (<a class="local col4 ref" href="#194lock" title='lock' data-ref="194lock">lock</a>) {</td></tr>
<tr><th id="1789">1789</th><td>			<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::release_swfw_sync" title='ixgbe_mac_operations::release_swfw_sync' data-ref="ixgbe_mac_operations::release_swfw_sync">release_swfw_sync</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>, <a class="local col8 ref" href="#198swfw_mask" title='swfw_mask' data-ref="198swfw_mask">swfw_mask</a>);</td></tr>
<tr><th id="1790">1790</th><td>			<a class="ref fn" href="../../../../../include/linux/delay.h.html#msleep" title='msleep' data-ref="msleep">msleep</a>(<var>100</var>);</td></tr>
<tr><th id="1791">1791</th><td>		}</td></tr>
<tr><th id="1792">1792</th><td>		<a class="local col7 ref" href="#197retry" title='retry' data-ref="197retry">retry</a>++;</td></tr>
<tr><th id="1793">1793</th><td>		<b>if</b> (<a class="local col7 ref" href="#197retry" title='retry' data-ref="197retry">retry</a> &lt; <a class="local col6 ref" href="#196max_retry" title='max_retry' data-ref="196max_retry">max_retry</a>)</td></tr>
<tr><th id="1794">1794</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;I2C byte read error - Retrying.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>, <q>"I2C byte read error - Retrying.\n"</q>);</td></tr>
<tr><th id="1795">1795</th><td>		<b>else</b></td></tr>
<tr><th id="1796">1796</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;I2C byte read error.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col0 ref" href="#190hw" title='hw' data-ref="190hw">hw</a>, <q>"I2C byte read error.\n"</q>);</td></tr>
<tr><th id="1797">1797</th><td></td></tr>
<tr><th id="1798">1798</th><td>	} <b>while</b> (<a class="local col7 ref" href="#197retry" title='retry' data-ref="197retry">retry</a> &lt; <a class="local col6 ref" href="#196max_retry" title='max_retry' data-ref="196max_retry">max_retry</a>);</td></tr>
<tr><th id="1799">1799</th><td></td></tr>
<tr><th id="1800">1800</th><td>	<b>return</b> <a class="local col5 ref" href="#195status" title='status' data-ref="195status">status</a>;</td></tr>
<tr><th id="1801">1801</th><td>}</td></tr>
<tr><th id="1802">1802</th><td></td></tr>
<tr><th id="1803">1803</th><td><i class="doc">/**</i></td></tr>
<tr><th id="1804">1804</th><td><i class="doc"> *  ixgbe_read_i2c_byte_generic - Reads 8 bit word over I2C</i></td></tr>
<tr><th id="1805">1805</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1806">1806</th><td><i class="doc"> * <span class="command"> @byte</span>_offset: byte offset to read</i></td></tr>
<tr><th id="1807">1807</th><td><i class="doc"> *  <span class="command">@data</span>: value read</i></td></tr>
<tr><th id="1808">1808</th><td><i class="doc"> *</i></td></tr>
<tr><th id="1809">1809</th><td><i class="doc"> *  Performs byte read operation to SFP module's EEPROM over I2C interface at</i></td></tr>
<tr><th id="1810">1810</th><td><i class="doc"> *  a specified device address.</i></td></tr>
<tr><th id="1811">1811</th><td><i class="doc"> */</i></td></tr>
<tr><th id="1812">1812</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_read_i2c_byte_generic" title='ixgbe_read_i2c_byte_generic' data-ref="ixgbe_read_i2c_byte_generic">ixgbe_read_i2c_byte_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col1 decl" id="201hw" title='hw' data-type='struct ixgbe_hw *' data-ref="201hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col2 decl" id="202byte_offset" title='byte_offset' data-type='u8' data-ref="202byte_offset">byte_offset</dfn>,</td></tr>
<tr><th id="1813">1813</th><td>				<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col3 decl" id="203dev_addr" title='dev_addr' data-type='u8' data-ref="203dev_addr">dev_addr</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> *<dfn class="local col4 decl" id="204data" title='data' data-type='u8 *' data-ref="204data">data</dfn>)</td></tr>
<tr><th id="1814">1814</th><td>{</td></tr>
<tr><th id="1815">1815</th><td>	<b>return</b> <a class="tu ref fn" href="#ixgbe_read_i2c_byte_generic_int" title='ixgbe_read_i2c_byte_generic_int' data-use='c' data-ref="ixgbe_read_i2c_byte_generic_int">ixgbe_read_i2c_byte_generic_int</a>(<a class="local col1 ref" href="#201hw" title='hw' data-ref="201hw">hw</a>, <a class="local col2 ref" href="#202byte_offset" title='byte_offset' data-ref="202byte_offset">byte_offset</a>, <a class="local col3 ref" href="#203dev_addr" title='dev_addr' data-ref="203dev_addr">dev_addr</a>,</td></tr>
<tr><th id="1816">1816</th><td>					       <a class="local col4 ref" href="#204data" title='data' data-ref="204data">data</a>, <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>);</td></tr>
<tr><th id="1817">1817</th><td>}</td></tr>
<tr><th id="1818">1818</th><td></td></tr>
<tr><th id="1819">1819</th><td><i class="doc">/**</i></td></tr>
<tr><th id="1820">1820</th><td><i class="doc"> *  ixgbe_read_i2c_byte_generic_unlocked - Reads 8 bit word over I2C</i></td></tr>
<tr><th id="1821">1821</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1822">1822</th><td><i class="doc"> * <span class="command"> @byte</span>_offset: byte offset to read</i></td></tr>
<tr><th id="1823">1823</th><td><i class="doc"> *  <span class="command">@data</span>: value read</i></td></tr>
<tr><th id="1824">1824</th><td><i class="doc"> *</i></td></tr>
<tr><th id="1825">1825</th><td><i class="doc"> *  Performs byte read operation to SFP module's EEPROM over I2C interface at</i></td></tr>
<tr><th id="1826">1826</th><td><i class="doc"> *  a specified device address.</i></td></tr>
<tr><th id="1827">1827</th><td><i class="doc"> */</i></td></tr>
<tr><th id="1828">1828</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_read_i2c_byte_generic_unlocked" title='ixgbe_read_i2c_byte_generic_unlocked' data-ref="ixgbe_read_i2c_byte_generic_unlocked">ixgbe_read_i2c_byte_generic_unlocked</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col5 decl" id="205hw" title='hw' data-type='struct ixgbe_hw *' data-ref="205hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col6 decl" id="206byte_offset" title='byte_offset' data-type='u8' data-ref="206byte_offset">byte_offset</dfn>,</td></tr>
<tr><th id="1829">1829</th><td>					 <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col7 decl" id="207dev_addr" title='dev_addr' data-type='u8' data-ref="207dev_addr">dev_addr</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> *<dfn class="local col8 decl" id="208data" title='data' data-type='u8 *' data-ref="208data">data</dfn>)</td></tr>
<tr><th id="1830">1830</th><td>{</td></tr>
<tr><th id="1831">1831</th><td>	<b>return</b> <a class="tu ref fn" href="#ixgbe_read_i2c_byte_generic_int" title='ixgbe_read_i2c_byte_generic_int' data-use='c' data-ref="ixgbe_read_i2c_byte_generic_int">ixgbe_read_i2c_byte_generic_int</a>(<a class="local col5 ref" href="#205hw" title='hw' data-ref="205hw">hw</a>, <a class="local col6 ref" href="#206byte_offset" title='byte_offset' data-ref="206byte_offset">byte_offset</a>, <a class="local col7 ref" href="#207dev_addr" title='dev_addr' data-ref="207dev_addr">dev_addr</a>,</td></tr>
<tr><th id="1832">1832</th><td>					       <a class="local col8 ref" href="#208data" title='data' data-ref="208data">data</a>, <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>);</td></tr>
<tr><th id="1833">1833</th><td>}</td></tr>
<tr><th id="1834">1834</th><td></td></tr>
<tr><th id="1835">1835</th><td><i class="doc" data-doc="ixgbe_write_i2c_byte_generic_int">/**</i></td></tr>
<tr><th id="1836">1836</th><td><i class="doc" data-doc="ixgbe_write_i2c_byte_generic_int"> *  ixgbe_write_i2c_byte_generic_int - Writes 8 bit word over I2C</i></td></tr>
<tr><th id="1837">1837</th><td><i class="doc" data-doc="ixgbe_write_i2c_byte_generic_int"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1838">1838</th><td><i class="doc" data-doc="ixgbe_write_i2c_byte_generic_int"> * <span class="command"> @byte</span>_offset: byte offset to write</i></td></tr>
<tr><th id="1839">1839</th><td><i class="doc" data-doc="ixgbe_write_i2c_byte_generic_int"> *  <span class="command">@data</span>: value to write</i></td></tr>
<tr><th id="1840">1840</th><td><i class="doc" data-doc="ixgbe_write_i2c_byte_generic_int"> * <span class="command"> @lock</span>: true if to take and release semaphore</i></td></tr>
<tr><th id="1841">1841</th><td><i class="doc" data-doc="ixgbe_write_i2c_byte_generic_int"> *</i></td></tr>
<tr><th id="1842">1842</th><td><i class="doc" data-doc="ixgbe_write_i2c_byte_generic_int"> *  Performs byte write operation to SFP module's EEPROM over I2C interface at</i></td></tr>
<tr><th id="1843">1843</th><td><i class="doc" data-doc="ixgbe_write_i2c_byte_generic_int"> *  a specified device address.</i></td></tr>
<tr><th id="1844">1844</th><td><i class="doc" data-doc="ixgbe_write_i2c_byte_generic_int"> */</i></td></tr>
<tr><th id="1845">1845</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_write_i2c_byte_generic_int" title='ixgbe_write_i2c_byte_generic_int' data-type='s32 ixgbe_write_i2c_byte_generic_int(struct ixgbe_hw * hw, u8 byte_offset, u8 dev_addr, u8 data, bool lock)' data-ref="ixgbe_write_i2c_byte_generic_int">ixgbe_write_i2c_byte_generic_int</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col9 decl" id="209hw" title='hw' data-type='struct ixgbe_hw *' data-ref="209hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col0 decl" id="210byte_offset" title='byte_offset' data-type='u8' data-ref="210byte_offset">byte_offset</dfn>,</td></tr>
<tr><th id="1846">1846</th><td>					    <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col1 decl" id="211dev_addr" title='dev_addr' data-type='u8' data-ref="211dev_addr">dev_addr</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col2 decl" id="212data" title='data' data-type='u8' data-ref="212data">data</dfn>, <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col3 decl" id="213lock" title='lock' data-type='bool' data-ref="213lock">lock</dfn>)</td></tr>
<tr><th id="1847">1847</th><td>{</td></tr>
<tr><th id="1848">1848</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col4 decl" id="214status" title='status' data-type='s32' data-ref="214status">status</dfn>;</td></tr>
<tr><th id="1849">1849</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col5 decl" id="215max_retry" title='max_retry' data-type='u32' data-ref="215max_retry">max_retry</dfn> = <var>1</var>;</td></tr>
<tr><th id="1850">1850</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col6 decl" id="216retry" title='retry' data-type='u32' data-ref="216retry">retry</dfn> = <var>0</var>;</td></tr>
<tr><th id="1851">1851</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col7 decl" id="217swfw_mask" title='swfw_mask' data-type='u32' data-ref="217swfw_mask">swfw_mask</dfn> = <a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::phy_semaphore_mask" title='ixgbe_phy_info::phy_semaphore_mask' data-ref="ixgbe_phy_info::phy_semaphore_mask">phy_semaphore_mask</a>;</td></tr>
<tr><th id="1852">1852</th><td></td></tr>
<tr><th id="1853">1853</th><td>	<b>if</b> (<a class="local col3 ref" href="#213lock" title='lock' data-ref="213lock">lock</a> &amp;&amp; <a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::acquire_swfw_sync" title='ixgbe_mac_operations::acquire_swfw_sync' data-ref="ixgbe_mac_operations::acquire_swfw_sync">acquire_swfw_sync</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>, <a class="local col7 ref" href="#217swfw_mask" title='swfw_mask' data-ref="217swfw_mask">swfw_mask</a>))</td></tr>
<tr><th id="1854">1854</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3658" title="-16" data-ref="_M/IXGBE_ERR_SWFW_SYNC">IXGBE_ERR_SWFW_SYNC</a>;</td></tr>
<tr><th id="1855">1855</th><td></td></tr>
<tr><th id="1856">1856</th><td>	<b>do</b> {</td></tr>
<tr><th id="1857">1857</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_start" title='ixgbe_i2c_start' data-use='c' data-ref="ixgbe_i2c_start">ixgbe_i2c_start</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>);</td></tr>
<tr><th id="1858">1858</th><td></td></tr>
<tr><th id="1859">1859</th><td>		<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> = <a class="tu ref fn" href="#ixgbe_clock_out_i2c_byte" title='ixgbe_clock_out_i2c_byte' data-use='c' data-ref="ixgbe_clock_out_i2c_byte">ixgbe_clock_out_i2c_byte</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>, <a class="local col1 ref" href="#211dev_addr" title='dev_addr' data-ref="211dev_addr">dev_addr</a>);</td></tr>
<tr><th id="1860">1860</th><td>		<b>if</b> (<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1861">1861</th><td>			<b>goto</b> <a class="lbl" href="#218fail" data-ref="218fail">fail</a>;</td></tr>
<tr><th id="1862">1862</th><td></td></tr>
<tr><th id="1863">1863</th><td>		<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> = <a class="tu ref fn" href="#ixgbe_get_i2c_ack" title='ixgbe_get_i2c_ack' data-use='c' data-ref="ixgbe_get_i2c_ack">ixgbe_get_i2c_ack</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>);</td></tr>
<tr><th id="1864">1864</th><td>		<b>if</b> (<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1865">1865</th><td>			<b>goto</b> <a class="lbl" href="#218fail" data-ref="218fail">fail</a>;</td></tr>
<tr><th id="1866">1866</th><td></td></tr>
<tr><th id="1867">1867</th><td>		<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> = <a class="tu ref fn" href="#ixgbe_clock_out_i2c_byte" title='ixgbe_clock_out_i2c_byte' data-use='c' data-ref="ixgbe_clock_out_i2c_byte">ixgbe_clock_out_i2c_byte</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>, <a class="local col0 ref" href="#210byte_offset" title='byte_offset' data-ref="210byte_offset">byte_offset</a>);</td></tr>
<tr><th id="1868">1868</th><td>		<b>if</b> (<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1869">1869</th><td>			<b>goto</b> <a class="lbl" href="#218fail" data-ref="218fail">fail</a>;</td></tr>
<tr><th id="1870">1870</th><td></td></tr>
<tr><th id="1871">1871</th><td>		<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> = <a class="tu ref fn" href="#ixgbe_get_i2c_ack" title='ixgbe_get_i2c_ack' data-use='c' data-ref="ixgbe_get_i2c_ack">ixgbe_get_i2c_ack</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>);</td></tr>
<tr><th id="1872">1872</th><td>		<b>if</b> (<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1873">1873</th><td>			<b>goto</b> <a class="lbl" href="#218fail" data-ref="218fail">fail</a>;</td></tr>
<tr><th id="1874">1874</th><td></td></tr>
<tr><th id="1875">1875</th><td>		<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> = <a class="tu ref fn" href="#ixgbe_clock_out_i2c_byte" title='ixgbe_clock_out_i2c_byte' data-use='c' data-ref="ixgbe_clock_out_i2c_byte">ixgbe_clock_out_i2c_byte</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>, <a class="local col2 ref" href="#212data" title='data' data-ref="212data">data</a>);</td></tr>
<tr><th id="1876">1876</th><td>		<b>if</b> (<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1877">1877</th><td>			<b>goto</b> <a class="lbl" href="#218fail" data-ref="218fail">fail</a>;</td></tr>
<tr><th id="1878">1878</th><td></td></tr>
<tr><th id="1879">1879</th><td>		<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> = <a class="tu ref fn" href="#ixgbe_get_i2c_ack" title='ixgbe_get_i2c_ack' data-use='c' data-ref="ixgbe_get_i2c_ack">ixgbe_get_i2c_ack</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>);</td></tr>
<tr><th id="1880">1880</th><td>		<b>if</b> (<a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a> != <var>0</var>)</td></tr>
<tr><th id="1881">1881</th><td>			<b>goto</b> <a class="lbl" href="#218fail" data-ref="218fail">fail</a>;</td></tr>
<tr><th id="1882">1882</th><td></td></tr>
<tr><th id="1883">1883</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_stop" title='ixgbe_i2c_stop' data-use='c' data-ref="ixgbe_i2c_stop">ixgbe_i2c_stop</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>);</td></tr>
<tr><th id="1884">1884</th><td>		<b>if</b> (<a class="local col3 ref" href="#213lock" title='lock' data-ref="213lock">lock</a>)</td></tr>
<tr><th id="1885">1885</th><td>			<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::release_swfw_sync" title='ixgbe_mac_operations::release_swfw_sync' data-ref="ixgbe_mac_operations::release_swfw_sync">release_swfw_sync</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>, <a class="local col7 ref" href="#217swfw_mask" title='swfw_mask' data-ref="217swfw_mask">swfw_mask</a>);</td></tr>
<tr><th id="1886">1886</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="1887">1887</th><td></td></tr>
<tr><th id="1888">1888</th><td><dfn class="lbl" id="218fail" data-ref="218fail">fail</dfn>:</td></tr>
<tr><th id="1889">1889</th><td>		<a class="tu ref fn" href="#ixgbe_i2c_bus_clear" title='ixgbe_i2c_bus_clear' data-use='c' data-ref="ixgbe_i2c_bus_clear">ixgbe_i2c_bus_clear</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>);</td></tr>
<tr><th id="1890">1890</th><td>		<a class="local col6 ref" href="#216retry" title='retry' data-ref="216retry">retry</a>++;</td></tr>
<tr><th id="1891">1891</th><td>		<b>if</b> (<a class="local col6 ref" href="#216retry" title='retry' data-ref="216retry">retry</a> &lt; <a class="local col5 ref" href="#215max_retry" title='max_retry' data-ref="215max_retry">max_retry</a>)</td></tr>
<tr><th id="1892">1892</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;I2C byte write error - Retrying.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>, <q>"I2C byte write error - Retrying.\n"</q>);</td></tr>
<tr><th id="1893">1893</th><td>		<b>else</b></td></tr>
<tr><th id="1894">1894</th><td>			<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;I2C byte write error.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>, <q>"I2C byte write error.\n"</q>);</td></tr>
<tr><th id="1895">1895</th><td>	} <b>while</b> (<a class="local col6 ref" href="#216retry" title='retry' data-ref="216retry">retry</a> &lt; <a class="local col5 ref" href="#215max_retry" title='max_retry' data-ref="215max_retry">max_retry</a>);</td></tr>
<tr><th id="1896">1896</th><td></td></tr>
<tr><th id="1897">1897</th><td>	<b>if</b> (<a class="local col3 ref" href="#213lock" title='lock' data-ref="213lock">lock</a>)</td></tr>
<tr><th id="1898">1898</th><td>		<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::release_swfw_sync" title='ixgbe_mac_operations::release_swfw_sync' data-ref="ixgbe_mac_operations::release_swfw_sync">release_swfw_sync</a>(<a class="local col9 ref" href="#209hw" title='hw' data-ref="209hw">hw</a>, <a class="local col7 ref" href="#217swfw_mask" title='swfw_mask' data-ref="217swfw_mask">swfw_mask</a>);</td></tr>
<tr><th id="1899">1899</th><td></td></tr>
<tr><th id="1900">1900</th><td>	<b>return</b> <a class="local col4 ref" href="#214status" title='status' data-ref="214status">status</a>;</td></tr>
<tr><th id="1901">1901</th><td>}</td></tr>
<tr><th id="1902">1902</th><td></td></tr>
<tr><th id="1903">1903</th><td><i class="doc">/**</i></td></tr>
<tr><th id="1904">1904</th><td><i class="doc"> *  ixgbe_write_i2c_byte_generic - Writes 8 bit word over I2C</i></td></tr>
<tr><th id="1905">1905</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1906">1906</th><td><i class="doc"> * <span class="command"> @byte</span>_offset: byte offset to write</i></td></tr>
<tr><th id="1907">1907</th><td><i class="doc"> *  <span class="command">@data</span>: value to write</i></td></tr>
<tr><th id="1908">1908</th><td><i class="doc"> *</i></td></tr>
<tr><th id="1909">1909</th><td><i class="doc"> *  Performs byte write operation to SFP module's EEPROM over I2C interface at</i></td></tr>
<tr><th id="1910">1910</th><td><i class="doc"> *  a specified device address.</i></td></tr>
<tr><th id="1911">1911</th><td><i class="doc"> */</i></td></tr>
<tr><th id="1912">1912</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_write_i2c_byte_generic" title='ixgbe_write_i2c_byte_generic' data-ref="ixgbe_write_i2c_byte_generic">ixgbe_write_i2c_byte_generic</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col9 decl" id="219hw" title='hw' data-type='struct ixgbe_hw *' data-ref="219hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col0 decl" id="220byte_offset" title='byte_offset' data-type='u8' data-ref="220byte_offset">byte_offset</dfn>,</td></tr>
<tr><th id="1913">1913</th><td>				 <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col1 decl" id="221dev_addr" title='dev_addr' data-type='u8' data-ref="221dev_addr">dev_addr</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col2 decl" id="222data" title='data' data-type='u8' data-ref="222data">data</dfn>)</td></tr>
<tr><th id="1914">1914</th><td>{</td></tr>
<tr><th id="1915">1915</th><td>	<b>return</b> <a class="tu ref fn" href="#ixgbe_write_i2c_byte_generic_int" title='ixgbe_write_i2c_byte_generic_int' data-use='c' data-ref="ixgbe_write_i2c_byte_generic_int">ixgbe_write_i2c_byte_generic_int</a>(<a class="local col9 ref" href="#219hw" title='hw' data-ref="219hw">hw</a>, <a class="local col0 ref" href="#220byte_offset" title='byte_offset' data-ref="220byte_offset">byte_offset</a>, <a class="local col1 ref" href="#221dev_addr" title='dev_addr' data-ref="221dev_addr">dev_addr</a>,</td></tr>
<tr><th id="1916">1916</th><td>						<a class="local col2 ref" href="#222data" title='data' data-ref="222data">data</a>, <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>);</td></tr>
<tr><th id="1917">1917</th><td>}</td></tr>
<tr><th id="1918">1918</th><td></td></tr>
<tr><th id="1919">1919</th><td><i class="doc">/**</i></td></tr>
<tr><th id="1920">1920</th><td><i class="doc"> *  ixgbe_write_i2c_byte_generic_unlocked - Writes 8 bit word over I2C</i></td></tr>
<tr><th id="1921">1921</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1922">1922</th><td><i class="doc"> * <span class="command"> @byte</span>_offset: byte offset to write</i></td></tr>
<tr><th id="1923">1923</th><td><i class="doc"> *  <span class="command">@data</span>: value to write</i></td></tr>
<tr><th id="1924">1924</th><td><i class="doc"> *</i></td></tr>
<tr><th id="1925">1925</th><td><i class="doc"> *  Performs byte write operation to SFP module's EEPROM over I2C interface at</i></td></tr>
<tr><th id="1926">1926</th><td><i class="doc"> *  a specified device address.</i></td></tr>
<tr><th id="1927">1927</th><td><i class="doc"> */</i></td></tr>
<tr><th id="1928">1928</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_write_i2c_byte_generic_unlocked" title='ixgbe_write_i2c_byte_generic_unlocked' data-ref="ixgbe_write_i2c_byte_generic_unlocked">ixgbe_write_i2c_byte_generic_unlocked</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col3 decl" id="223hw" title='hw' data-type='struct ixgbe_hw *' data-ref="223hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col4 decl" id="224byte_offset" title='byte_offset' data-type='u8' data-ref="224byte_offset">byte_offset</dfn>,</td></tr>
<tr><th id="1929">1929</th><td>					  <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col5 decl" id="225dev_addr" title='dev_addr' data-type='u8' data-ref="225dev_addr">dev_addr</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col6 decl" id="226data" title='data' data-type='u8' data-ref="226data">data</dfn>)</td></tr>
<tr><th id="1930">1930</th><td>{</td></tr>
<tr><th id="1931">1931</th><td>	<b>return</b> <a class="tu ref fn" href="#ixgbe_write_i2c_byte_generic_int" title='ixgbe_write_i2c_byte_generic_int' data-use='c' data-ref="ixgbe_write_i2c_byte_generic_int">ixgbe_write_i2c_byte_generic_int</a>(<a class="local col3 ref" href="#223hw" title='hw' data-ref="223hw">hw</a>, <a class="local col4 ref" href="#224byte_offset" title='byte_offset' data-ref="224byte_offset">byte_offset</a>, <a class="local col5 ref" href="#225dev_addr" title='dev_addr' data-ref="225dev_addr">dev_addr</a>,</td></tr>
<tr><th id="1932">1932</th><td>						<a class="local col6 ref" href="#226data" title='data' data-ref="226data">data</a>, <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>);</td></tr>
<tr><th id="1933">1933</th><td>}</td></tr>
<tr><th id="1934">1934</th><td></td></tr>
<tr><th id="1935">1935</th><td><i class="doc" data-doc="ixgbe_i2c_start">/**</i></td></tr>
<tr><th id="1936">1936</th><td><i class="doc" data-doc="ixgbe_i2c_start"> *  ixgbe_i2c_start - Sets I2C start condition</i></td></tr>
<tr><th id="1937">1937</th><td><i class="doc" data-doc="ixgbe_i2c_start"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1938">1938</th><td><i class="doc" data-doc="ixgbe_i2c_start"> *</i></td></tr>
<tr><th id="1939">1939</th><td><i class="doc" data-doc="ixgbe_i2c_start"> *  Sets I2C start condition (High -&gt; Low on SDA while SCL is High)</i></td></tr>
<tr><th id="1940">1940</th><td><i class="doc" data-doc="ixgbe_i2c_start"> *  Set bit-bang mode on X550 hardware.</i></td></tr>
<tr><th id="1941">1941</th><td><i class="doc" data-doc="ixgbe_i2c_start"> **/</i></td></tr>
<tr><th id="1942">1942</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="ixgbe_i2c_start" title='ixgbe_i2c_start' data-type='void ixgbe_i2c_start(struct ixgbe_hw * hw)' data-ref="ixgbe_i2c_start">ixgbe_i2c_start</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col7 decl" id="227hw" title='hw' data-type='struct ixgbe_hw *' data-ref="227hw">hw</dfn>)</td></tr>
<tr><th id="1943">1943</th><td>{</td></tr>
<tr><th id="1944">1944</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col8 decl" id="228i2cctl" title='i2cctl' data-type='u32' data-ref="228i2cctl">i2cctl</dfn> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col7 ref" href="#227hw" title='hw' data-ref="227hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col7 ref" href="#227hw" title='hw' data-ref="227hw">hw</a>));</td></tr>
<tr><th id="1945">1945</th><td></td></tr>
<tr><th id="1946">1946</th><td>	<a class="local col8 ref" href="#228i2cctl" title='i2cctl' data-ref="228i2cctl">i2cctl</a> |= <a class="macro" href="ixgbe_type.h.html#206" title="(((hw))-&gt;mvals[IXGBE_I2C_BB_EN_IDX])" data-ref="_M/IXGBE_I2C_BB_EN">IXGBE_I2C_BB_EN</a>(<a class="local col7 ref" href="#227hw" title='hw' data-ref="227hw">hw</a>);</td></tr>
<tr><th id="1947">1947</th><td></td></tr>
<tr><th id="1948">1948</th><td>	<i>/* Start condition must begin with data and clock high */</i></td></tr>
<tr><th id="1949">1949</th><td>	<a class="tu ref fn" href="#ixgbe_set_i2c_data" title='ixgbe_set_i2c_data' data-use='c' data-ref="ixgbe_set_i2c_data">ixgbe_set_i2c_data</a>(<a class="local col7 ref" href="#227hw" title='hw' data-ref="227hw">hw</a>, &amp;<a class="local col8 ref" href="#228i2cctl" title='i2cctl' data-ref="228i2cctl">i2cctl</a>, <var>1</var>);</td></tr>
<tr><th id="1950">1950</th><td>	<a class="tu ref fn" href="#ixgbe_raise_i2c_clk" title='ixgbe_raise_i2c_clk' data-use='c' data-ref="ixgbe_raise_i2c_clk">ixgbe_raise_i2c_clk</a>(<a class="local col7 ref" href="#227hw" title='hw' data-ref="227hw">hw</a>, &amp;<a class="local col8 ref" href="#228i2cctl" title='i2cctl' data-ref="228i2cctl">i2cctl</a>);</td></tr>
<tr><th id="1951">1951</th><td></td></tr>
<tr><th id="1952">1952</th><td>	<i>/* Setup time for start condition (4.7us) */</i></td></tr>
<tr><th id="1953">1953</th><td>	<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(5)) { if ((5) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((5) * 0x10c7ul); } else { __udelay(5); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#132" title="5" data-ref="_M/IXGBE_I2C_T_SU_STA">IXGBE_I2C_T_SU_STA</a>);</td></tr>
<tr><th id="1954">1954</th><td></td></tr>
<tr><th id="1955">1955</th><td>	<a class="tu ref fn" href="#ixgbe_set_i2c_data" title='ixgbe_set_i2c_data' data-use='c' data-ref="ixgbe_set_i2c_data">ixgbe_set_i2c_data</a>(<a class="local col7 ref" href="#227hw" title='hw' data-ref="227hw">hw</a>, &amp;<a class="local col8 ref" href="#228i2cctl" title='i2cctl' data-ref="228i2cctl">i2cctl</a>, <var>0</var>);</td></tr>
<tr><th id="1956">1956</th><td></td></tr>
<tr><th id="1957">1957</th><td>	<i>/* Hold time for start condition (4us) */</i></td></tr>
<tr><th id="1958">1958</th><td>	<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(4)) { if ((4) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((4) * 0x10c7ul); } else { __udelay(4); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#129" title="4" data-ref="_M/IXGBE_I2C_T_HD_STA">IXGBE_I2C_T_HD_STA</a>);</td></tr>
<tr><th id="1959">1959</th><td></td></tr>
<tr><th id="1960">1960</th><td>	<a class="tu ref fn" href="#ixgbe_lower_i2c_clk" title='ixgbe_lower_i2c_clk' data-use='c' data-ref="ixgbe_lower_i2c_clk">ixgbe_lower_i2c_clk</a>(<a class="local col7 ref" href="#227hw" title='hw' data-ref="227hw">hw</a>, &amp;<a class="local col8 ref" href="#228i2cctl" title='i2cctl' data-ref="228i2cctl">i2cctl</a>);</td></tr>
<tr><th id="1961">1961</th><td></td></tr>
<tr><th id="1962">1962</th><td>	<i>/* Minimum low period of clock is 4.7 us */</i></td></tr>
<tr><th id="1963">1963</th><td>	<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(5)) { if ((5) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((5) * 0x10c7ul); } else { __udelay(5); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#130" title="5" data-ref="_M/IXGBE_I2C_T_LOW">IXGBE_I2C_T_LOW</a>);</td></tr>
<tr><th id="1964">1964</th><td></td></tr>
<tr><th id="1965">1965</th><td>}</td></tr>
<tr><th id="1966">1966</th><td></td></tr>
<tr><th id="1967">1967</th><td><i class="doc" data-doc="ixgbe_i2c_stop">/**</i></td></tr>
<tr><th id="1968">1968</th><td><i class="doc" data-doc="ixgbe_i2c_stop"> *  ixgbe_i2c_stop - Sets I2C stop condition</i></td></tr>
<tr><th id="1969">1969</th><td><i class="doc" data-doc="ixgbe_i2c_stop"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="1970">1970</th><td><i class="doc" data-doc="ixgbe_i2c_stop"> *</i></td></tr>
<tr><th id="1971">1971</th><td><i class="doc" data-doc="ixgbe_i2c_stop"> *  Sets I2C stop condition (Low -&gt; High on SDA while SCL is High)</i></td></tr>
<tr><th id="1972">1972</th><td><i class="doc" data-doc="ixgbe_i2c_stop"> *  Disables bit-bang mode and negates data output enable on X550</i></td></tr>
<tr><th id="1973">1973</th><td><i class="doc" data-doc="ixgbe_i2c_stop"> *  hardware.</i></td></tr>
<tr><th id="1974">1974</th><td><i class="doc" data-doc="ixgbe_i2c_stop"> **/</i></td></tr>
<tr><th id="1975">1975</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="ixgbe_i2c_stop" title='ixgbe_i2c_stop' data-type='void ixgbe_i2c_stop(struct ixgbe_hw * hw)' data-ref="ixgbe_i2c_stop">ixgbe_i2c_stop</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col9 decl" id="229hw" title='hw' data-type='struct ixgbe_hw *' data-ref="229hw">hw</dfn>)</td></tr>
<tr><th id="1976">1976</th><td>{</td></tr>
<tr><th id="1977">1977</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col0 decl" id="230i2cctl" title='i2cctl' data-type='u32' data-ref="230i2cctl">i2cctl</dfn> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col9 ref" href="#229hw" title='hw' data-ref="229hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col9 ref" href="#229hw" title='hw' data-ref="229hw">hw</a>));</td></tr>
<tr><th id="1978">1978</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col1 decl" id="231data_oe_bit" title='data_oe_bit' data-type='u32' data-ref="231data_oe_bit">data_oe_bit</dfn> = <a class="macro" href="ixgbe_type.h.html#199" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_OE_N_EN_IDX])" data-ref="_M/IXGBE_I2C_DATA_OE_N_EN">IXGBE_I2C_DATA_OE_N_EN</a>(<a class="local col9 ref" href="#229hw" title='hw' data-ref="229hw">hw</a>);</td></tr>
<tr><th id="1979">1979</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col2 decl" id="232clk_oe_bit" title='clk_oe_bit' data-type='u32' data-ref="232clk_oe_bit">clk_oe_bit</dfn> = <a class="macro" href="ixgbe_type.h.html#213" title="(((hw))-&gt;mvals[IXGBE_I2C_CLK_OE_N_EN_IDX])" data-ref="_M/IXGBE_I2C_CLK_OE_N_EN">IXGBE_I2C_CLK_OE_N_EN</a>(<a class="local col9 ref" href="#229hw" title='hw' data-ref="229hw">hw</a>);</td></tr>
<tr><th id="1980">1980</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col3 decl" id="233bb_en_bit" title='bb_en_bit' data-type='u32' data-ref="233bb_en_bit">bb_en_bit</dfn> = <a class="macro" href="ixgbe_type.h.html#206" title="(((hw))-&gt;mvals[IXGBE_I2C_BB_EN_IDX])" data-ref="_M/IXGBE_I2C_BB_EN">IXGBE_I2C_BB_EN</a>(<a class="local col9 ref" href="#229hw" title='hw' data-ref="229hw">hw</a>);</td></tr>
<tr><th id="1981">1981</th><td></td></tr>
<tr><th id="1982">1982</th><td>	<i>/* Stop condition must begin with data low and clock high */</i></td></tr>
<tr><th id="1983">1983</th><td>	<a class="tu ref fn" href="#ixgbe_set_i2c_data" title='ixgbe_set_i2c_data' data-use='c' data-ref="ixgbe_set_i2c_data">ixgbe_set_i2c_data</a>(<a class="local col9 ref" href="#229hw" title='hw' data-ref="229hw">hw</a>, &amp;<a class="local col0 ref" href="#230i2cctl" title='i2cctl' data-ref="230i2cctl">i2cctl</a>, <var>0</var>);</td></tr>
<tr><th id="1984">1984</th><td>	<a class="tu ref fn" href="#ixgbe_raise_i2c_clk" title='ixgbe_raise_i2c_clk' data-use='c' data-ref="ixgbe_raise_i2c_clk">ixgbe_raise_i2c_clk</a>(<a class="local col9 ref" href="#229hw" title='hw' data-ref="229hw">hw</a>, &amp;<a class="local col0 ref" href="#230i2cctl" title='i2cctl' data-ref="230i2cctl">i2cctl</a>);</td></tr>
<tr><th id="1985">1985</th><td></td></tr>
<tr><th id="1986">1986</th><td>	<i>/* Setup time for stop condition (4us) */</i></td></tr>
<tr><th id="1987">1987</th><td>	<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(4)) { if ((4) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((4) * 0x10c7ul); } else { __udelay(4); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#137" title="4" data-ref="_M/IXGBE_I2C_T_SU_STO">IXGBE_I2C_T_SU_STO</a>);</td></tr>
<tr><th id="1988">1988</th><td></td></tr>
<tr><th id="1989">1989</th><td>	<a class="tu ref fn" href="#ixgbe_set_i2c_data" title='ixgbe_set_i2c_data' data-use='c' data-ref="ixgbe_set_i2c_data">ixgbe_set_i2c_data</a>(<a class="local col9 ref" href="#229hw" title='hw' data-ref="229hw">hw</a>, &amp;<a class="local col0 ref" href="#230i2cctl" title='i2cctl' data-ref="230i2cctl">i2cctl</a>, <var>1</var>);</td></tr>
<tr><th id="1990">1990</th><td></td></tr>
<tr><th id="1991">1991</th><td>	<i>/* bus free time between stop and start (4.7us)*/</i></td></tr>
<tr><th id="1992">1992</th><td>	<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(5)) { if ((5) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((5) * 0x10c7ul); } else { __udelay(5); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#138" title="5" data-ref="_M/IXGBE_I2C_T_BUF">IXGBE_I2C_T_BUF</a>);</td></tr>
<tr><th id="1993">1993</th><td></td></tr>
<tr><th id="1994">1994</th><td>	<b>if</b> (<a class="local col3 ref" href="#233bb_en_bit" title='bb_en_bit' data-ref="233bb_en_bit">bb_en_bit</a> || <a class="local col1 ref" href="#231data_oe_bit" title='data_oe_bit' data-ref="231data_oe_bit">data_oe_bit</a> || <a class="local col2 ref" href="#232clk_oe_bit" title='clk_oe_bit' data-ref="232clk_oe_bit">clk_oe_bit</a>) {</td></tr>
<tr><th id="1995">1995</th><td>		<a class="local col0 ref" href="#230i2cctl" title='i2cctl' data-ref="230i2cctl">i2cctl</a> &amp;= ~<a class="local col3 ref" href="#233bb_en_bit" title='bb_en_bit' data-ref="233bb_en_bit">bb_en_bit</a>;</td></tr>
<tr><th id="1996">1996</th><td>		<a class="local col0 ref" href="#230i2cctl" title='i2cctl' data-ref="230i2cctl">i2cctl</a> |= <a class="local col1 ref" href="#231data_oe_bit" title='data_oe_bit' data-ref="231data_oe_bit">data_oe_bit</a> | <a class="local col2 ref" href="#232clk_oe_bit" title='clk_oe_bit' data-ref="232clk_oe_bit">clk_oe_bit</a>;</td></tr>
<tr><th id="1997">1997</th><td>		<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])), (i2cctl))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col9 ref" href="#229hw" title='hw' data-ref="229hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col9 ref" href="#229hw" title='hw' data-ref="229hw">hw</a>), <a class="local col0 ref" href="#230i2cctl" title='i2cctl' data-ref="230i2cctl">i2cctl</a>);</td></tr>
<tr><th id="1998">1998</th><td>		<a class="macro" href="ixgbe_common.h.html#200" title="ixgbe_read_reg((hw), 0x00008)" data-ref="_M/IXGBE_WRITE_FLUSH">IXGBE_WRITE_FLUSH</a>(<a class="local col9 ref" href="#229hw" title='hw' data-ref="229hw">hw</a>);</td></tr>
<tr><th id="1999">1999</th><td>	}</td></tr>
<tr><th id="2000">2000</th><td>}</td></tr>
<tr><th id="2001">2001</th><td></td></tr>
<tr><th id="2002">2002</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_byte">/**</i></td></tr>
<tr><th id="2003">2003</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_byte"> *  ixgbe_clock_in_i2c_byte - Clocks in one byte via I2C</i></td></tr>
<tr><th id="2004">2004</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_byte"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2005">2005</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_byte"> *  <span class="command">@data</span>: data byte to clock in</i></td></tr>
<tr><th id="2006">2006</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_byte"> *</i></td></tr>
<tr><th id="2007">2007</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_byte"> *  Clocks in one byte data via I2C data/clock</i></td></tr>
<tr><th id="2008">2008</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_byte"> **/</i></td></tr>
<tr><th id="2009">2009</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_clock_in_i2c_byte" title='ixgbe_clock_in_i2c_byte' data-type='s32 ixgbe_clock_in_i2c_byte(struct ixgbe_hw * hw, u8 * data)' data-ref="ixgbe_clock_in_i2c_byte">ixgbe_clock_in_i2c_byte</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col4 decl" id="234hw" title='hw' data-type='struct ixgbe_hw *' data-ref="234hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> *<dfn class="local col5 decl" id="235data" title='data' data-type='u8 *' data-ref="235data">data</dfn>)</td></tr>
<tr><th id="2010">2010</th><td>{</td></tr>
<tr><th id="2011">2011</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col6 decl" id="236i" title='i' data-type='s32' data-ref="236i">i</dfn>;</td></tr>
<tr><th id="2012">2012</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col7 decl" id="237bit" title='bit' data-type='bool' data-ref="237bit">bit</dfn> = <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="2013">2013</th><td></td></tr>
<tr><th id="2014">2014</th><td>	*<a class="local col5 ref" href="#235data" title='data' data-ref="235data">data</a> = <var>0</var>;</td></tr>
<tr><th id="2015">2015</th><td>	<b>for</b> (<a class="local col6 ref" href="#236i" title='i' data-ref="236i">i</a> = <var>7</var>; <a class="local col6 ref" href="#236i" title='i' data-ref="236i">i</a> &gt;= <var>0</var>; <a class="local col6 ref" href="#236i" title='i' data-ref="236i">i</a>--) {</td></tr>
<tr><th id="2016">2016</th><td>		<a class="tu ref fn" href="#ixgbe_clock_in_i2c_bit" title='ixgbe_clock_in_i2c_bit' data-use='c' data-ref="ixgbe_clock_in_i2c_bit">ixgbe_clock_in_i2c_bit</a>(<a class="local col4 ref" href="#234hw" title='hw' data-ref="234hw">hw</a>, &amp;<a class="local col7 ref" href="#237bit" title='bit' data-ref="237bit">bit</a>);</td></tr>
<tr><th id="2017">2017</th><td>		*<a class="local col5 ref" href="#235data" title='data' data-ref="235data">data</a> |= <a class="local col7 ref" href="#237bit" title='bit' data-ref="237bit">bit</a> &lt;&lt; <a class="local col6 ref" href="#236i" title='i' data-ref="236i">i</a>;</td></tr>
<tr><th id="2018">2018</th><td>	}</td></tr>
<tr><th id="2019">2019</th><td></td></tr>
<tr><th id="2020">2020</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2021">2021</th><td>}</td></tr>
<tr><th id="2022">2022</th><td></td></tr>
<tr><th id="2023">2023</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_byte">/**</i></td></tr>
<tr><th id="2024">2024</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_byte"> *  ixgbe_clock_out_i2c_byte - Clocks out one byte via I2C</i></td></tr>
<tr><th id="2025">2025</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_byte"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2026">2026</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_byte"> *  <span class="command">@data</span>: data byte clocked out</i></td></tr>
<tr><th id="2027">2027</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_byte"> *</i></td></tr>
<tr><th id="2028">2028</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_byte"> *  Clocks out one byte data via I2C data/clock</i></td></tr>
<tr><th id="2029">2029</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_byte"> **/</i></td></tr>
<tr><th id="2030">2030</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_clock_out_i2c_byte" title='ixgbe_clock_out_i2c_byte' data-type='s32 ixgbe_clock_out_i2c_byte(struct ixgbe_hw * hw, u8 data)' data-ref="ixgbe_clock_out_i2c_byte">ixgbe_clock_out_i2c_byte</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col8 decl" id="238hw" title='hw' data-type='struct ixgbe_hw *' data-ref="238hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='unsigned char' data-ref="u8">u8</a> <dfn class="local col9 decl" id="239data" title='data' data-type='u8' data-ref="239data">data</dfn>)</td></tr>
<tr><th id="2031">2031</th><td>{</td></tr>
<tr><th id="2032">2032</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col0 decl" id="240status" title='status' data-type='s32' data-ref="240status">status</dfn>;</td></tr>
<tr><th id="2033">2033</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col1 decl" id="241i" title='i' data-type='s32' data-ref="241i">i</dfn>;</td></tr>
<tr><th id="2034">2034</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col2 decl" id="242i2cctl" title='i2cctl' data-type='u32' data-ref="242i2cctl">i2cctl</dfn>;</td></tr>
<tr><th id="2035">2035</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col3 decl" id="243bit" title='bit' data-type='bool' data-ref="243bit">bit</dfn> = <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="2036">2036</th><td></td></tr>
<tr><th id="2037">2037</th><td>	<b>for</b> (<a class="local col1 ref" href="#241i" title='i' data-ref="241i">i</a> = <var>7</var>; <a class="local col1 ref" href="#241i" title='i' data-ref="241i">i</a> &gt;= <var>0</var>; <a class="local col1 ref" href="#241i" title='i' data-ref="241i">i</a>--) {</td></tr>
<tr><th id="2038">2038</th><td>		<a class="local col3 ref" href="#243bit" title='bit' data-ref="243bit">bit</a> = (<a class="local col9 ref" href="#239data" title='data' data-ref="239data">data</a> &gt;&gt; <a class="local col1 ref" href="#241i" title='i' data-ref="241i">i</a>) &amp; <var>0x1</var>;</td></tr>
<tr><th id="2039">2039</th><td>		<a class="local col0 ref" href="#240status" title='status' data-ref="240status">status</a> = <a class="tu ref fn" href="#ixgbe_clock_out_i2c_bit" title='ixgbe_clock_out_i2c_bit' data-use='c' data-ref="ixgbe_clock_out_i2c_bit">ixgbe_clock_out_i2c_bit</a>(<a class="local col8 ref" href="#238hw" title='hw' data-ref="238hw">hw</a>, <a class="local col3 ref" href="#243bit" title='bit' data-ref="243bit">bit</a>);</td></tr>
<tr><th id="2040">2040</th><td></td></tr>
<tr><th id="2041">2041</th><td>		<b>if</b> (<a class="local col0 ref" href="#240status" title='status' data-ref="240status">status</a> != <var>0</var>)</td></tr>
<tr><th id="2042">2042</th><td>			<b>break</b>;</td></tr>
<tr><th id="2043">2043</th><td>	}</td></tr>
<tr><th id="2044">2044</th><td></td></tr>
<tr><th id="2045">2045</th><td>	<i>/* Release SDA line (set high) */</i></td></tr>
<tr><th id="2046">2046</th><td>	<a class="local col2 ref" href="#242i2cctl" title='i2cctl' data-ref="242i2cctl">i2cctl</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col8 ref" href="#238hw" title='hw' data-ref="238hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col8 ref" href="#238hw" title='hw' data-ref="238hw">hw</a>));</td></tr>
<tr><th id="2047">2047</th><td>	<a class="local col2 ref" href="#242i2cctl" title='i2cctl' data-ref="242i2cctl">i2cctl</a> |= <a class="macro" href="ixgbe_type.h.html#192" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_OUT_IDX])" data-ref="_M/IXGBE_I2C_DATA_OUT">IXGBE_I2C_DATA_OUT</a>(<a class="local col8 ref" href="#238hw" title='hw' data-ref="238hw">hw</a>);</td></tr>
<tr><th id="2048">2048</th><td>	<a class="local col2 ref" href="#242i2cctl" title='i2cctl' data-ref="242i2cctl">i2cctl</a> |= <a class="macro" href="ixgbe_type.h.html#199" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_OE_N_EN_IDX])" data-ref="_M/IXGBE_I2C_DATA_OE_N_EN">IXGBE_I2C_DATA_OE_N_EN</a>(<a class="local col8 ref" href="#238hw" title='hw' data-ref="238hw">hw</a>);</td></tr>
<tr><th id="2049">2049</th><td>	<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])), (i2cctl))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col8 ref" href="#238hw" title='hw' data-ref="238hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col8 ref" href="#238hw" title='hw' data-ref="238hw">hw</a>), <a class="local col2 ref" href="#242i2cctl" title='i2cctl' data-ref="242i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2050">2050</th><td>	<a class="macro" href="ixgbe_common.h.html#200" title="ixgbe_read_reg((hw), 0x00008)" data-ref="_M/IXGBE_WRITE_FLUSH">IXGBE_WRITE_FLUSH</a>(<a class="local col8 ref" href="#238hw" title='hw' data-ref="238hw">hw</a>);</td></tr>
<tr><th id="2051">2051</th><td></td></tr>
<tr><th id="2052">2052</th><td>	<b>return</b> <a class="local col0 ref" href="#240status" title='status' data-ref="240status">status</a>;</td></tr>
<tr><th id="2053">2053</th><td>}</td></tr>
<tr><th id="2054">2054</th><td></td></tr>
<tr><th id="2055">2055</th><td><i class="doc" data-doc="ixgbe_get_i2c_ack">/**</i></td></tr>
<tr><th id="2056">2056</th><td><i class="doc" data-doc="ixgbe_get_i2c_ack"> *  ixgbe_get_i2c_ack - Polls for I2C ACK</i></td></tr>
<tr><th id="2057">2057</th><td><i class="doc" data-doc="ixgbe_get_i2c_ack"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2058">2058</th><td><i class="doc" data-doc="ixgbe_get_i2c_ack"> *</i></td></tr>
<tr><th id="2059">2059</th><td><i class="doc" data-doc="ixgbe_get_i2c_ack"> *  Clocks in/out one bit via I2C data/clock</i></td></tr>
<tr><th id="2060">2060</th><td><i class="doc" data-doc="ixgbe_get_i2c_ack"> **/</i></td></tr>
<tr><th id="2061">2061</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_get_i2c_ack" title='ixgbe_get_i2c_ack' data-type='s32 ixgbe_get_i2c_ack(struct ixgbe_hw * hw)' data-ref="ixgbe_get_i2c_ack">ixgbe_get_i2c_ack</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col4 decl" id="244hw" title='hw' data-type='struct ixgbe_hw *' data-ref="244hw">hw</dfn>)</td></tr>
<tr><th id="2062">2062</th><td>{</td></tr>
<tr><th id="2063">2063</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col5 decl" id="245data_oe_bit" title='data_oe_bit' data-type='u32' data-ref="245data_oe_bit">data_oe_bit</dfn> = <a class="macro" href="ixgbe_type.h.html#199" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_OE_N_EN_IDX])" data-ref="_M/IXGBE_I2C_DATA_OE_N_EN">IXGBE_I2C_DATA_OE_N_EN</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>);</td></tr>
<tr><th id="2064">2064</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col6 decl" id="246status" title='status' data-type='s32' data-ref="246status">status</dfn> = <var>0</var>;</td></tr>
<tr><th id="2065">2065</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col7 decl" id="247i" title='i' data-type='u32' data-ref="247i">i</dfn> = <var>0</var>;</td></tr>
<tr><th id="2066">2066</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col8 decl" id="248i2cctl" title='i2cctl' data-type='u32' data-ref="248i2cctl">i2cctl</dfn> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>));</td></tr>
<tr><th id="2067">2067</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col9 decl" id="249timeout" title='timeout' data-type='u32' data-ref="249timeout">timeout</dfn> = <var>10</var>;</td></tr>
<tr><th id="2068">2068</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col0 decl" id="250ack" title='ack' data-type='bool' data-ref="250ack">ack</dfn> = <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="2069">2069</th><td></td></tr>
<tr><th id="2070">2070</th><td>	<b>if</b> (<a class="local col5 ref" href="#245data_oe_bit" title='data_oe_bit' data-ref="245data_oe_bit">data_oe_bit</a>) {</td></tr>
<tr><th id="2071">2071</th><td>		<a class="local col8 ref" href="#248i2cctl" title='i2cctl' data-ref="248i2cctl">i2cctl</a> |= <a class="macro" href="ixgbe_type.h.html#192" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_OUT_IDX])" data-ref="_M/IXGBE_I2C_DATA_OUT">IXGBE_I2C_DATA_OUT</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>);</td></tr>
<tr><th id="2072">2072</th><td>		<a class="local col8 ref" href="#248i2cctl" title='i2cctl' data-ref="248i2cctl">i2cctl</a> |= <a class="local col5 ref" href="#245data_oe_bit" title='data_oe_bit' data-ref="245data_oe_bit">data_oe_bit</a>;</td></tr>
<tr><th id="2073">2073</th><td>		<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])), (i2cctl))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>), <a class="local col8 ref" href="#248i2cctl" title='i2cctl' data-ref="248i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2074">2074</th><td>		<a class="macro" href="ixgbe_common.h.html#200" title="ixgbe_read_reg((hw), 0x00008)" data-ref="_M/IXGBE_WRITE_FLUSH">IXGBE_WRITE_FLUSH</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>);</td></tr>
<tr><th id="2075">2075</th><td>	}</td></tr>
<tr><th id="2076">2076</th><td>	<a class="tu ref fn" href="#ixgbe_raise_i2c_clk" title='ixgbe_raise_i2c_clk' data-use='c' data-ref="ixgbe_raise_i2c_clk">ixgbe_raise_i2c_clk</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>, &amp;<a class="local col8 ref" href="#248i2cctl" title='i2cctl' data-ref="248i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2077">2077</th><td></td></tr>
<tr><th id="2078">2078</th><td>	<i>/* Minimum high period of clock is 4us */</i></td></tr>
<tr><th id="2079">2079</th><td>	<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(4)) { if ((4) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((4) * 0x10c7ul); } else { __udelay(4); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#131" title="4" data-ref="_M/IXGBE_I2C_T_HIGH">IXGBE_I2C_T_HIGH</a>);</td></tr>
<tr><th id="2080">2080</th><td></td></tr>
<tr><th id="2081">2081</th><td>	<i>/* Poll for ACK.  Note that ACK in I2C spec is</i></td></tr>
<tr><th id="2082">2082</th><td><i>	 * transition from 1 to 0 */</i></td></tr>
<tr><th id="2083">2083</th><td>	<b>for</b> (<a class="local col7 ref" href="#247i" title='i' data-ref="247i">i</a> = <var>0</var>; <a class="local col7 ref" href="#247i" title='i' data-ref="247i">i</a> &lt; <a class="local col9 ref" href="#249timeout" title='timeout' data-ref="249timeout">timeout</a>; <a class="local col7 ref" href="#247i" title='i' data-ref="247i">i</a>++) {</td></tr>
<tr><th id="2084">2084</th><td>		<a class="local col8 ref" href="#248i2cctl" title='i2cctl' data-ref="248i2cctl">i2cctl</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>));</td></tr>
<tr><th id="2085">2085</th><td>		<a class="local col0 ref" href="#250ack" title='ack' data-ref="250ack">ack</a> = <a class="tu ref fn" href="#ixgbe_get_i2c_data" title='ixgbe_get_i2c_data' data-use='c' data-ref="ixgbe_get_i2c_data">ixgbe_get_i2c_data</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>, &amp;<a class="local col8 ref" href="#248i2cctl" title='i2cctl' data-ref="248i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2086">2086</th><td></td></tr>
<tr><th id="2087">2087</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(1)) { if ((1) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((1) * 0x10c7ul); } else { __udelay(1); } })" data-ref="_M/udelay">udelay</a>(<var>1</var>);</td></tr>
<tr><th id="2088">2088</th><td>		<b>if</b> (<a class="local col0 ref" href="#250ack" title='ack' data-ref="250ack">ack</a> == <var>0</var>)</td></tr>
<tr><th id="2089">2089</th><td>			<b>break</b>;</td></tr>
<tr><th id="2090">2090</th><td>	}</td></tr>
<tr><th id="2091">2091</th><td></td></tr>
<tr><th id="2092">2092</th><td>	<b>if</b> (<a class="local col0 ref" href="#250ack" title='ack' data-ref="250ack">ack</a> == <var>1</var>) {</td></tr>
<tr><th id="2093">2093</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;I2C ack was not received.\n&quot;); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>, <q>"I2C ack was not received.\n"</q>);</td></tr>
<tr><th id="2094">2094</th><td>		<a class="local col6 ref" href="#246status" title='status' data-ref="246status">status</a> = <a class="macro" href="ixgbe_type.h.html#3660" title="-18" data-ref="_M/IXGBE_ERR_I2C">IXGBE_ERR_I2C</a>;</td></tr>
<tr><th id="2095">2095</th><td>	}</td></tr>
<tr><th id="2096">2096</th><td></td></tr>
<tr><th id="2097">2097</th><td>	<a class="tu ref fn" href="#ixgbe_lower_i2c_clk" title='ixgbe_lower_i2c_clk' data-use='c' data-ref="ixgbe_lower_i2c_clk">ixgbe_lower_i2c_clk</a>(<a class="local col4 ref" href="#244hw" title='hw' data-ref="244hw">hw</a>, &amp;<a class="local col8 ref" href="#248i2cctl" title='i2cctl' data-ref="248i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2098">2098</th><td></td></tr>
<tr><th id="2099">2099</th><td>	<i>/* Minimum low period of clock is 4.7 us */</i></td></tr>
<tr><th id="2100">2100</th><td>	<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(5)) { if ((5) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((5) * 0x10c7ul); } else { __udelay(5); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#130" title="5" data-ref="_M/IXGBE_I2C_T_LOW">IXGBE_I2C_T_LOW</a>);</td></tr>
<tr><th id="2101">2101</th><td></td></tr>
<tr><th id="2102">2102</th><td>	<b>return</b> <a class="local col6 ref" href="#246status" title='status' data-ref="246status">status</a>;</td></tr>
<tr><th id="2103">2103</th><td>}</td></tr>
<tr><th id="2104">2104</th><td></td></tr>
<tr><th id="2105">2105</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_bit">/**</i></td></tr>
<tr><th id="2106">2106</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_bit"> *  ixgbe_clock_in_i2c_bit - Clocks in one bit via I2C data/clock</i></td></tr>
<tr><th id="2107">2107</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_bit"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2108">2108</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_bit"> *  <span class="command">@data</span>: read data value</i></td></tr>
<tr><th id="2109">2109</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_bit"> *</i></td></tr>
<tr><th id="2110">2110</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_bit"> *  Clocks in one bit via I2C data/clock</i></td></tr>
<tr><th id="2111">2111</th><td><i class="doc" data-doc="ixgbe_clock_in_i2c_bit"> **/</i></td></tr>
<tr><th id="2112">2112</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_clock_in_i2c_bit" title='ixgbe_clock_in_i2c_bit' data-type='s32 ixgbe_clock_in_i2c_bit(struct ixgbe_hw * hw, bool * data)' data-ref="ixgbe_clock_in_i2c_bit">ixgbe_clock_in_i2c_bit</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col1 decl" id="251hw" title='hw' data-type='struct ixgbe_hw *' data-ref="251hw">hw</dfn>, <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> *<dfn class="local col2 decl" id="252data" title='data' data-type='bool *' data-ref="252data">data</dfn>)</td></tr>
<tr><th id="2113">2113</th><td>{</td></tr>
<tr><th id="2114">2114</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col3 decl" id="253i2cctl" title='i2cctl' data-type='u32' data-ref="253i2cctl">i2cctl</dfn> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>));</td></tr>
<tr><th id="2115">2115</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col4 decl" id="254data_oe_bit" title='data_oe_bit' data-type='u32' data-ref="254data_oe_bit">data_oe_bit</dfn> = <a class="macro" href="ixgbe_type.h.html#199" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_OE_N_EN_IDX])" data-ref="_M/IXGBE_I2C_DATA_OE_N_EN">IXGBE_I2C_DATA_OE_N_EN</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>);</td></tr>
<tr><th id="2116">2116</th><td></td></tr>
<tr><th id="2117">2117</th><td>	<b>if</b> (<a class="local col4 ref" href="#254data_oe_bit" title='data_oe_bit' data-ref="254data_oe_bit">data_oe_bit</a>) {</td></tr>
<tr><th id="2118">2118</th><td>		<a class="local col3 ref" href="#253i2cctl" title='i2cctl' data-ref="253i2cctl">i2cctl</a> |= <a class="macro" href="ixgbe_type.h.html#192" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_OUT_IDX])" data-ref="_M/IXGBE_I2C_DATA_OUT">IXGBE_I2C_DATA_OUT</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>);</td></tr>
<tr><th id="2119">2119</th><td>		<a class="local col3 ref" href="#253i2cctl" title='i2cctl' data-ref="253i2cctl">i2cctl</a> |= <a class="local col4 ref" href="#254data_oe_bit" title='data_oe_bit' data-ref="254data_oe_bit">data_oe_bit</a>;</td></tr>
<tr><th id="2120">2120</th><td>		<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])), (i2cctl))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>), <a class="local col3 ref" href="#253i2cctl" title='i2cctl' data-ref="253i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2121">2121</th><td>		<a class="macro" href="ixgbe_common.h.html#200" title="ixgbe_read_reg((hw), 0x00008)" data-ref="_M/IXGBE_WRITE_FLUSH">IXGBE_WRITE_FLUSH</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>);</td></tr>
<tr><th id="2122">2122</th><td>	}</td></tr>
<tr><th id="2123">2123</th><td>	<a class="tu ref fn" href="#ixgbe_raise_i2c_clk" title='ixgbe_raise_i2c_clk' data-use='c' data-ref="ixgbe_raise_i2c_clk">ixgbe_raise_i2c_clk</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>, &amp;<a class="local col3 ref" href="#253i2cctl" title='i2cctl' data-ref="253i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2124">2124</th><td></td></tr>
<tr><th id="2125">2125</th><td>	<i>/* Minimum high period of clock is 4us */</i></td></tr>
<tr><th id="2126">2126</th><td>	<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(4)) { if ((4) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((4) * 0x10c7ul); } else { __udelay(4); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#131" title="4" data-ref="_M/IXGBE_I2C_T_HIGH">IXGBE_I2C_T_HIGH</a>);</td></tr>
<tr><th id="2127">2127</th><td></td></tr>
<tr><th id="2128">2128</th><td>	<a class="local col3 ref" href="#253i2cctl" title='i2cctl' data-ref="253i2cctl">i2cctl</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>));</td></tr>
<tr><th id="2129">2129</th><td>	*<a class="local col2 ref" href="#252data" title='data' data-ref="252data">data</a> = <a class="tu ref fn" href="#ixgbe_get_i2c_data" title='ixgbe_get_i2c_data' data-use='c' data-ref="ixgbe_get_i2c_data">ixgbe_get_i2c_data</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>, &amp;<a class="local col3 ref" href="#253i2cctl" title='i2cctl' data-ref="253i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2130">2130</th><td></td></tr>
<tr><th id="2131">2131</th><td>	<a class="tu ref fn" href="#ixgbe_lower_i2c_clk" title='ixgbe_lower_i2c_clk' data-use='c' data-ref="ixgbe_lower_i2c_clk">ixgbe_lower_i2c_clk</a>(<a class="local col1 ref" href="#251hw" title='hw' data-ref="251hw">hw</a>, &amp;<a class="local col3 ref" href="#253i2cctl" title='i2cctl' data-ref="253i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2132">2132</th><td></td></tr>
<tr><th id="2133">2133</th><td>	<i>/* Minimum low period of clock is 4.7 us */</i></td></tr>
<tr><th id="2134">2134</th><td>	<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(5)) { if ((5) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((5) * 0x10c7ul); } else { __udelay(5); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#130" title="5" data-ref="_M/IXGBE_I2C_T_LOW">IXGBE_I2C_T_LOW</a>);</td></tr>
<tr><th id="2135">2135</th><td></td></tr>
<tr><th id="2136">2136</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2137">2137</th><td>}</td></tr>
<tr><th id="2138">2138</th><td></td></tr>
<tr><th id="2139">2139</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_bit">/**</i></td></tr>
<tr><th id="2140">2140</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_bit"> *  ixgbe_clock_out_i2c_bit - Clocks in/out one bit via I2C data/clock</i></td></tr>
<tr><th id="2141">2141</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_bit"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2142">2142</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_bit"> *  <span class="command">@data</span>: data value to write</i></td></tr>
<tr><th id="2143">2143</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_bit"> *</i></td></tr>
<tr><th id="2144">2144</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_bit"> *  Clocks out one bit via I2C data/clock</i></td></tr>
<tr><th id="2145">2145</th><td><i class="doc" data-doc="ixgbe_clock_out_i2c_bit"> **/</i></td></tr>
<tr><th id="2146">2146</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_clock_out_i2c_bit" title='ixgbe_clock_out_i2c_bit' data-type='s32 ixgbe_clock_out_i2c_bit(struct ixgbe_hw * hw, bool data)' data-ref="ixgbe_clock_out_i2c_bit">ixgbe_clock_out_i2c_bit</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col5 decl" id="255hw" title='hw' data-type='struct ixgbe_hw *' data-ref="255hw">hw</dfn>, <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col6 decl" id="256data" title='data' data-type='bool' data-ref="256data">data</dfn>)</td></tr>
<tr><th id="2147">2147</th><td>{</td></tr>
<tr><th id="2148">2148</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="local col7 decl" id="257status" title='status' data-type='s32' data-ref="257status">status</dfn>;</td></tr>
<tr><th id="2149">2149</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col8 decl" id="258i2cctl" title='i2cctl' data-type='u32' data-ref="258i2cctl">i2cctl</dfn> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col5 ref" href="#255hw" title='hw' data-ref="255hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col5 ref" href="#255hw" title='hw' data-ref="255hw">hw</a>));</td></tr>
<tr><th id="2150">2150</th><td></td></tr>
<tr><th id="2151">2151</th><td>	<a class="local col7 ref" href="#257status" title='status' data-ref="257status">status</a> = <a class="tu ref fn" href="#ixgbe_set_i2c_data" title='ixgbe_set_i2c_data' data-use='c' data-ref="ixgbe_set_i2c_data">ixgbe_set_i2c_data</a>(<a class="local col5 ref" href="#255hw" title='hw' data-ref="255hw">hw</a>, &amp;<a class="local col8 ref" href="#258i2cctl" title='i2cctl' data-ref="258i2cctl">i2cctl</a>, <a class="local col6 ref" href="#256data" title='data' data-ref="256data">data</a>);</td></tr>
<tr><th id="2152">2152</th><td>	<b>if</b> (<a class="local col7 ref" href="#257status" title='status' data-ref="257status">status</a> == <var>0</var>) {</td></tr>
<tr><th id="2153">2153</th><td>		<a class="tu ref fn" href="#ixgbe_raise_i2c_clk" title='ixgbe_raise_i2c_clk' data-use='c' data-ref="ixgbe_raise_i2c_clk">ixgbe_raise_i2c_clk</a>(<a class="local col5 ref" href="#255hw" title='hw' data-ref="255hw">hw</a>, &amp;<a class="local col8 ref" href="#258i2cctl" title='i2cctl' data-ref="258i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2154">2154</th><td></td></tr>
<tr><th id="2155">2155</th><td>		<i>/* Minimum high period of clock is 4us */</i></td></tr>
<tr><th id="2156">2156</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(4)) { if ((4) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((4) * 0x10c7ul); } else { __udelay(4); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#131" title="4" data-ref="_M/IXGBE_I2C_T_HIGH">IXGBE_I2C_T_HIGH</a>);</td></tr>
<tr><th id="2157">2157</th><td></td></tr>
<tr><th id="2158">2158</th><td>		<a class="tu ref fn" href="#ixgbe_lower_i2c_clk" title='ixgbe_lower_i2c_clk' data-use='c' data-ref="ixgbe_lower_i2c_clk">ixgbe_lower_i2c_clk</a>(<a class="local col5 ref" href="#255hw" title='hw' data-ref="255hw">hw</a>, &amp;<a class="local col8 ref" href="#258i2cctl" title='i2cctl' data-ref="258i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2159">2159</th><td></td></tr>
<tr><th id="2160">2160</th><td>		<i>/* Minimum low period of clock is 4.7 us.</i></td></tr>
<tr><th id="2161">2161</th><td><i>		 * This also takes care of the data hold time.</i></td></tr>
<tr><th id="2162">2162</th><td><i>		 */</i></td></tr>
<tr><th id="2163">2163</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(5)) { if ((5) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((5) * 0x10c7ul); } else { __udelay(5); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#130" title="5" data-ref="_M/IXGBE_I2C_T_LOW">IXGBE_I2C_T_LOW</a>);</td></tr>
<tr><th id="2164">2164</th><td>	} <b>else</b> {</td></tr>
<tr><th id="2165">2165</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;I2C data was not set to %X\n&quot;, data); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col5 ref" href="#255hw" title='hw' data-ref="255hw">hw</a>, <q>"I2C data was not set to %X\n"</q>, <a class="local col6 ref" href="#256data" title='data' data-ref="256data">data</a>);</td></tr>
<tr><th id="2166">2166</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3660" title="-18" data-ref="_M/IXGBE_ERR_I2C">IXGBE_ERR_I2C</a>;</td></tr>
<tr><th id="2167">2167</th><td>	}</td></tr>
<tr><th id="2168">2168</th><td></td></tr>
<tr><th id="2169">2169</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2170">2170</th><td>}</td></tr>
<tr><th id="2171">2171</th><td><i class="doc" data-doc="ixgbe_raise_i2c_clk">/**</i></td></tr>
<tr><th id="2172">2172</th><td><i class="doc" data-doc="ixgbe_raise_i2c_clk"> *  ixgbe_raise_i2c_clk - Raises the I2C SCL clock</i></td></tr>
<tr><th id="2173">2173</th><td><i class="doc" data-doc="ixgbe_raise_i2c_clk"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2174">2174</th><td><i class="doc" data-doc="ixgbe_raise_i2c_clk"> * <span class="command"> @i2cctl</span>: Current value of I2CCTL register</i></td></tr>
<tr><th id="2175">2175</th><td><i class="doc" data-doc="ixgbe_raise_i2c_clk"> *</i></td></tr>
<tr><th id="2176">2176</th><td><i class="doc" data-doc="ixgbe_raise_i2c_clk"> *  Raises the I2C clock line '0'-&gt;'1'</i></td></tr>
<tr><th id="2177">2177</th><td><i class="doc" data-doc="ixgbe_raise_i2c_clk"> *  Negates the I2C clock output enable on X550 hardware.</i></td></tr>
<tr><th id="2178">2178</th><td><i class="doc" data-doc="ixgbe_raise_i2c_clk"> **/</i></td></tr>
<tr><th id="2179">2179</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="ixgbe_raise_i2c_clk" title='ixgbe_raise_i2c_clk' data-type='void ixgbe_raise_i2c_clk(struct ixgbe_hw * hw, u32 * i2cctl)' data-ref="ixgbe_raise_i2c_clk">ixgbe_raise_i2c_clk</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col9 decl" id="259hw" title='hw' data-type='struct ixgbe_hw *' data-ref="259hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> *<dfn class="local col0 decl" id="260i2cctl" title='i2cctl' data-type='u32 *' data-ref="260i2cctl">i2cctl</dfn>)</td></tr>
<tr><th id="2180">2180</th><td>{</td></tr>
<tr><th id="2181">2181</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col1 decl" id="261clk_oe_bit" title='clk_oe_bit' data-type='u32' data-ref="261clk_oe_bit">clk_oe_bit</dfn> = <a class="macro" href="ixgbe_type.h.html#213" title="(((hw))-&gt;mvals[IXGBE_I2C_CLK_OE_N_EN_IDX])" data-ref="_M/IXGBE_I2C_CLK_OE_N_EN">IXGBE_I2C_CLK_OE_N_EN</a>(<a class="local col9 ref" href="#259hw" title='hw' data-ref="259hw">hw</a>);</td></tr>
<tr><th id="2182">2182</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col2 decl" id="262i" title='i' data-type='u32' data-ref="262i">i</dfn> = <var>0</var>;</td></tr>
<tr><th id="2183">2183</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col3 decl" id="263timeout" title='timeout' data-type='u32' data-ref="263timeout">timeout</dfn> = <a class="macro" href="ixgbe_type.h.html#215" title="500" data-ref="_M/IXGBE_I2C_CLOCK_STRETCHING_TIMEOUT">IXGBE_I2C_CLOCK_STRETCHING_TIMEOUT</a>;</td></tr>
<tr><th id="2184">2184</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col4 decl" id="264i2cctl_r" title='i2cctl_r' data-type='u32' data-ref="264i2cctl_r">i2cctl_r</dfn> = <var>0</var>;</td></tr>
<tr><th id="2185">2185</th><td></td></tr>
<tr><th id="2186">2186</th><td>	<b>if</b> (<a class="local col1 ref" href="#261clk_oe_bit" title='clk_oe_bit' data-ref="261clk_oe_bit">clk_oe_bit</a>) {</td></tr>
<tr><th id="2187">2187</th><td>		*<a class="local col0 ref" href="#260i2cctl" title='i2cctl' data-ref="260i2cctl">i2cctl</a> |= <a class="local col1 ref" href="#261clk_oe_bit" title='clk_oe_bit' data-ref="261clk_oe_bit">clk_oe_bit</a>;</td></tr>
<tr><th id="2188">2188</th><td>		<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])), (*i2cctl))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col9 ref" href="#259hw" title='hw' data-ref="259hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col9 ref" href="#259hw" title='hw' data-ref="259hw">hw</a>), *<a class="local col0 ref" href="#260i2cctl" title='i2cctl' data-ref="260i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2189">2189</th><td>	}</td></tr>
<tr><th id="2190">2190</th><td></td></tr>
<tr><th id="2191">2191</th><td>	<b>for</b> (<a class="local col2 ref" href="#262i" title='i' data-ref="262i">i</a> = <var>0</var>; <a class="local col2 ref" href="#262i" title='i' data-ref="262i">i</a> &lt; <a class="local col3 ref" href="#263timeout" title='timeout' data-ref="263timeout">timeout</a>; <a class="local col2 ref" href="#262i" title='i' data-ref="262i">i</a>++) {</td></tr>
<tr><th id="2192">2192</th><td>		*<a class="local col0 ref" href="#260i2cctl" title='i2cctl' data-ref="260i2cctl">i2cctl</a> |= <a class="macro" href="ixgbe_type.h.html#178" title="(((hw))-&gt;mvals[IXGBE_I2C_CLK_OUT_IDX])" data-ref="_M/IXGBE_I2C_CLK_OUT">IXGBE_I2C_CLK_OUT</a>(<a class="local col9 ref" href="#259hw" title='hw' data-ref="259hw">hw</a>);</td></tr>
<tr><th id="2193">2193</th><td>		<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])), (*i2cctl))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col9 ref" href="#259hw" title='hw' data-ref="259hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col9 ref" href="#259hw" title='hw' data-ref="259hw">hw</a>), *<a class="local col0 ref" href="#260i2cctl" title='i2cctl' data-ref="260i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2194">2194</th><td>		<a class="macro" href="ixgbe_common.h.html#200" title="ixgbe_read_reg((hw), 0x00008)" data-ref="_M/IXGBE_WRITE_FLUSH">IXGBE_WRITE_FLUSH</a>(<a class="local col9 ref" href="#259hw" title='hw' data-ref="259hw">hw</a>);</td></tr>
<tr><th id="2195">2195</th><td>		<i>/* SCL rise time (1000ns) */</i></td></tr>
<tr><th id="2196">2196</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(1)) { if ((1) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((1) * 0x10c7ul); } else { __udelay(1); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#135" title="1" data-ref="_M/IXGBE_I2C_T_RISE">IXGBE_I2C_T_RISE</a>);</td></tr>
<tr><th id="2197">2197</th><td></td></tr>
<tr><th id="2198">2198</th><td>		<a class="local col4 ref" href="#264i2cctl_r" title='i2cctl_r' data-ref="264i2cctl_r">i2cctl_r</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col9 ref" href="#259hw" title='hw' data-ref="259hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col9 ref" href="#259hw" title='hw' data-ref="259hw">hw</a>));</td></tr>
<tr><th id="2199">2199</th><td>		<b>if</b> (<a class="local col4 ref" href="#264i2cctl_r" title='i2cctl_r' data-ref="264i2cctl_r">i2cctl_r</a> &amp; <a class="macro" href="ixgbe_type.h.html#171" title="(((hw))-&gt;mvals[IXGBE_I2C_CLK_IN_IDX])" data-ref="_M/IXGBE_I2C_CLK_IN">IXGBE_I2C_CLK_IN</a>(<a class="local col9 ref" href="#259hw" title='hw' data-ref="259hw">hw</a>))</td></tr>
<tr><th id="2200">2200</th><td>			<b>break</b>;</td></tr>
<tr><th id="2201">2201</th><td>	}</td></tr>
<tr><th id="2202">2202</th><td>}</td></tr>
<tr><th id="2203">2203</th><td></td></tr>
<tr><th id="2204">2204</th><td><i class="doc" data-doc="ixgbe_lower_i2c_clk">/**</i></td></tr>
<tr><th id="2205">2205</th><td><i class="doc" data-doc="ixgbe_lower_i2c_clk"> *  ixgbe_lower_i2c_clk - Lowers the I2C SCL clock</i></td></tr>
<tr><th id="2206">2206</th><td><i class="doc" data-doc="ixgbe_lower_i2c_clk"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2207">2207</th><td><i class="doc" data-doc="ixgbe_lower_i2c_clk"> * <span class="command"> @i2cctl</span>: Current value of I2CCTL register</i></td></tr>
<tr><th id="2208">2208</th><td><i class="doc" data-doc="ixgbe_lower_i2c_clk"> *</i></td></tr>
<tr><th id="2209">2209</th><td><i class="doc" data-doc="ixgbe_lower_i2c_clk"> *  Lowers the I2C clock line '1'-&gt;'0'</i></td></tr>
<tr><th id="2210">2210</th><td><i class="doc" data-doc="ixgbe_lower_i2c_clk"> *  Asserts the I2C clock output enable on X550 hardware.</i></td></tr>
<tr><th id="2211">2211</th><td><i class="doc" data-doc="ixgbe_lower_i2c_clk"> **/</i></td></tr>
<tr><th id="2212">2212</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="ixgbe_lower_i2c_clk" title='ixgbe_lower_i2c_clk' data-type='void ixgbe_lower_i2c_clk(struct ixgbe_hw * hw, u32 * i2cctl)' data-ref="ixgbe_lower_i2c_clk">ixgbe_lower_i2c_clk</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col5 decl" id="265hw" title='hw' data-type='struct ixgbe_hw *' data-ref="265hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> *<dfn class="local col6 decl" id="266i2cctl" title='i2cctl' data-type='u32 *' data-ref="266i2cctl">i2cctl</dfn>)</td></tr>
<tr><th id="2213">2213</th><td>{</td></tr>
<tr><th id="2214">2214</th><td></td></tr>
<tr><th id="2215">2215</th><td>	*<a class="local col6 ref" href="#266i2cctl" title='i2cctl' data-ref="266i2cctl">i2cctl</a> &amp;= ~<a class="macro" href="ixgbe_type.h.html#178" title="(((hw))-&gt;mvals[IXGBE_I2C_CLK_OUT_IDX])" data-ref="_M/IXGBE_I2C_CLK_OUT">IXGBE_I2C_CLK_OUT</a>(<a class="local col5 ref" href="#265hw" title='hw' data-ref="265hw">hw</a>);</td></tr>
<tr><th id="2216">2216</th><td>	*<a class="local col6 ref" href="#266i2cctl" title='i2cctl' data-ref="266i2cctl">i2cctl</a> &amp;= ~<a class="macro" href="ixgbe_type.h.html#213" title="(((hw))-&gt;mvals[IXGBE_I2C_CLK_OE_N_EN_IDX])" data-ref="_M/IXGBE_I2C_CLK_OE_N_EN">IXGBE_I2C_CLK_OE_N_EN</a>(<a class="local col5 ref" href="#265hw" title='hw' data-ref="265hw">hw</a>);</td></tr>
<tr><th id="2217">2217</th><td></td></tr>
<tr><th id="2218">2218</th><td>	<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])), (*i2cctl))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col5 ref" href="#265hw" title='hw' data-ref="265hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col5 ref" href="#265hw" title='hw' data-ref="265hw">hw</a>), *<a class="local col6 ref" href="#266i2cctl" title='i2cctl' data-ref="266i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2219">2219</th><td>	<a class="macro" href="ixgbe_common.h.html#200" title="ixgbe_read_reg((hw), 0x00008)" data-ref="_M/IXGBE_WRITE_FLUSH">IXGBE_WRITE_FLUSH</a>(<a class="local col5 ref" href="#265hw" title='hw' data-ref="265hw">hw</a>);</td></tr>
<tr><th id="2220">2220</th><td></td></tr>
<tr><th id="2221">2221</th><td>	<i>/* SCL fall time (300ns) */</i></td></tr>
<tr><th id="2222">2222</th><td>	<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(1)) { if ((1) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((1) * 0x10c7ul); } else { __udelay(1); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#136" title="1" data-ref="_M/IXGBE_I2C_T_FALL">IXGBE_I2C_T_FALL</a>);</td></tr>
<tr><th id="2223">2223</th><td>}</td></tr>
<tr><th id="2224">2224</th><td></td></tr>
<tr><th id="2225">2225</th><td><i class="doc" data-doc="ixgbe_set_i2c_data">/**</i></td></tr>
<tr><th id="2226">2226</th><td><i class="doc" data-doc="ixgbe_set_i2c_data"> *  ixgbe_set_i2c_data - Sets the I2C data bit</i></td></tr>
<tr><th id="2227">2227</th><td><i class="doc" data-doc="ixgbe_set_i2c_data"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2228">2228</th><td><i class="doc" data-doc="ixgbe_set_i2c_data"> * <span class="command"> @i2cctl</span>: Current value of I2CCTL register</i></td></tr>
<tr><th id="2229">2229</th><td><i class="doc" data-doc="ixgbe_set_i2c_data"> *  <span class="command">@data</span>: I2C data value (0 or 1) to set</i></td></tr>
<tr><th id="2230">2230</th><td><i class="doc" data-doc="ixgbe_set_i2c_data"> *</i></td></tr>
<tr><th id="2231">2231</th><td><i class="doc" data-doc="ixgbe_set_i2c_data"> *  Sets the I2C data bit</i></td></tr>
<tr><th id="2232">2232</th><td><i class="doc" data-doc="ixgbe_set_i2c_data"> *  Asserts the I2C data output enable on X550 hardware.</i></td></tr>
<tr><th id="2233">2233</th><td><i class="doc" data-doc="ixgbe_set_i2c_data"> **/</i></td></tr>
<tr><th id="2234">2234</th><td><em>static</em> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="tu decl def fn" id="ixgbe_set_i2c_data" title='ixgbe_set_i2c_data' data-type='s32 ixgbe_set_i2c_data(struct ixgbe_hw * hw, u32 * i2cctl, bool data)' data-ref="ixgbe_set_i2c_data">ixgbe_set_i2c_data</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col7 decl" id="267hw" title='hw' data-type='struct ixgbe_hw *' data-ref="267hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> *<dfn class="local col8 decl" id="268i2cctl" title='i2cctl' data-type='u32 *' data-ref="268i2cctl">i2cctl</dfn>, <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col9 decl" id="269data" title='data' data-type='bool' data-ref="269data">data</dfn>)</td></tr>
<tr><th id="2235">2235</th><td>{</td></tr>
<tr><th id="2236">2236</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col0 decl" id="270data_oe_bit" title='data_oe_bit' data-type='u32' data-ref="270data_oe_bit">data_oe_bit</dfn> = <a class="macro" href="ixgbe_type.h.html#199" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_OE_N_EN_IDX])" data-ref="_M/IXGBE_I2C_DATA_OE_N_EN">IXGBE_I2C_DATA_OE_N_EN</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>);</td></tr>
<tr><th id="2237">2237</th><td></td></tr>
<tr><th id="2238">2238</th><td>	<b>if</b> (<a class="local col9 ref" href="#269data" title='data' data-ref="269data">data</a>)</td></tr>
<tr><th id="2239">2239</th><td>		*<a class="local col8 ref" href="#268i2cctl" title='i2cctl' data-ref="268i2cctl">i2cctl</a> |= <a class="macro" href="ixgbe_type.h.html#192" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_OUT_IDX])" data-ref="_M/IXGBE_I2C_DATA_OUT">IXGBE_I2C_DATA_OUT</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>);</td></tr>
<tr><th id="2240">2240</th><td>	<b>else</b></td></tr>
<tr><th id="2241">2241</th><td>		*<a class="local col8 ref" href="#268i2cctl" title='i2cctl' data-ref="268i2cctl">i2cctl</a> &amp;= ~<a class="macro" href="ixgbe_type.h.html#192" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_OUT_IDX])" data-ref="_M/IXGBE_I2C_DATA_OUT">IXGBE_I2C_DATA_OUT</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>);</td></tr>
<tr><th id="2242">2242</th><td>	*<a class="local col8 ref" href="#268i2cctl" title='i2cctl' data-ref="268i2cctl">i2cctl</a> &amp;= ~<a class="local col0 ref" href="#270data_oe_bit" title='data_oe_bit' data-ref="270data_oe_bit">data_oe_bit</a>;</td></tr>
<tr><th id="2243">2243</th><td></td></tr>
<tr><th id="2244">2244</th><td>	<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])), (*i2cctl))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>), *<a class="local col8 ref" href="#268i2cctl" title='i2cctl' data-ref="268i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2245">2245</th><td>	<a class="macro" href="ixgbe_common.h.html#200" title="ixgbe_read_reg((hw), 0x00008)" data-ref="_M/IXGBE_WRITE_FLUSH">IXGBE_WRITE_FLUSH</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>);</td></tr>
<tr><th id="2246">2246</th><td></td></tr>
<tr><th id="2247">2247</th><td>	<i>/* Data rise/fall (1000ns/300ns) and set-up time (250ns) */</i></td></tr>
<tr><th id="2248">2248</th><td>	<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(1 + 1 + 1)) { if ((1 + 1 + 1) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((1 + 1 + 1) * 0x10c7ul); } else { __udelay(1 + 1 + 1); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#135" title="1" data-ref="_M/IXGBE_I2C_T_RISE">IXGBE_I2C_T_RISE</a> + <a class="macro" href="ixgbe_phy.h.html#136" title="1" data-ref="_M/IXGBE_I2C_T_FALL">IXGBE_I2C_T_FALL</a> + <a class="macro" href="ixgbe_phy.h.html#134" title="1" data-ref="_M/IXGBE_I2C_T_SU_DATA">IXGBE_I2C_T_SU_DATA</a>);</td></tr>
<tr><th id="2249">2249</th><td></td></tr>
<tr><th id="2250">2250</th><td>	<b>if</b> (!<a class="local col9 ref" href="#269data" title='data' data-ref="269data">data</a>)	<i>/* Can't verify data in this case */</i></td></tr>
<tr><th id="2251">2251</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2252">2252</th><td>	<b>if</b> (<a class="local col0 ref" href="#270data_oe_bit" title='data_oe_bit' data-ref="270data_oe_bit">data_oe_bit</a>) {</td></tr>
<tr><th id="2253">2253</th><td>		*<a class="local col8 ref" href="#268i2cctl" title='i2cctl' data-ref="268i2cctl">i2cctl</a> |= <a class="local col0 ref" href="#270data_oe_bit" title='data_oe_bit' data-ref="270data_oe_bit">data_oe_bit</a>;</td></tr>
<tr><th id="2254">2254</th><td>		<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])), (*i2cctl))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>), *<a class="local col8 ref" href="#268i2cctl" title='i2cctl' data-ref="268i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2255">2255</th><td>		<a class="macro" href="ixgbe_common.h.html#200" title="ixgbe_read_reg((hw), 0x00008)" data-ref="_M/IXGBE_WRITE_FLUSH">IXGBE_WRITE_FLUSH</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>);</td></tr>
<tr><th id="2256">2256</th><td>	}</td></tr>
<tr><th id="2257">2257</th><td></td></tr>
<tr><th id="2258">2258</th><td>	<i>/* Verify data was set correctly */</i></td></tr>
<tr><th id="2259">2259</th><td>	*<a class="local col8 ref" href="#268i2cctl" title='i2cctl' data-ref="268i2cctl">i2cctl</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>));</td></tr>
<tr><th id="2260">2260</th><td>	<b>if</b> (<a class="local col9 ref" href="#269data" title='data' data-ref="269data">data</a> != <a class="tu ref fn" href="#ixgbe_get_i2c_data" title='ixgbe_get_i2c_data' data-use='c' data-ref="ixgbe_get_i2c_data">ixgbe_get_i2c_data</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>, <a class="local col8 ref" href="#268i2cctl" title='i2cctl' data-ref="268i2cctl">i2cctl</a>)) {</td></tr>
<tr><th id="2261">2261</th><td>		<a class="macro" href="ixgbe_common.h.html#204" title="({ if (0) netdev_printk(&quot;\001&quot; &quot;7&quot;, (((struct ixgbe_adapter *)(hw)-&gt;back)-&gt;netdev), &quot;Error - I2C data was not set to %X.\n&quot;, data); })" data-ref="_M/hw_dbg">hw_dbg</a>(<a class="local col7 ref" href="#267hw" title='hw' data-ref="267hw">hw</a>, <q>"Error - I2C data was not set to %X.\n"</q>, <a class="local col9 ref" href="#269data" title='data' data-ref="269data">data</a>);</td></tr>
<tr><th id="2262">2262</th><td>		<b>return</b> <a class="macro" href="ixgbe_type.h.html#3660" title="-18" data-ref="_M/IXGBE_ERR_I2C">IXGBE_ERR_I2C</a>;</td></tr>
<tr><th id="2263">2263</th><td>	}</td></tr>
<tr><th id="2264">2264</th><td></td></tr>
<tr><th id="2265">2265</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2266">2266</th><td>}</td></tr>
<tr><th id="2267">2267</th><td></td></tr>
<tr><th id="2268">2268</th><td><i class="doc" data-doc="ixgbe_get_i2c_data">/**</i></td></tr>
<tr><th id="2269">2269</th><td><i class="doc" data-doc="ixgbe_get_i2c_data"> *  ixgbe_get_i2c_data - Reads the I2C SDA data bit</i></td></tr>
<tr><th id="2270">2270</th><td><i class="doc" data-doc="ixgbe_get_i2c_data"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2271">2271</th><td><i class="doc" data-doc="ixgbe_get_i2c_data"> * <span class="command"> @i2cctl</span>: Current value of I2CCTL register</i></td></tr>
<tr><th id="2272">2272</th><td><i class="doc" data-doc="ixgbe_get_i2c_data"> *</i></td></tr>
<tr><th id="2273">2273</th><td><i class="doc" data-doc="ixgbe_get_i2c_data"> *  Returns the I2C data bit value</i></td></tr>
<tr><th id="2274">2274</th><td><i class="doc" data-doc="ixgbe_get_i2c_data"> *  Negates the I2C data output enable on X550 hardware.</i></td></tr>
<tr><th id="2275">2275</th><td><i class="doc" data-doc="ixgbe_get_i2c_data"> **/</i></td></tr>
<tr><th id="2276">2276</th><td><em>static</em> <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="tu decl def fn" id="ixgbe_get_i2c_data" title='ixgbe_get_i2c_data' data-type='bool ixgbe_get_i2c_data(struct ixgbe_hw * hw, u32 * i2cctl)' data-ref="ixgbe_get_i2c_data">ixgbe_get_i2c_data</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col1 decl" id="271hw" title='hw' data-type='struct ixgbe_hw *' data-ref="271hw">hw</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> *<dfn class="local col2 decl" id="272i2cctl" title='i2cctl' data-type='u32 *' data-ref="272i2cctl">i2cctl</dfn>)</td></tr>
<tr><th id="2277">2277</th><td>{</td></tr>
<tr><th id="2278">2278</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col3 decl" id="273data_oe_bit" title='data_oe_bit' data-type='u32' data-ref="273data_oe_bit">data_oe_bit</dfn> = <a class="macro" href="ixgbe_type.h.html#199" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_OE_N_EN_IDX])" data-ref="_M/IXGBE_I2C_DATA_OE_N_EN">IXGBE_I2C_DATA_OE_N_EN</a>(<a class="local col1 ref" href="#271hw" title='hw' data-ref="271hw">hw</a>);</td></tr>
<tr><th id="2279">2279</th><td></td></tr>
<tr><th id="2280">2280</th><td>	<b>if</b> (<a class="local col3 ref" href="#273data_oe_bit" title='data_oe_bit' data-ref="273data_oe_bit">data_oe_bit</a>) {</td></tr>
<tr><th id="2281">2281</th><td>		*<a class="local col2 ref" href="#272i2cctl" title='i2cctl' data-ref="272i2cctl">i2cctl</a> |= <a class="local col3 ref" href="#273data_oe_bit" title='data_oe_bit' data-ref="273data_oe_bit">data_oe_bit</a>;</td></tr>
<tr><th id="2282">2282</th><td>		<a class="macro" href="ixgbe_common.h.html#170" title="ixgbe_write_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])), (*i2cctl))" data-ref="_M/IXGBE_WRITE_REG">IXGBE_WRITE_REG</a>(<a class="local col1 ref" href="#271hw" title='hw' data-ref="271hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col1 ref" href="#271hw" title='hw' data-ref="271hw">hw</a>), *<a class="local col2 ref" href="#272i2cctl" title='i2cctl' data-ref="272i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2283">2283</th><td>		<a class="macro" href="ixgbe_common.h.html#200" title="ixgbe_read_reg((hw), 0x00008)" data-ref="_M/IXGBE_WRITE_FLUSH">IXGBE_WRITE_FLUSH</a>(<a class="local col1 ref" href="#271hw" title='hw' data-ref="271hw">hw</a>);</td></tr>
<tr><th id="2284">2284</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(1)) { if ((1) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((1) * 0x10c7ul); } else { __udelay(1); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#136" title="1" data-ref="_M/IXGBE_I2C_T_FALL">IXGBE_I2C_T_FALL</a>);</td></tr>
<tr><th id="2285">2285</th><td>	}</td></tr>
<tr><th id="2286">2286</th><td></td></tr>
<tr><th id="2287">2287</th><td>	<b>if</b> (*<a class="local col2 ref" href="#272i2cctl" title='i2cctl' data-ref="272i2cctl">i2cctl</a> &amp; <a class="macro" href="ixgbe_type.h.html#185" title="(((hw))-&gt;mvals[IXGBE_I2C_DATA_IN_IDX])" data-ref="_M/IXGBE_I2C_DATA_IN">IXGBE_I2C_DATA_IN</a>(<a class="local col1 ref" href="#271hw" title='hw' data-ref="271hw">hw</a>))</td></tr>
<tr><th id="2288">2288</th><td>		<b>return</b> <a class="enum" href="../../../../../include/linux/stddef.h.html#true" title='true' data-ref="true">true</a>;</td></tr>
<tr><th id="2289">2289</th><td>	<b>return</b> <a class="enum" href="../../../../../include/linux/stddef.h.html#false" title='false' data-ref="false">false</a>;</td></tr>
<tr><th id="2290">2290</th><td>}</td></tr>
<tr><th id="2291">2291</th><td></td></tr>
<tr><th id="2292">2292</th><td><i class="doc" data-doc="ixgbe_i2c_bus_clear">/**</i></td></tr>
<tr><th id="2293">2293</th><td><i class="doc" data-doc="ixgbe_i2c_bus_clear"> *  ixgbe_i2c_bus_clear - Clears the I2C bus</i></td></tr>
<tr><th id="2294">2294</th><td><i class="doc" data-doc="ixgbe_i2c_bus_clear"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2295">2295</th><td><i class="doc" data-doc="ixgbe_i2c_bus_clear"> *</i></td></tr>
<tr><th id="2296">2296</th><td><i class="doc" data-doc="ixgbe_i2c_bus_clear"> *  Clears the I2C bus by sending nine clock pulses.</i></td></tr>
<tr><th id="2297">2297</th><td><i class="doc" data-doc="ixgbe_i2c_bus_clear"> *  Used when data line is stuck low.</i></td></tr>
<tr><th id="2298">2298</th><td><i class="doc" data-doc="ixgbe_i2c_bus_clear"> **/</i></td></tr>
<tr><th id="2299">2299</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="ixgbe_i2c_bus_clear" title='ixgbe_i2c_bus_clear' data-type='void ixgbe_i2c_bus_clear(struct ixgbe_hw * hw)' data-ref="ixgbe_i2c_bus_clear">ixgbe_i2c_bus_clear</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col4 decl" id="274hw" title='hw' data-type='struct ixgbe_hw *' data-ref="274hw">hw</dfn>)</td></tr>
<tr><th id="2300">2300</th><td>{</td></tr>
<tr><th id="2301">2301</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col5 decl" id="275i2cctl" title='i2cctl' data-type='u32' data-ref="275i2cctl">i2cctl</dfn>;</td></tr>
<tr><th id="2302">2302</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col6 decl" id="276i" title='i' data-type='u32' data-ref="276i">i</dfn>;</td></tr>
<tr><th id="2303">2303</th><td></td></tr>
<tr><th id="2304">2304</th><td>	<a class="tu ref fn" href="#ixgbe_i2c_start" title='ixgbe_i2c_start' data-use='c' data-ref="ixgbe_i2c_start">ixgbe_i2c_start</a>(<a class="local col4 ref" href="#274hw" title='hw' data-ref="274hw">hw</a>);</td></tr>
<tr><th id="2305">2305</th><td>	<a class="local col5 ref" href="#275i2cctl" title='i2cctl' data-ref="275i2cctl">i2cctl</a> = <a class="macro" href="ixgbe_common.h.html#192" title="ixgbe_read_reg((hw), ((((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])))" data-ref="_M/IXGBE_READ_REG">IXGBE_READ_REG</a>(<a class="local col4 ref" href="#274hw" title='hw' data-ref="274hw">hw</a>, <a class="macro" href="ixgbe_type.h.html#122" title="(((hw))-&gt;mvals[IXGBE_I2CCTL_IDX])" data-ref="_M/IXGBE_I2CCTL">IXGBE_I2CCTL</a>(<a class="local col4 ref" href="#274hw" title='hw' data-ref="274hw">hw</a>));</td></tr>
<tr><th id="2306">2306</th><td></td></tr>
<tr><th id="2307">2307</th><td>	<a class="tu ref fn" href="#ixgbe_set_i2c_data" title='ixgbe_set_i2c_data' data-use='c' data-ref="ixgbe_set_i2c_data">ixgbe_set_i2c_data</a>(<a class="local col4 ref" href="#274hw" title='hw' data-ref="274hw">hw</a>, &amp;<a class="local col5 ref" href="#275i2cctl" title='i2cctl' data-ref="275i2cctl">i2cctl</a>, <var>1</var>);</td></tr>
<tr><th id="2308">2308</th><td></td></tr>
<tr><th id="2309">2309</th><td>	<b>for</b> (<a class="local col6 ref" href="#276i" title='i' data-ref="276i">i</a> = <var>0</var>; <a class="local col6 ref" href="#276i" title='i' data-ref="276i">i</a> &lt; <var>9</var>; <a class="local col6 ref" href="#276i" title='i' data-ref="276i">i</a>++) {</td></tr>
<tr><th id="2310">2310</th><td>		<a class="tu ref fn" href="#ixgbe_raise_i2c_clk" title='ixgbe_raise_i2c_clk' data-use='c' data-ref="ixgbe_raise_i2c_clk">ixgbe_raise_i2c_clk</a>(<a class="local col4 ref" href="#274hw" title='hw' data-ref="274hw">hw</a>, &amp;<a class="local col5 ref" href="#275i2cctl" title='i2cctl' data-ref="275i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2311">2311</th><td></td></tr>
<tr><th id="2312">2312</th><td>		<i>/* Min high period of clock is 4us */</i></td></tr>
<tr><th id="2313">2313</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(4)) { if ((4) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((4) * 0x10c7ul); } else { __udelay(4); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#131" title="4" data-ref="_M/IXGBE_I2C_T_HIGH">IXGBE_I2C_T_HIGH</a>);</td></tr>
<tr><th id="2314">2314</th><td></td></tr>
<tr><th id="2315">2315</th><td>		<a class="tu ref fn" href="#ixgbe_lower_i2c_clk" title='ixgbe_lower_i2c_clk' data-use='c' data-ref="ixgbe_lower_i2c_clk">ixgbe_lower_i2c_clk</a>(<a class="local col4 ref" href="#274hw" title='hw' data-ref="274hw">hw</a>, &amp;<a class="local col5 ref" href="#275i2cctl" title='i2cctl' data-ref="275i2cctl">i2cctl</a>);</td></tr>
<tr><th id="2316">2316</th><td></td></tr>
<tr><th id="2317">2317</th><td>		<i>/* Min low period of clock is 4.7us*/</i></td></tr>
<tr><th id="2318">2318</th><td>		<a class="macro" href="../../../../../include/asm-generic/delay.h.html#20" title="({ if (__builtin_constant_p(5)) { if ((5) / 20000 &gt;= 1) __bad_udelay(); else __const_udelay((5) * 0x10c7ul); } else { __udelay(5); } })" data-ref="_M/udelay">udelay</a>(<a class="macro" href="ixgbe_phy.h.html#130" title="5" data-ref="_M/IXGBE_I2C_T_LOW">IXGBE_I2C_T_LOW</a>);</td></tr>
<tr><th id="2319">2319</th><td>	}</td></tr>
<tr><th id="2320">2320</th><td></td></tr>
<tr><th id="2321">2321</th><td>	<a class="tu ref fn" href="#ixgbe_i2c_start" title='ixgbe_i2c_start' data-use='c' data-ref="ixgbe_i2c_start">ixgbe_i2c_start</a>(<a class="local col4 ref" href="#274hw" title='hw' data-ref="274hw">hw</a>);</td></tr>
<tr><th id="2322">2322</th><td></td></tr>
<tr><th id="2323">2323</th><td>	<i>/* Put the i2c bus back to default state */</i></td></tr>
<tr><th id="2324">2324</th><td>	<a class="tu ref fn" href="#ixgbe_i2c_stop" title='ixgbe_i2c_stop' data-use='c' data-ref="ixgbe_i2c_stop">ixgbe_i2c_stop</a>(<a class="local col4 ref" href="#274hw" title='hw' data-ref="274hw">hw</a>);</td></tr>
<tr><th id="2325">2325</th><td>}</td></tr>
<tr><th id="2326">2326</th><td></td></tr>
<tr><th id="2327">2327</th><td><i class="doc">/**</i></td></tr>
<tr><th id="2328">2328</th><td><i class="doc"> *  ixgbe_tn_check_overtemp - Checks if an overtemp occurred.</i></td></tr>
<tr><th id="2329">2329</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2330">2330</th><td><i class="doc"> *</i></td></tr>
<tr><th id="2331">2331</th><td><i class="doc"> *  Checks if the LASI temp alarm status was triggered due to overtemp</i></td></tr>
<tr><th id="2332">2332</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="2333">2333</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_tn_check_overtemp" title='ixgbe_tn_check_overtemp' data-ref="ixgbe_tn_check_overtemp">ixgbe_tn_check_overtemp</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col7 decl" id="277hw" title='hw' data-type='struct ixgbe_hw *' data-ref="277hw">hw</dfn>)</td></tr>
<tr><th id="2334">2334</th><td>{</td></tr>
<tr><th id="2335">2335</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col8 decl" id="278phy_data" title='phy_data' data-type='u16' data-ref="278phy_data">phy_data</dfn> = <var>0</var>;</td></tr>
<tr><th id="2336">2336</th><td></td></tr>
<tr><th id="2337">2337</th><td>	<b>if</b> (<a class="local col7 ref" href="#277hw" title='hw' data-ref="277hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::device_id" title='ixgbe_hw::device_id' data-ref="ixgbe_hw::device_id">device_id</a> != <a class="macro" href="ixgbe_type.h.html#52" title="0x151C" data-ref="_M/IXGBE_DEV_ID_82599_T3_LOM">IXGBE_DEV_ID_82599_T3_LOM</a>)</td></tr>
<tr><th id="2338">2338</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2339">2339</th><td></td></tr>
<tr><th id="2340">2340</th><td>	<i>/* Check that the LASI temp alarm status was triggered */</i></td></tr>
<tr><th id="2341">2341</th><td>	<a class="local col7 ref" href="#277hw" title='hw' data-ref="277hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col7 ref" href="#277hw" title='hw' data-ref="277hw">hw</a>, <a class="macro" href="ixgbe_phy.h.html#142" title="0x9005" data-ref="_M/IXGBE_TN_LASI_STATUS_REG">IXGBE_TN_LASI_STATUS_REG</a>,</td></tr>
<tr><th id="2342">2342</th><td>			     <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#18" title="1" data-ref="_M/MDIO_MMD_PMAPMD">MDIO_MMD_PMAPMD</a>, &amp;<a class="local col8 ref" href="#278phy_data" title='phy_data' data-ref="278phy_data">phy_data</a>);</td></tr>
<tr><th id="2343">2343</th><td></td></tr>
<tr><th id="2344">2344</th><td>	<b>if</b> (!(<a class="local col8 ref" href="#278phy_data" title='phy_data' data-ref="278phy_data">phy_data</a> &amp; <a class="macro" href="ixgbe_phy.h.html#143" title="0x0008" data-ref="_M/IXGBE_TN_LASI_STATUS_TEMP_ALARM">IXGBE_TN_LASI_STATUS_TEMP_ALARM</a>))</td></tr>
<tr><th id="2345">2345</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2346">2346</th><td></td></tr>
<tr><th id="2347">2347</th><td>	<b>return</b> <a class="macro" href="ixgbe_type.h.html#3668" title="-26" data-ref="_M/IXGBE_ERR_OVERTEMP">IXGBE_ERR_OVERTEMP</a>;</td></tr>
<tr><th id="2348">2348</th><td>}</td></tr>
<tr><th id="2349">2349</th><td></td></tr>
<tr><th id="2350">2350</th><td><i class="doc">/** ixgbe_set_copper_phy_power - Control power for copper phy</i></td></tr>
<tr><th id="2351">2351</th><td><i class="doc"> * <span class="command"> @hw</span>: pointer to hardware structure</i></td></tr>
<tr><th id="2352">2352</th><td><i class="doc"> *  <span class="command">@on</span>:<span class="verb"> true for on, false for off</span></i></td></tr>
<tr><th id="2353">2353</th><td><i class="doc"> **/</i></td></tr>
<tr><th id="2354">2354</th><td><a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#s32" title='s32' data-type='int' data-ref="s32">s32</a> <dfn class="decl def fn" id="ixgbe_set_copper_phy_power" title='ixgbe_set_copper_phy_power' data-ref="ixgbe_set_copper_phy_power">ixgbe_set_copper_phy_power</dfn>(<b>struct</b> <a class="type" href="ixgbe_type.h.html#ixgbe_hw" title='ixgbe_hw' data-ref="ixgbe_hw">ixgbe_hw</a> *<dfn class="local col9 decl" id="279hw" title='hw' data-type='struct ixgbe_hw *' data-ref="279hw">hw</dfn>, <a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col0 decl" id="280on" title='on' data-type='bool' data-ref="280on">on</dfn>)</td></tr>
<tr><th id="2355">2355</th><td>{</td></tr>
<tr><th id="2356">2356</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='unsigned int' data-ref="u32">u32</a> <dfn class="local col1 decl" id="281status" title='status' data-type='u32' data-ref="281status">status</dfn>;</td></tr>
<tr><th id="2357">2357</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='unsigned short' data-ref="u16">u16</a> <dfn class="local col2 decl" id="282reg" title='reg' data-type='u16' data-ref="282reg">reg</dfn>;</td></tr>
<tr><th id="2358">2358</th><td></td></tr>
<tr><th id="2359">2359</th><td>	<i>/* Bail if we don't have copper phy */</i></td></tr>
<tr><th id="2360">2360</th><td>	<b>if</b> (<a class="local col9 ref" href="#279hw" title='hw' data-ref="279hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::mac" title='ixgbe_hw::mac' data-ref="ixgbe_hw::mac">mac</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_info::ops" title='ixgbe_mac_info::ops' data-ref="ixgbe_mac_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_mac_operations::get_media_type" title='ixgbe_mac_operations::get_media_type' data-ref="ixgbe_mac_operations::get_media_type">get_media_type</a>(<a class="local col9 ref" href="#279hw" title='hw' data-ref="279hw">hw</a>) != <a class="enum" href="ixgbe_type.h.html#ixgbe_media_type_copper" title='ixgbe_media_type_copper' data-ref="ixgbe_media_type_copper">ixgbe_media_type_copper</a>)</td></tr>
<tr><th id="2361">2361</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2362">2362</th><td></td></tr>
<tr><th id="2363">2363</th><td>	<b>if</b> (!<a class="local col0 ref" href="#280on" title='on' data-ref="280on">on</a> &amp;&amp; <a class="ref fn" href="ixgbe_common.h.html#ixgbe_mng_present" title='ixgbe_mng_present' data-ref="ixgbe_mng_present">ixgbe_mng_present</a>(<a class="local col9 ref" href="#279hw" title='hw' data-ref="279hw">hw</a>))</td></tr>
<tr><th id="2364">2364</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2365">2365</th><td></td></tr>
<tr><th id="2366">2366</th><td>	<a class="local col1 ref" href="#281status" title='status' data-ref="281status">status</a> = <a class="local col9 ref" href="#279hw" title='hw' data-ref="279hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::read_reg" title='ixgbe_phy_operations::read_reg' data-ref="ixgbe_phy_operations::read_reg">read_reg</a>(<a class="local col9 ref" href="#279hw" title='hw' data-ref="279hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#31" title="0x00" data-ref="_M/MDIO_CTRL1">MDIO_CTRL1</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#27" title="30" data-ref="_M/MDIO_MMD_VEND1">MDIO_MMD_VEND1</a>, &amp;<a class="local col2 ref" href="#282reg" title='reg' data-ref="282reg">reg</a>);</td></tr>
<tr><th id="2367">2367</th><td>	<b>if</b> (<a class="local col1 ref" href="#281status" title='status' data-ref="281status">status</a>)</td></tr>
<tr><th id="2368">2368</th><td>		<b>return</b> <a class="local col1 ref" href="#281status" title='status' data-ref="281status">status</a>;</td></tr>
<tr><th id="2369">2369</th><td></td></tr>
<tr><th id="2370">2370</th><td>	<b>if</b> (<a class="local col0 ref" href="#280on" title='on' data-ref="280on">on</a>) {</td></tr>
<tr><th id="2371">2371</th><td>		<a class="local col2 ref" href="#282reg" title='reg' data-ref="282reg">reg</a> &amp;= ~<a class="macro" href="ixgbe_type.h.html#1336" title="0x0800" data-ref="_M/IXGBE_MDIO_PHY_SET_LOW_POWER_MODE">IXGBE_MDIO_PHY_SET_LOW_POWER_MODE</a>;</td></tr>
<tr><th id="2372">2372</th><td>	} <b>else</b> {</td></tr>
<tr><th id="2373">2373</th><td>		<b>if</b> (<a class="ref fn" href="#ixgbe_check_reset_blocked" title='ixgbe_check_reset_blocked' data-ref="ixgbe_check_reset_blocked">ixgbe_check_reset_blocked</a>(<a class="local col9 ref" href="#279hw" title='hw' data-ref="279hw">hw</a>))</td></tr>
<tr><th id="2374">2374</th><td>			<b>return</b> <var>0</var>;</td></tr>
<tr><th id="2375">2375</th><td>		<a class="local col2 ref" href="#282reg" title='reg' data-ref="282reg">reg</a> |= <a class="macro" href="ixgbe_type.h.html#1336" title="0x0800" data-ref="_M/IXGBE_MDIO_PHY_SET_LOW_POWER_MODE">IXGBE_MDIO_PHY_SET_LOW_POWER_MODE</a>;</td></tr>
<tr><th id="2376">2376</th><td>	}</td></tr>
<tr><th id="2377">2377</th><td></td></tr>
<tr><th id="2378">2378</th><td>	<a class="local col1 ref" href="#281status" title='status' data-ref="281status">status</a> = <a class="local col9 ref" href="#279hw" title='hw' data-ref="279hw">hw</a>-&gt;<a class="ref field" href="ixgbe_type.h.html#ixgbe_hw::phy" title='ixgbe_hw::phy' data-ref="ixgbe_hw::phy">phy</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_info::ops" title='ixgbe_phy_info::ops' data-ref="ixgbe_phy_info::ops">ops</a>.<a class="ref field" href="ixgbe_type.h.html#ixgbe_phy_operations::write_reg" title='ixgbe_phy_operations::write_reg' data-ref="ixgbe_phy_operations::write_reg">write_reg</a>(<a class="local col9 ref" href="#279hw" title='hw' data-ref="279hw">hw</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#31" title="0x00" data-ref="_M/MDIO_CTRL1">MDIO_CTRL1</a>, <a class="macro" href="../../../../../include/uapi/linux/mdio.h.html#27" title="30" data-ref="_M/MDIO_MMD_VEND1">MDIO_MMD_VEND1</a>, <a class="local col2 ref" href="#282reg" title='reg' data-ref="282reg">reg</a>);</td></tr>
<tr><th id="2379">2379</th><td>	<b>return</b> <a class="local col1 ref" href="#281status" title='status' data-ref="281status">status</a>;</td></tr>
<tr><th id="2380">2380</th><td>}</td></tr>
<tr><th id="2381">2381</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2018-Jul-30</em> from project linux-4.14.y revision <em>linux-4.14.y</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
