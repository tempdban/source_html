<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>tcpm.h source code [linux-4.18.y/include/linux/usb/tcpm.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="tcpc_config,tcpc_dev,tcpc_mux_mode,tcpm_transmit_status,tcpm_transmit_type,typec_cc_polarity,typec_cc_status "/>
<link rel="stylesheet" href="../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'linux-4.18.y/include/linux/usb/tcpm.h'; var root_path = '../../../..'; var data_path = '../../../../../data';</script>
<script src='../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>linux-4.18.y</a>/<a href='../..'>include</a>/<a href='..'>linux</a>/<a href='./'>usb</a>/<a href='tcpm.h.html'>tcpm.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Copyright 2015-2017 Google, Inc</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * This program is free software; you can redistribute it and/or modify</i></td></tr>
<tr><th id="5">5</th><td><i> * it under the terms of the GNU General Public License as published by</i></td></tr>
<tr><th id="6">6</th><td><i> * the Free Software Foundation; either version 2 of the License, or</i></td></tr>
<tr><th id="7">7</th><td><i> * (at your option) any later version.</i></td></tr>
<tr><th id="8">8</th><td><i> *</i></td></tr>
<tr><th id="9">9</th><td><i> * This program is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="10">10</th><td><i> * but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="11">11</th><td><i> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</i></td></tr>
<tr><th id="12">12</th><td><i> * GNU General Public License for more details.</i></td></tr>
<tr><th id="13">13</th><td><i> */</i></td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><u>#<span data-ppcond="15">ifndef</span> <span class="macro" data-ref="_M/__LINUX_USB_TCPM_H">__LINUX_USB_TCPM_H</span></u></td></tr>
<tr><th id="16">16</th><td><u>#define <dfn class="macro" id="_M/__LINUX_USB_TCPM_H" data-ref="_M/__LINUX_USB_TCPM_H">__LINUX_USB_TCPM_H</dfn></u></td></tr>
<tr><th id="17">17</th><td></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../bitops.h.html">&lt;linux/bitops.h&gt;</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="typec.h.html">&lt;linux/usb/typec.h&gt;</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="pd.h.html">"pd.h"</a></u></td></tr>
<tr><th id="21">21</th><td></td></tr>
<tr><th id="22">22</th><td><b>enum</b> <dfn class="type def" id="typec_cc_status" title='typec_cc_status' data-ref="typec_cc_status">typec_cc_status</dfn> {</td></tr>
<tr><th id="23">23</th><td>	<dfn class="enum" id="TYPEC_CC_OPEN" title='TYPEC_CC_OPEN' data-ref="TYPEC_CC_OPEN">TYPEC_CC_OPEN</dfn>,</td></tr>
<tr><th id="24">24</th><td>	<dfn class="enum" id="TYPEC_CC_RA" title='TYPEC_CC_RA' data-ref="TYPEC_CC_RA">TYPEC_CC_RA</dfn>,</td></tr>
<tr><th id="25">25</th><td>	<dfn class="enum" id="TYPEC_CC_RD" title='TYPEC_CC_RD' data-ref="TYPEC_CC_RD">TYPEC_CC_RD</dfn>,</td></tr>
<tr><th id="26">26</th><td>	<dfn class="enum" id="TYPEC_CC_RP_DEF" title='TYPEC_CC_RP_DEF' data-ref="TYPEC_CC_RP_DEF">TYPEC_CC_RP_DEF</dfn>,</td></tr>
<tr><th id="27">27</th><td>	<dfn class="enum" id="TYPEC_CC_RP_1_5" title='TYPEC_CC_RP_1_5' data-ref="TYPEC_CC_RP_1_5">TYPEC_CC_RP_1_5</dfn>,</td></tr>
<tr><th id="28">28</th><td>	<dfn class="enum" id="TYPEC_CC_RP_3_0" title='TYPEC_CC_RP_3_0' data-ref="TYPEC_CC_RP_3_0">TYPEC_CC_RP_3_0</dfn>,</td></tr>
<tr><th id="29">29</th><td>};</td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><b>enum</b> <dfn class="type def" id="typec_cc_polarity" title='typec_cc_polarity' data-ref="typec_cc_polarity">typec_cc_polarity</dfn> {</td></tr>
<tr><th id="32">32</th><td>	<dfn class="enum" id="TYPEC_POLARITY_CC1" title='TYPEC_POLARITY_CC1' data-ref="TYPEC_POLARITY_CC1">TYPEC_POLARITY_CC1</dfn>,</td></tr>
<tr><th id="33">33</th><td>	<dfn class="enum" id="TYPEC_POLARITY_CC2" title='TYPEC_POLARITY_CC2' data-ref="TYPEC_POLARITY_CC2">TYPEC_POLARITY_CC2</dfn>,</td></tr>
<tr><th id="34">34</th><td>};</td></tr>
<tr><th id="35">35</th><td></td></tr>
<tr><th id="36">36</th><td><i>/* Time to wait for TCPC to complete transmit */</i></td></tr>
<tr><th id="37">37</th><td><u>#define <dfn class="macro" id="_M/PD_T_TCPC_TX_TIMEOUT" data-ref="_M/PD_T_TCPC_TX_TIMEOUT">PD_T_TCPC_TX_TIMEOUT</dfn>	100		/* in ms	*/</u></td></tr>
<tr><th id="38">38</th><td><u>#define <dfn class="macro" id="_M/PD_ROLE_SWAP_TIMEOUT" data-ref="_M/PD_ROLE_SWAP_TIMEOUT">PD_ROLE_SWAP_TIMEOUT</dfn>	(MSEC_PER_SEC * 10)</u></td></tr>
<tr><th id="39">39</th><td><u>#define <dfn class="macro" id="_M/PD_PPS_CTRL_TIMEOUT" data-ref="_M/PD_PPS_CTRL_TIMEOUT">PD_PPS_CTRL_TIMEOUT</dfn>	(MSEC_PER_SEC * 10)</u></td></tr>
<tr><th id="40">40</th><td></td></tr>
<tr><th id="41">41</th><td><b>enum</b> <dfn class="type def" id="tcpm_transmit_status" title='tcpm_transmit_status' data-ref="tcpm_transmit_status">tcpm_transmit_status</dfn> {</td></tr>
<tr><th id="42">42</th><td>	<dfn class="enum" id="TCPC_TX_SUCCESS" title='TCPC_TX_SUCCESS' data-ref="TCPC_TX_SUCCESS">TCPC_TX_SUCCESS</dfn> = <var>0</var>,</td></tr>
<tr><th id="43">43</th><td>	<dfn class="enum" id="TCPC_TX_DISCARDED" title='TCPC_TX_DISCARDED' data-ref="TCPC_TX_DISCARDED">TCPC_TX_DISCARDED</dfn> = <var>1</var>,</td></tr>
<tr><th id="44">44</th><td>	<dfn class="enum" id="TCPC_TX_FAILED" title='TCPC_TX_FAILED' data-ref="TCPC_TX_FAILED">TCPC_TX_FAILED</dfn> = <var>2</var>,</td></tr>
<tr><th id="45">45</th><td>};</td></tr>
<tr><th id="46">46</th><td></td></tr>
<tr><th id="47">47</th><td><b>enum</b> <dfn class="type def" id="tcpm_transmit_type" title='tcpm_transmit_type' data-ref="tcpm_transmit_type">tcpm_transmit_type</dfn> {</td></tr>
<tr><th id="48">48</th><td>	<dfn class="enum" id="TCPC_TX_SOP" title='TCPC_TX_SOP' data-ref="TCPC_TX_SOP">TCPC_TX_SOP</dfn> = <var>0</var>,</td></tr>
<tr><th id="49">49</th><td>	<dfn class="enum" id="TCPC_TX_SOP_PRIME" title='TCPC_TX_SOP_PRIME' data-ref="TCPC_TX_SOP_PRIME">TCPC_TX_SOP_PRIME</dfn> = <var>1</var>,</td></tr>
<tr><th id="50">50</th><td>	<dfn class="enum" id="TCPC_TX_SOP_PRIME_PRIME" title='TCPC_TX_SOP_PRIME_PRIME' data-ref="TCPC_TX_SOP_PRIME_PRIME">TCPC_TX_SOP_PRIME_PRIME</dfn> = <var>2</var>,</td></tr>
<tr><th id="51">51</th><td>	<dfn class="enum" id="TCPC_TX_SOP_DEBUG_PRIME" title='TCPC_TX_SOP_DEBUG_PRIME' data-ref="TCPC_TX_SOP_DEBUG_PRIME">TCPC_TX_SOP_DEBUG_PRIME</dfn> = <var>3</var>,</td></tr>
<tr><th id="52">52</th><td>	<dfn class="enum" id="TCPC_TX_SOP_DEBUG_PRIME_PRIME" title='TCPC_TX_SOP_DEBUG_PRIME_PRIME' data-ref="TCPC_TX_SOP_DEBUG_PRIME_PRIME">TCPC_TX_SOP_DEBUG_PRIME_PRIME</dfn> = <var>4</var>,</td></tr>
<tr><th id="53">53</th><td>	<dfn class="enum" id="TCPC_TX_HARD_RESET" title='TCPC_TX_HARD_RESET' data-ref="TCPC_TX_HARD_RESET">TCPC_TX_HARD_RESET</dfn> = <var>5</var>,</td></tr>
<tr><th id="54">54</th><td>	<dfn class="enum" id="TCPC_TX_CABLE_RESET" title='TCPC_TX_CABLE_RESET' data-ref="TCPC_TX_CABLE_RESET">TCPC_TX_CABLE_RESET</dfn> = <var>6</var>,</td></tr>
<tr><th id="55">55</th><td>	<dfn class="enum" id="TCPC_TX_BIST_MODE_2" title='TCPC_TX_BIST_MODE_2' data-ref="TCPC_TX_BIST_MODE_2">TCPC_TX_BIST_MODE_2</dfn> = <var>7</var></td></tr>
<tr><th id="56">56</th><td>};</td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td><i class="doc">/**</i></td></tr>
<tr><th id="59">59</th><td><i class="doc"> * struct tcpc_config - Port configuration</i></td></tr>
<tr><th id="60">60</th><td><i class="doc"> *<span class="command"> @src</span>_pdo:	PDO parameters sent to port partner as response to</i></td></tr>
<tr><th id="61">61</th><td><i class="doc"> *		PD_CTRL_GET_SOURCE_CAP message</i></td></tr>
<tr><th id="62">62</th><td><i class="doc"> *<span class="command"> @nr</span>_src_pdo:	Number of entries in<span class="command"> @src</span>_pdo</i></td></tr>
<tr><th id="63">63</th><td><i class="doc"> *<span class="command"> @snk</span>_pdo:	PDO parameters sent to partner as response to</i></td></tr>
<tr><th id="64">64</th><td><i class="doc"> *		PD_CTRL_GET_SINK_CAP message</i></td></tr>
<tr><th id="65">65</th><td><i class="doc"> *<span class="command"> @nr</span>_snk_pdo:	Number of entries in<span class="command"> @snk</span>_pdo</i></td></tr>
<tr><th id="66">66</th><td><i class="doc"> *<span class="command"> @operating</span>_snk_mw:</i></td></tr>
<tr><th id="67">67</th><td><i class="doc"> *		Required operating sink power in mW</i></td></tr>
<tr><th id="68">68</th><td><i class="doc"> *<span class="command"> @type</span>:	Port type (TYPEC_PORT_DFP, TYPEC_PORT_UFP, or</i></td></tr>
<tr><th id="69">69</th><td><i class="doc"> *		TYPEC_PORT_DRP)</i></td></tr>
<tr><th id="70">70</th><td><i class="doc"> *<span class="command"> @default</span>_role:</i></td></tr>
<tr><th id="71">71</th><td><i class="doc"> *		Default port role (TYPEC_SINK or TYPEC_SOURCE).</i></td></tr>
<tr><th id="72">72</th><td><i class="doc"> *		Set to TYPEC_NO_PREFERRED_ROLE if no default role.</i></td></tr>
<tr><th id="73">73</th><td><i class="doc"> *<span class="command"> @try</span>_role_hw:True if try.{Src,Snk} is implemented in hardware</i></td></tr>
<tr><th id="74">74</th><td><i class="doc"> *<span class="command"> @alt</span>_modes:	List of supported alternate modes</i></td></tr>
<tr><th id="75">75</th><td><i class="doc"> */</i></td></tr>
<tr><th id="76">76</th><td><b>struct</b> <dfn class="type def" id="tcpc_config" title='tcpc_config' data-ref="tcpc_config">tcpc_config</dfn> {</td></tr>
<tr><th id="77">77</th><td>	<em>const</em> <a class="typedef" href="../../asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> *<dfn class="decl field" id="tcpc_config::src_pdo" title='tcpc_config::src_pdo' data-ref="tcpc_config::src_pdo">src_pdo</dfn>;</td></tr>
<tr><th id="78">78</th><td>	<em>unsigned</em> <em>int</em> <dfn class="decl field" id="tcpc_config::nr_src_pdo" title='tcpc_config::nr_src_pdo' data-ref="tcpc_config::nr_src_pdo">nr_src_pdo</dfn>;</td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td>	<em>const</em> <a class="typedef" href="../../asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> *<dfn class="decl field" id="tcpc_config::snk_pdo" title='tcpc_config::snk_pdo' data-ref="tcpc_config::snk_pdo">snk_pdo</dfn>;</td></tr>
<tr><th id="81">81</th><td>	<em>unsigned</em> <em>int</em> <dfn class="decl field" id="tcpc_config::nr_snk_pdo" title='tcpc_config::nr_snk_pdo' data-ref="tcpc_config::nr_snk_pdo">nr_snk_pdo</dfn>;</td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td>	<em>const</em> <a class="typedef" href="../../asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> *<dfn class="decl field" id="tcpc_config::snk_vdo" title='tcpc_config::snk_vdo' data-ref="tcpc_config::snk_vdo">snk_vdo</dfn>;</td></tr>
<tr><th id="84">84</th><td>	<em>unsigned</em> <em>int</em> <dfn class="decl field" id="tcpc_config::nr_snk_vdo" title='tcpc_config::nr_snk_vdo' data-ref="tcpc_config::nr_snk_vdo">nr_snk_vdo</dfn>;</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td>	<em>unsigned</em> <em>int</em> <dfn class="decl field" id="tcpc_config::operating_snk_mw" title='tcpc_config::operating_snk_mw' data-ref="tcpc_config::operating_snk_mw">operating_snk_mw</dfn>;</td></tr>
<tr><th id="87">87</th><td></td></tr>
<tr><th id="88">88</th><td>	<b>enum</b> <a class="type" href="typec.h.html#typec_port_type" title='typec_port_type' data-ref="typec_port_type">typec_port_type</a> <dfn class="decl field" id="tcpc_config::type" title='tcpc_config::type' data-ref="tcpc_config::type">type</dfn>;</td></tr>
<tr><th id="89">89</th><td>	<b>enum</b> <a class="type" href="typec.h.html#typec_port_data" title='typec_port_data' data-ref="typec_port_data">typec_port_data</a> <dfn class="decl field" id="tcpc_config::data" title='tcpc_config::data' data-ref="tcpc_config::data">data</dfn>;</td></tr>
<tr><th id="90">90</th><td>	<b>enum</b> <a class="type" href="typec.h.html#typec_role" title='typec_role' data-ref="typec_role">typec_role</a> <dfn class="decl field" id="tcpc_config::default_role" title='tcpc_config::default_role' data-ref="tcpc_config::default_role">default_role</dfn>;</td></tr>
<tr><th id="91">91</th><td>	<a class="typedef" href="../types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="decl field" id="tcpc_config::try_role_hw" title='tcpc_config::try_role_hw' data-ref="tcpc_config::try_role_hw">try_role_hw</dfn>;	<i>/* try.{src,snk} implemented in hardware */</i></td></tr>
<tr><th id="92">92</th><td></td></tr>
<tr><th id="93">93</th><td>	<em>const</em> <b>struct</b> <a class="type" href="typec.h.html#typec_altmode_desc" title='typec_altmode_desc' data-ref="typec_altmode_desc">typec_altmode_desc</a> *<dfn class="decl field" id="tcpc_config::alt_modes" title='tcpc_config::alt_modes' data-ref="tcpc_config::alt_modes">alt_modes</dfn>;</td></tr>
<tr><th id="94">94</th><td>};</td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td><i>/* Mux state attributes */</i></td></tr>
<tr><th id="97">97</th><td><u>#define <dfn class="macro" id="_M/TCPC_MUX_USB_ENABLED" data-ref="_M/TCPC_MUX_USB_ENABLED">TCPC_MUX_USB_ENABLED</dfn>		BIT(0)	/* USB enabled */</u></td></tr>
<tr><th id="98">98</th><td><u>#define <dfn class="macro" id="_M/TCPC_MUX_DP_ENABLED" data-ref="_M/TCPC_MUX_DP_ENABLED">TCPC_MUX_DP_ENABLED</dfn>		BIT(1)	/* DP enabled */</u></td></tr>
<tr><th id="99">99</th><td><u>#define <dfn class="macro" id="_M/TCPC_MUX_POLARITY_INVERTED" data-ref="_M/TCPC_MUX_POLARITY_INVERTED">TCPC_MUX_POLARITY_INVERTED</dfn>	BIT(2)	/* Polarity inverted */</u></td></tr>
<tr><th id="100">100</th><td></td></tr>
<tr><th id="101">101</th><td><i>/* Mux modes, decoded to attributes */</i></td></tr>
<tr><th id="102">102</th><td><b>enum</b> <dfn class="type def" id="tcpc_mux_mode" title='tcpc_mux_mode' data-ref="tcpc_mux_mode">tcpc_mux_mode</dfn> {</td></tr>
<tr><th id="103">103</th><td>	<dfn class="enum" id="TYPEC_MUX_NONE" title='TYPEC_MUX_NONE' data-ref="TYPEC_MUX_NONE">TYPEC_MUX_NONE</dfn>	= <var>0</var>,				<i>/* Open switch */</i></td></tr>
<tr><th id="104">104</th><td>	<dfn class="enum" id="TYPEC_MUX_USB" title='TYPEC_MUX_USB' data-ref="TYPEC_MUX_USB">TYPEC_MUX_USB</dfn>	= <a class="macro" href="#97" title="(1UL &lt;&lt; (0))" data-ref="_M/TCPC_MUX_USB_ENABLED">TCPC_MUX_USB_ENABLED</a>,		<i>/* USB only */</i></td></tr>
<tr><th id="105">105</th><td>	<dfn class="enum" id="TYPEC_MUX_DP" title='TYPEC_MUX_DP' data-ref="TYPEC_MUX_DP">TYPEC_MUX_DP</dfn>	= <a class="macro" href="#98" title="(1UL &lt;&lt; (1))" data-ref="_M/TCPC_MUX_DP_ENABLED">TCPC_MUX_DP_ENABLED</a>,		<i>/* DP only */</i></td></tr>
<tr><th id="106">106</th><td>	<dfn class="enum" id="TYPEC_MUX_DOCK" title='TYPEC_MUX_DOCK' data-ref="TYPEC_MUX_DOCK">TYPEC_MUX_DOCK</dfn>	= <a class="macro" href="#97" title="(1UL &lt;&lt; (0))" data-ref="_M/TCPC_MUX_USB_ENABLED">TCPC_MUX_USB_ENABLED</a> |	<i>/* Both USB and DP */</i></td></tr>
<tr><th id="107">107</th><td>			  <a class="macro" href="#98" title="(1UL &lt;&lt; (1))" data-ref="_M/TCPC_MUX_DP_ENABLED">TCPC_MUX_DP_ENABLED</a>,</td></tr>
<tr><th id="108">108</th><td>};</td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td><i class="doc">/**</i></td></tr>
<tr><th id="111">111</th><td><i class="doc"> * struct tcpc_dev - Port configuration and callback functions</i></td></tr>
<tr><th id="112">112</th><td><i class="doc"> *<span class="command"> @config</span>:	Pointer to port configuration</i></td></tr>
<tr><th id="113">113</th><td><i class="doc"> *<span class="command"> @get</span>_vbus:	Called to read current VBUS state</i></td></tr>
<tr><th id="114">114</th><td><i class="doc"> *<span class="command"> @get</span>_current_limit:</i></td></tr>
<tr><th id="115">115</th><td><i class="doc"> *		Optional; called by the tcpm core when configured as a snk</i></td></tr>
<tr><th id="116">116</th><td><i class="doc"> *		and cc=Rp-def. This allows the tcpm to provide a fallback</i></td></tr>
<tr><th id="117">117</th><td><i class="doc"> *		current-limit detection method for the cc=Rp-def case.</i></td></tr>
<tr><th id="118">118</th><td><i class="doc"> *		For example, some tcpcs may include BC1.2 charger detection</i></td></tr>
<tr><th id="119">119</th><td><i class="doc"> *		and use that in this case.</i></td></tr>
<tr><th id="120">120</th><td><i class="doc"> * <span class="command">@set</span>_cc:	Called to set value of CC pins</i></td></tr>
<tr><th id="121">121</th><td><i class="doc"> *<span class="command"> @get</span>_cc:	Called to read current CC pin values</i></td></tr>
<tr><th id="122">122</th><td><i class="doc"> * <span class="command">@set</span>_polarity:</i></td></tr>
<tr><th id="123">123</th><td><i class="doc"> *		Called to set polarity</i></td></tr>
<tr><th id="124">124</th><td><i class="doc"> * <span class="command">@set</span>_vconn:	Called to enable or disable VCONN</i></td></tr>
<tr><th id="125">125</th><td><i class="doc"> * <span class="command">@set</span>_vbus:	Called to enable or disable VBUS</i></td></tr>
<tr><th id="126">126</th><td><i class="doc"> * <span class="command">@set</span>_current_limit:</i></td></tr>
<tr><th id="127">127</th><td><i class="doc"> *		Optional; called to set current limit as negotiated</i></td></tr>
<tr><th id="128">128</th><td><i class="doc"> *		with partner.</i></td></tr>
<tr><th id="129">129</th><td><i class="doc"> * <span class="command">@set</span>_pd_rx:	Called to enable or disable reception of PD messages</i></td></tr>
<tr><th id="130">130</th><td><i class="doc"> * <span class="command">@set</span>_roles:	Called to set power and data roles</i></td></tr>
<tr><th id="131">131</th><td><i class="doc"> *<span class="command"> @start</span>_drp_toggling:</i></td></tr>
<tr><th id="132">132</th><td><i class="doc"> *		Optional; if supported by hardware, called to start DRP</i></td></tr>
<tr><th id="133">133</th><td><i class="doc"> *		toggling. DRP toggling is stopped automatically if</i></td></tr>
<tr><th id="134">134</th><td><i class="doc"> *		a connection is established.</i></td></tr>
<tr><th id="135">135</th><td><i class="doc"> *<span class="command"> @try</span>_role:	Optional; called to set a preferred role</i></td></tr>
<tr><th id="136">136</th><td><i class="doc"> *<span class="command"> @pd</span><span class="arg">_transmit:Called</span> to transmit PD message</i></td></tr>
<tr><th id="137">137</th><td><i class="doc"> *<span class="command"> @mux</span>:	Pointer to multiplexer data</i></td></tr>
<tr><th id="138">138</th><td><i class="doc"> */</i></td></tr>
<tr><th id="139">139</th><td><b>struct</b> <dfn class="type def" id="tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</dfn> {</td></tr>
<tr><th id="140">140</th><td>	<em>const</em> <b>struct</b> <a class="type" href="#tcpc_config" title='tcpc_config' data-ref="tcpc_config">tcpc_config</a> *<dfn class="decl field" id="tcpc_dev::config" title='tcpc_dev::config' data-ref="tcpc_dev::config">config</dfn>;</td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::init" title='tcpc_dev::init' data-ref="tcpc_dev::init">init</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col0 decl" id="30dev" title='dev' data-type='struct tcpc_dev *' data-ref="30dev">dev</dfn>);</td></tr>
<tr><th id="143">143</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::get_vbus" title='tcpc_dev::get_vbus' data-ref="tcpc_dev::get_vbus">get_vbus</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col1 decl" id="31dev" title='dev' data-type='struct tcpc_dev *' data-ref="31dev">dev</dfn>);</td></tr>
<tr><th id="144">144</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::get_current_limit" title='tcpc_dev::get_current_limit' data-ref="tcpc_dev::get_current_limit">get_current_limit</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col2 decl" id="32dev" title='dev' data-type='struct tcpc_dev *' data-ref="32dev">dev</dfn>);</td></tr>
<tr><th id="145">145</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::set_cc" title='tcpc_dev::set_cc' data-ref="tcpc_dev::set_cc">set_cc</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col3 decl" id="33dev" title='dev' data-type='struct tcpc_dev *' data-ref="33dev">dev</dfn>, <b>enum</b> <a class="type" href="#typec_cc_status" title='typec_cc_status' data-ref="typec_cc_status">typec_cc_status</a> <dfn class="local col4 decl" id="34cc" title='cc' data-type='enum typec_cc_status' data-ref="34cc">cc</dfn>);</td></tr>
<tr><th id="146">146</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::get_cc" title='tcpc_dev::get_cc' data-ref="tcpc_dev::get_cc">get_cc</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col5 decl" id="35dev" title='dev' data-type='struct tcpc_dev *' data-ref="35dev">dev</dfn>, <b>enum</b> <a class="type" href="#typec_cc_status" title='typec_cc_status' data-ref="typec_cc_status">typec_cc_status</a> *<dfn class="local col6 decl" id="36cc1" title='cc1' data-type='enum typec_cc_status *' data-ref="36cc1">cc1</dfn>,</td></tr>
<tr><th id="147">147</th><td>		      <b>enum</b> <a class="type" href="#typec_cc_status" title='typec_cc_status' data-ref="typec_cc_status">typec_cc_status</a> *<dfn class="local col7 decl" id="37cc2" title='cc2' data-type='enum typec_cc_status *' data-ref="37cc2">cc2</dfn>);</td></tr>
<tr><th id="148">148</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::set_polarity" title='tcpc_dev::set_polarity' data-ref="tcpc_dev::set_polarity">set_polarity</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col8 decl" id="38dev" title='dev' data-type='struct tcpc_dev *' data-ref="38dev">dev</dfn>,</td></tr>
<tr><th id="149">149</th><td>			    <b>enum</b> <a class="type" href="#typec_cc_polarity" title='typec_cc_polarity' data-ref="typec_cc_polarity">typec_cc_polarity</a> <dfn class="local col9 decl" id="39polarity" title='polarity' data-type='enum typec_cc_polarity' data-ref="39polarity">polarity</dfn>);</td></tr>
<tr><th id="150">150</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::set_vconn" title='tcpc_dev::set_vconn' data-ref="tcpc_dev::set_vconn">set_vconn</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col0 decl" id="40dev" title='dev' data-type='struct tcpc_dev *' data-ref="40dev">dev</dfn>, <a class="typedef" href="../types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col1 decl" id="41on" title='on' data-type='bool' data-ref="41on">on</dfn>);</td></tr>
<tr><th id="151">151</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::set_vbus" title='tcpc_dev::set_vbus' data-ref="tcpc_dev::set_vbus">set_vbus</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col2 decl" id="42dev" title='dev' data-type='struct tcpc_dev *' data-ref="42dev">dev</dfn>, <a class="typedef" href="../types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col3 decl" id="43on" title='on' data-type='bool' data-ref="43on">on</dfn>, <a class="typedef" href="../types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col4 decl" id="44charge" title='charge' data-type='bool' data-ref="44charge">charge</dfn>);</td></tr>
<tr><th id="152">152</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::set_current_limit" title='tcpc_dev::set_current_limit' data-ref="tcpc_dev::set_current_limit">set_current_limit</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col5 decl" id="45dev" title='dev' data-type='struct tcpc_dev *' data-ref="45dev">dev</dfn>, <a class="typedef" href="../../asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> <dfn class="local col6 decl" id="46max_ma" title='max_ma' data-type='u32' data-ref="46max_ma">max_ma</dfn>, <a class="typedef" href="../../asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> <dfn class="local col7 decl" id="47mv" title='mv' data-type='u32' data-ref="47mv">mv</dfn>);</td></tr>
<tr><th id="153">153</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::set_pd_rx" title='tcpc_dev::set_pd_rx' data-ref="tcpc_dev::set_pd_rx">set_pd_rx</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col8 decl" id="48dev" title='dev' data-type='struct tcpc_dev *' data-ref="48dev">dev</dfn>, <a class="typedef" href="../types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col9 decl" id="49on" title='on' data-type='bool' data-ref="49on">on</dfn>);</td></tr>
<tr><th id="154">154</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::set_roles" title='tcpc_dev::set_roles' data-ref="tcpc_dev::set_roles">set_roles</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col0 decl" id="50dev" title='dev' data-type='struct tcpc_dev *' data-ref="50dev">dev</dfn>, <a class="typedef" href="../types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="local col1 decl" id="51attached" title='attached' data-type='bool' data-ref="51attached">attached</dfn>,</td></tr>
<tr><th id="155">155</th><td>			 <b>enum</b> <a class="type" href="typec.h.html#typec_role" title='typec_role' data-ref="typec_role">typec_role</a> <dfn class="local col2 decl" id="52role" title='role' data-type='enum typec_role' data-ref="52role">role</dfn>, <b>enum</b> <a class="type" href="typec.h.html#typec_data_role" title='typec_data_role' data-ref="typec_data_role">typec_data_role</a> <dfn class="local col3 decl" id="53data" title='data' data-type='enum typec_data_role' data-ref="53data">data</dfn>);</td></tr>
<tr><th id="156">156</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::start_drp_toggling" title='tcpc_dev::start_drp_toggling' data-ref="tcpc_dev::start_drp_toggling">start_drp_toggling</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col4 decl" id="54dev" title='dev' data-type='struct tcpc_dev *' data-ref="54dev">dev</dfn>,</td></tr>
<tr><th id="157">157</th><td>				  <b>enum</b> <a class="type" href="#typec_cc_status" title='typec_cc_status' data-ref="typec_cc_status">typec_cc_status</a> <dfn class="local col5 decl" id="55cc" title='cc' data-type='enum typec_cc_status' data-ref="55cc">cc</dfn>);</td></tr>
<tr><th id="158">158</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::try_role" title='tcpc_dev::try_role' data-ref="tcpc_dev::try_role">try_role</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col6 decl" id="56dev" title='dev' data-type='struct tcpc_dev *' data-ref="56dev">dev</dfn>, <em>int</em> <dfn class="local col7 decl" id="57role" title='role' data-type='int' data-ref="57role">role</dfn>);</td></tr>
<tr><th id="159">159</th><td>	<em>int</em> (*<dfn class="decl field" id="tcpc_dev::pd_transmit" title='tcpc_dev::pd_transmit' data-ref="tcpc_dev::pd_transmit">pd_transmit</dfn>)(<b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col8 decl" id="58dev" title='dev' data-type='struct tcpc_dev *' data-ref="58dev">dev</dfn>, <b>enum</b> <a class="type" href="#tcpm_transmit_type" title='tcpm_transmit_type' data-ref="tcpm_transmit_type">tcpm_transmit_type</a> <dfn class="local col9 decl" id="59type" title='type' data-type='enum tcpm_transmit_type' data-ref="59type">type</dfn>,</td></tr>
<tr><th id="160">160</th><td>			   <em>const</em> <b>struct</b> <a class="type" href="pd.h.html#pd_message" title='pd_message' data-ref="pd_message">pd_message</a> *<dfn class="local col0 decl" id="60msg" title='msg' data-type='const struct pd_message *' data-ref="60msg">msg</dfn>);</td></tr>
<tr><th id="161">161</th><td>};</td></tr>
<tr><th id="162">162</th><td></td></tr>
<tr><th id="163">163</th><td><b>struct</b> <a class="type" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_port" title='tcpm_port' data-ref="tcpm_port" id="tcpm_port">tcpm_port</a>;</td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td><b>struct</b> <a class="type" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_port" title='tcpm_port' data-ref="tcpm_port">tcpm_port</a> *<a class="decl fn" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_register_port" title='tcpm_register_port' data-ref="tcpm_register_port" id="tcpm_register_port">tcpm_register_port</a>(<b>struct</b> <a class="type" href="../device.h.html#device" title='device' data-ref="device">device</a> *<dfn class="local col1 decl" id="61dev" title='dev' data-type='struct device *' data-ref="61dev">dev</dfn>, <b>struct</b> <a class="type" href="#tcpc_dev" title='tcpc_dev' data-ref="tcpc_dev">tcpc_dev</a> *<dfn class="local col2 decl" id="62tcpc" title='tcpc' data-type='struct tcpc_dev *' data-ref="62tcpc">tcpc</dfn>);</td></tr>
<tr><th id="166">166</th><td><em>void</em> <a class="decl fn" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_unregister_port" title='tcpm_unregister_port' data-ref="tcpm_unregister_port" id="tcpm_unregister_port">tcpm_unregister_port</a>(<b>struct</b> <a class="type" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_port" title='tcpm_port' data-ref="tcpm_port">tcpm_port</a> *<dfn class="local col3 decl" id="63port" title='port' data-type='struct tcpm_port *' data-ref="63port">port</dfn>);</td></tr>
<tr><th id="167">167</th><td></td></tr>
<tr><th id="168">168</th><td><em>int</em> <a class="decl fn" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_update_source_capabilities" title='tcpm_update_source_capabilities' data-ref="tcpm_update_source_capabilities" id="tcpm_update_source_capabilities">tcpm_update_source_capabilities</a>(<b>struct</b> <a class="type" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_port" title='tcpm_port' data-ref="tcpm_port">tcpm_port</a> *<dfn class="local col4 decl" id="64port" title='port' data-type='struct tcpm_port *' data-ref="64port">port</dfn>, <em>const</em> <a class="typedef" href="../../asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> *<dfn class="local col5 decl" id="65pdo" title='pdo' data-type='const u32 *' data-ref="65pdo">pdo</dfn>,</td></tr>
<tr><th id="169">169</th><td>				    <em>unsigned</em> <em>int</em> <dfn class="local col6 decl" id="66nr_pdo" title='nr_pdo' data-type='unsigned int' data-ref="66nr_pdo">nr_pdo</dfn>);</td></tr>
<tr><th id="170">170</th><td><em>int</em> <a class="decl fn" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_update_sink_capabilities" title='tcpm_update_sink_capabilities' data-ref="tcpm_update_sink_capabilities" id="tcpm_update_sink_capabilities">tcpm_update_sink_capabilities</a>(<b>struct</b> <a class="type" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_port" title='tcpm_port' data-ref="tcpm_port">tcpm_port</a> *<dfn class="local col7 decl" id="67port" title='port' data-type='struct tcpm_port *' data-ref="67port">port</dfn>, <em>const</em> <a class="typedef" href="../../asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> *<dfn class="local col8 decl" id="68pdo" title='pdo' data-type='const u32 *' data-ref="68pdo">pdo</dfn>,</td></tr>
<tr><th id="171">171</th><td>				  <em>unsigned</em> <em>int</em> <dfn class="local col9 decl" id="69nr_pdo" title='nr_pdo' data-type='unsigned int' data-ref="69nr_pdo">nr_pdo</dfn>,</td></tr>
<tr><th id="172">172</th><td>				  <em>unsigned</em> <em>int</em> <dfn class="local col0 decl" id="70operating_snk_mw" title='operating_snk_mw' data-type='unsigned int' data-ref="70operating_snk_mw">operating_snk_mw</dfn>);</td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td><em>void</em> <a class="decl fn" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_vbus_change" title='tcpm_vbus_change' data-ref="tcpm_vbus_change" id="tcpm_vbus_change">tcpm_vbus_change</a>(<b>struct</b> <a class="type" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_port" title='tcpm_port' data-ref="tcpm_port">tcpm_port</a> *<dfn class="local col1 decl" id="71port" title='port' data-type='struct tcpm_port *' data-ref="71port">port</dfn>);</td></tr>
<tr><th id="175">175</th><td><em>void</em> <a class="decl fn" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_cc_change" title='tcpm_cc_change' data-ref="tcpm_cc_change" id="tcpm_cc_change">tcpm_cc_change</a>(<b>struct</b> <a class="type" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_port" title='tcpm_port' data-ref="tcpm_port">tcpm_port</a> *<dfn class="local col2 decl" id="72port" title='port' data-type='struct tcpm_port *' data-ref="72port">port</dfn>);</td></tr>
<tr><th id="176">176</th><td><em>void</em> <a class="decl fn" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_pd_receive" title='tcpm_pd_receive' data-ref="tcpm_pd_receive" id="tcpm_pd_receive">tcpm_pd_receive</a>(<b>struct</b> <a class="type" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_port" title='tcpm_port' data-ref="tcpm_port">tcpm_port</a> *<dfn class="local col3 decl" id="73port" title='port' data-type='struct tcpm_port *' data-ref="73port">port</dfn>,</td></tr>
<tr><th id="177">177</th><td>		     <em>const</em> <b>struct</b> <a class="type" href="pd.h.html#pd_message" title='pd_message' data-ref="pd_message">pd_message</a> *<dfn class="local col4 decl" id="74msg" title='msg' data-type='const struct pd_message *' data-ref="74msg">msg</dfn>);</td></tr>
<tr><th id="178">178</th><td><em>void</em> <a class="decl fn" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_pd_transmit_complete" title='tcpm_pd_transmit_complete' data-ref="tcpm_pd_transmit_complete" id="tcpm_pd_transmit_complete">tcpm_pd_transmit_complete</a>(<b>struct</b> <a class="type" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_port" title='tcpm_port' data-ref="tcpm_port">tcpm_port</a> *<dfn class="local col5 decl" id="75port" title='port' data-type='struct tcpm_port *' data-ref="75port">port</dfn>,</td></tr>
<tr><th id="179">179</th><td>			       <b>enum</b> <a class="type" href="#tcpm_transmit_status" title='tcpm_transmit_status' data-ref="tcpm_transmit_status">tcpm_transmit_status</a> <dfn class="local col6 decl" id="76status" title='status' data-type='enum tcpm_transmit_status' data-ref="76status">status</dfn>);</td></tr>
<tr><th id="180">180</th><td><em>void</em> <a class="decl fn" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_pd_hard_reset" title='tcpm_pd_hard_reset' data-ref="tcpm_pd_hard_reset" id="tcpm_pd_hard_reset">tcpm_pd_hard_reset</a>(<b>struct</b> <a class="type" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_port" title='tcpm_port' data-ref="tcpm_port">tcpm_port</a> *<dfn class="local col7 decl" id="77port" title='port' data-type='struct tcpm_port *' data-ref="77port">port</dfn>);</td></tr>
<tr><th id="181">181</th><td><em>void</em> <a class="decl fn" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_tcpc_reset" title='tcpm_tcpc_reset' data-ref="tcpm_tcpc_reset" id="tcpm_tcpc_reset">tcpm_tcpc_reset</a>(<b>struct</b> <a class="type" href="../../../drivers/usb/typec/tcpm.c.html#tcpm_port" title='tcpm_port' data-ref="tcpm_port">tcpm_port</a> *<dfn class="local col8 decl" id="78port" title='port' data-type='struct tcpm_port *' data-ref="78port">port</dfn>);</td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td><u>#<span data-ppcond="15">endif</span> /* __LINUX_USB_TCPM_H */</u></td></tr>
<tr><th id="184">184</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../../drivers/usb/typec/tcpm.c.html'>linux-4.18.y/drivers/usb/typec/tcpm.c</a><br/>Generated on <em>2018-Oct-01</em> from project linux-4.18.y revision <em>linux-4.18.y</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
