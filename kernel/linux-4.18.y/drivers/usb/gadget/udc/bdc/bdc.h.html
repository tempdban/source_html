<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>bdc.h source code [linux-4.18.y/drivers/usb/gadget/udc/bdc/bdc.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="bd_list,bd_table,bd_transfer,bdc,bdc_bd,bdc_cmd_params,bdc_ep,bdc_ep0_state,bdc_link_state,bdc_req,bdc_scratchpad,bdc_sr,srr "/>
<link rel="stylesheet" href="../../../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'linux-4.18.y/drivers/usb/gadget/udc/bdc/bdc.h'; var root_path = '../../../../../..'; var data_path = '../../../../../../../data';</script>
<script src='../../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../..'>linux-4.18.y</a>/<a href='../../../..'>drivers</a>/<a href='../../..'>usb</a>/<a href='../..'>gadget</a>/<a href='..'>udc</a>/<a href='./'>bdc</a>/<a href='bdc.h.html'>bdc.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>// SPDX-License-Identifier: GPL-2.0+</i></td></tr>
<tr><th id="2">2</th><td><i>/*</i></td></tr>
<tr><th id="3">3</th><td><i> * bdc.h - header for the BRCM BDC USB3.0 device controller</i></td></tr>
<tr><th id="4">4</th><td><i> *</i></td></tr>
<tr><th id="5">5</th><td><i> * Copyright (C) 2014 Broadcom Corporation</i></td></tr>
<tr><th id="6">6</th><td><i> *</i></td></tr>
<tr><th id="7">7</th><td><i> * Author: Ashwini Pahuja</i></td></tr>
<tr><th id="8">8</th><td><i> */</i></td></tr>
<tr><th id="9">9</th><td></td></tr>
<tr><th id="10">10</th><td><u>#<span data-ppcond="10">ifndef</span>	<span class="macro" data-ref="_M/__LINUX_BDC_H__">__LINUX_BDC_H__</span></u></td></tr>
<tr><th id="11">11</th><td><u>#define	<dfn class="macro" id="_M/__LINUX_BDC_H__" data-ref="_M/__LINUX_BDC_H__">__LINUX_BDC_H__</dfn></u></td></tr>
<tr><th id="12">12</th><td></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="../../../../../include/linux/kernel.h.html">&lt;linux/kernel.h&gt;</a></u></td></tr>
<tr><th id="14">14</th><td><u>#include <a href="../../../../../include/linux/usb.h.html">&lt;linux/usb.h&gt;</a></u></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="../../../../../include/linux/device.h.html">&lt;linux/device.h&gt;</a></u></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="../../../../../include/linux/spinlock.h.html">&lt;linux/spinlock.h&gt;</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="../../../../../include/linux/list.h.html">&lt;linux/list.h&gt;</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../../../../../include/linux/dma-mapping.h.html">&lt;linux/dma-mapping.h&gt;</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../../../../include/linux/mm.h.html">&lt;linux/mm.h&gt;</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../../../../../include/linux/debugfs.h.html">&lt;linux/debugfs.h&gt;</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../../../../../include/linux/usb/ch9.h.html">&lt;linux/usb/ch9.h&gt;</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../../../../include/linux/usb/gadget.h.html">&lt;linux/usb/gadget.h&gt;</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../../../../../arch/x86/include/asm/unaligned.h.html">&lt;asm/unaligned.h&gt;</a></u></td></tr>
<tr><th id="24">24</th><td></td></tr>
<tr><th id="25">25</th><td><u>#define <dfn class="macro" id="_M/BRCM_BDC_NAME" data-ref="_M/BRCM_BDC_NAME">BRCM_BDC_NAME</dfn> "bdc"</u></td></tr>
<tr><th id="26">26</th><td><u>#define <dfn class="macro" id="_M/BRCM_BDC_DESC" data-ref="_M/BRCM_BDC_DESC">BRCM_BDC_DESC</dfn> "Broadcom USB Device Controller driver"</u></td></tr>
<tr><th id="27">27</th><td></td></tr>
<tr><th id="28">28</th><td><u>#define <dfn class="macro" id="_M/DMA_ADDR_INVALID" data-ref="_M/DMA_ADDR_INVALID">DMA_ADDR_INVALID</dfn>        (~(dma_addr_t)0)</u></td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><i>/* BDC command operation timeout in usec*/</i></td></tr>
<tr><th id="31">31</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_TIMEOUT" data-ref="_M/BDC_CMD_TIMEOUT">BDC_CMD_TIMEOUT</dfn>	1000</u></td></tr>
<tr><th id="32">32</th><td><i>/* BDC controller operation timeout in usec*/</i></td></tr>
<tr><th id="33">33</th><td><u>#define <dfn class="macro" id="_M/BDC_COP_TIMEOUT" data-ref="_M/BDC_COP_TIMEOUT">BDC_COP_TIMEOUT</dfn>	500</u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><i>/*</i></td></tr>
<tr><th id="36">36</th><td><i> * Maximum size of ep0 response buffer for ch9 requests,</i></td></tr>
<tr><th id="37">37</th><td><i> * the set_sel request uses 6 so far, the max.</i></td></tr>
<tr><th id="38">38</th><td><i>*/</i></td></tr>
<tr><th id="39">39</th><td><u>#define <dfn class="macro" id="_M/EP0_RESPONSE_BUFF" data-ref="_M/EP0_RESPONSE_BUFF">EP0_RESPONSE_BUFF</dfn>  6</u></td></tr>
<tr><th id="40">40</th><td><i>/* Start with SS as default */</i></td></tr>
<tr><th id="41">41</th><td><u>#define <dfn class="macro" id="_M/EP0_MAX_PKT_SIZE" data-ref="_M/EP0_MAX_PKT_SIZE">EP0_MAX_PKT_SIZE</dfn> 512</u></td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><i>/* 64 entries in a SRR */</i></td></tr>
<tr><th id="44">44</th><td><u>#define <dfn class="macro" id="_M/NUM_SR_ENTRIES" data-ref="_M/NUM_SR_ENTRIES">NUM_SR_ENTRIES</dfn>	64</u></td></tr>
<tr><th id="45">45</th><td></td></tr>
<tr><th id="46">46</th><td><i>/* Num of bds per table */</i></td></tr>
<tr><th id="47">47</th><td><u>#define <dfn class="macro" id="_M/NUM_BDS_PER_TABLE" data-ref="_M/NUM_BDS_PER_TABLE">NUM_BDS_PER_TABLE</dfn>	32</u></td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><i>/* Num of tables in bd list for control,bulk and Int ep */</i></td></tr>
<tr><th id="50">50</th><td><u>#define <dfn class="macro" id="_M/NUM_TABLES" data-ref="_M/NUM_TABLES">NUM_TABLES</dfn>	2</u></td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td><i>/* Num of tables in bd list for Isoch ep */</i></td></tr>
<tr><th id="53">53</th><td><u>#define <dfn class="macro" id="_M/NUM_TABLES_ISOCH" data-ref="_M/NUM_TABLES_ISOCH">NUM_TABLES_ISOCH</dfn>	6</u></td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td><i>/* U1 Timeout default: 248usec */</i></td></tr>
<tr><th id="56">56</th><td><u>#define <dfn class="macro" id="_M/U1_TIMEOUT" data-ref="_M/U1_TIMEOUT">U1_TIMEOUT</dfn>	0xf8</u></td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td><i>/* Interrupt coalescence in usec */</i></td></tr>
<tr><th id="59">59</th><td><u>#define	<dfn class="macro" id="_M/INT_CLS" data-ref="_M/INT_CLS">INT_CLS</dfn>	500</u></td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td><i>/* Register offsets */</i></td></tr>
<tr><th id="62">62</th><td><i>/* Configuration and Capability registers */</i></td></tr>
<tr><th id="63">63</th><td><u>#define <dfn class="macro" id="_M/BDC_BDCCFG0" data-ref="_M/BDC_BDCCFG0">BDC_BDCCFG0</dfn>	0x00</u></td></tr>
<tr><th id="64">64</th><td><u>#define <dfn class="macro" id="_M/BDC_BDCCFG1" data-ref="_M/BDC_BDCCFG1">BDC_BDCCFG1</dfn>	0x04</u></td></tr>
<tr><th id="65">65</th><td><u>#define <dfn class="macro" id="_M/BDC_BDCCAP0" data-ref="_M/BDC_BDCCAP0">BDC_BDCCAP0</dfn>	0x08</u></td></tr>
<tr><th id="66">66</th><td><u>#define <dfn class="macro" id="_M/BDC_BDCCAP1" data-ref="_M/BDC_BDCCAP1">BDC_BDCCAP1</dfn>	0x0c</u></td></tr>
<tr><th id="67">67</th><td><u>#define <dfn class="macro" id="_M/BDC_CMDPAR0" data-ref="_M/BDC_CMDPAR0">BDC_CMDPAR0</dfn>	0x10</u></td></tr>
<tr><th id="68">68</th><td><u>#define <dfn class="macro" id="_M/BDC_CMDPAR1" data-ref="_M/BDC_CMDPAR1">BDC_CMDPAR1</dfn>	0x14</u></td></tr>
<tr><th id="69">69</th><td><u>#define <dfn class="macro" id="_M/BDC_CMDPAR2" data-ref="_M/BDC_CMDPAR2">BDC_CMDPAR2</dfn>	0x18</u></td></tr>
<tr><th id="70">70</th><td><u>#define <dfn class="macro" id="_M/BDC_CMDSC" data-ref="_M/BDC_CMDSC">BDC_CMDSC</dfn>	0x1c</u></td></tr>
<tr><th id="71">71</th><td><u>#define <dfn class="macro" id="_M/BDC_USPC" data-ref="_M/BDC_USPC">BDC_USPC</dfn>	0x20</u></td></tr>
<tr><th id="72">72</th><td><u>#define <dfn class="macro" id="_M/BDC_USPPMS" data-ref="_M/BDC_USPPMS">BDC_USPPMS</dfn>	0x28</u></td></tr>
<tr><th id="73">73</th><td><u>#define <dfn class="macro" id="_M/BDC_USPPM2" data-ref="_M/BDC_USPPM2">BDC_USPPM2</dfn>	0x2c</u></td></tr>
<tr><th id="74">74</th><td><u>#define <dfn class="macro" id="_M/BDC_SPBBAL" data-ref="_M/BDC_SPBBAL">BDC_SPBBAL</dfn>	0x38</u></td></tr>
<tr><th id="75">75</th><td><u>#define <dfn class="macro" id="_M/BDC_SPBBAH" data-ref="_M/BDC_SPBBAH">BDC_SPBBAH</dfn>	0x3c</u></td></tr>
<tr><th id="76">76</th><td><u>#define <dfn class="macro" id="_M/BDC_BDCSC" data-ref="_M/BDC_BDCSC">BDC_BDCSC</dfn>	0x40</u></td></tr>
<tr><th id="77">77</th><td><u>#define <dfn class="macro" id="_M/BDC_XSFNTF" data-ref="_M/BDC_XSFNTF">BDC_XSFNTF</dfn>	0x4c</u></td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td><u>#define <dfn class="macro" id="_M/BDC_DVCSA" data-ref="_M/BDC_DVCSA">BDC_DVCSA</dfn>	0x50</u></td></tr>
<tr><th id="80">80</th><td><u>#define <dfn class="macro" id="_M/BDC_DVCSB" data-ref="_M/BDC_DVCSB">BDC_DVCSB</dfn>	0x54</u></td></tr>
<tr><th id="81">81</th><td><u>#define <dfn class="macro" id="_M/BDC_EPSTS0" data-ref="_M/BDC_EPSTS0">BDC_EPSTS0</dfn>	0x60</u></td></tr>
<tr><th id="82">82</th><td><u>#define <dfn class="macro" id="_M/BDC_EPSTS1" data-ref="_M/BDC_EPSTS1">BDC_EPSTS1</dfn>	0x64</u></td></tr>
<tr><th id="83">83</th><td><u>#define <dfn class="macro" id="_M/BDC_EPSTS2" data-ref="_M/BDC_EPSTS2">BDC_EPSTS2</dfn>	0x68</u></td></tr>
<tr><th id="84">84</th><td><u>#define <dfn class="macro" id="_M/BDC_EPSTS3" data-ref="_M/BDC_EPSTS3">BDC_EPSTS3</dfn>	0x6c</u></td></tr>
<tr><th id="85">85</th><td><u>#define <dfn class="macro" id="_M/BDC_EPSTS4" data-ref="_M/BDC_EPSTS4">BDC_EPSTS4</dfn>	0x70</u></td></tr>
<tr><th id="86">86</th><td><u>#define <dfn class="macro" id="_M/BDC_EPSTS5" data-ref="_M/BDC_EPSTS5">BDC_EPSTS5</dfn>	0x74</u></td></tr>
<tr><th id="87">87</th><td><u>#define <dfn class="macro" id="_M/BDC_EPSTS6" data-ref="_M/BDC_EPSTS6">BDC_EPSTS6</dfn>	0x78</u></td></tr>
<tr><th id="88">88</th><td><u>#define <dfn class="macro" id="_M/BDC_EPSTS7" data-ref="_M/BDC_EPSTS7">BDC_EPSTS7</dfn>	0x7c</u></td></tr>
<tr><th id="89">89</th><td><u>#define <dfn class="macro" id="_M/BDC_SRRBAL" data-ref="_M/BDC_SRRBAL">BDC_SRRBAL</dfn>(n)	(0x200 + (n * 0x10))</u></td></tr>
<tr><th id="90">90</th><td><u>#define <dfn class="macro" id="_M/BDC_SRRBAH" data-ref="_M/BDC_SRRBAH">BDC_SRRBAH</dfn>(n)	(0x204 + (n * 0x10))</u></td></tr>
<tr><th id="91">91</th><td><u>#define <dfn class="macro" id="_M/BDC_SRRINT" data-ref="_M/BDC_SRRINT">BDC_SRRINT</dfn>(n)	(0x208 + (n * 0x10))</u></td></tr>
<tr><th id="92">92</th><td><u>#define <dfn class="macro" id="_M/BDC_INTCTLS" data-ref="_M/BDC_INTCTLS">BDC_INTCTLS</dfn>(n)	(0x20c + (n * 0x10))</u></td></tr>
<tr><th id="93">93</th><td></td></tr>
<tr><th id="94">94</th><td><i>/* Extended capability regs */</i></td></tr>
<tr><th id="95">95</th><td><u>#define <dfn class="macro" id="_M/BDC_FSCNOC" data-ref="_M/BDC_FSCNOC">BDC_FSCNOC</dfn>	0xcd4</u></td></tr>
<tr><th id="96">96</th><td><u>#define <dfn class="macro" id="_M/BDC_FSCNIC" data-ref="_M/BDC_FSCNIC">BDC_FSCNIC</dfn>	0xce4</u></td></tr>
<tr><th id="97">97</th><td><u>#define <dfn class="macro" id="_M/NUM_NCS" data-ref="_M/NUM_NCS">NUM_NCS</dfn>(p)	(p &gt;&gt; 28)</u></td></tr>
<tr><th id="98">98</th><td></td></tr>
<tr><th id="99">99</th><td><i>/* Register bit fields and Masks */</i></td></tr>
<tr><th id="100">100</th><td><i>/* BDC Configuration 0 */</i></td></tr>
<tr><th id="101">101</th><td><u>#define <dfn class="macro" id="_M/BDC_PGS" data-ref="_M/BDC_PGS">BDC_PGS</dfn>(p)	(((p) &amp; (0x7 &lt;&lt; 8)) &gt;&gt; 8)</u></td></tr>
<tr><th id="102">102</th><td><u>#define <dfn class="macro" id="_M/BDC_SPB" data-ref="_M/BDC_SPB">BDC_SPB</dfn>(p)	(p &amp; 0x7)</u></td></tr>
<tr><th id="103">103</th><td></td></tr>
<tr><th id="104">104</th><td><i>/* BDC Capability1 */</i></td></tr>
<tr><th id="105">105</th><td><u>#define <dfn class="macro" id="_M/BDC_P64" data-ref="_M/BDC_P64">BDC_P64</dfn>		(1 &lt;&lt; 0)</u></td></tr>
<tr><th id="106">106</th><td></td></tr>
<tr><th id="107">107</th><td><i>/* BDC Command register */</i></td></tr>
<tr><th id="108">108</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_FH" data-ref="_M/BDC_CMD_FH">BDC_CMD_FH</dfn>	0xe</u></td></tr>
<tr><th id="109">109</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_DNC" data-ref="_M/BDC_CMD_DNC">BDC_CMD_DNC</dfn>	0x6</u></td></tr>
<tr><th id="110">110</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_EPO" data-ref="_M/BDC_CMD_EPO">BDC_CMD_EPO</dfn>	0x4</u></td></tr>
<tr><th id="111">111</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_BLA" data-ref="_M/BDC_CMD_BLA">BDC_CMD_BLA</dfn>	0x3</u></td></tr>
<tr><th id="112">112</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_EPC" data-ref="_M/BDC_CMD_EPC">BDC_CMD_EPC</dfn>	0x2</u></td></tr>
<tr><th id="113">113</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_DVC" data-ref="_M/BDC_CMD_DVC">BDC_CMD_DVC</dfn>	0x1</u></td></tr>
<tr><th id="114">114</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_CWS" data-ref="_M/BDC_CMD_CWS">BDC_CMD_CWS</dfn>		(0x1 &lt;&lt; 5)</u></td></tr>
<tr><th id="115">115</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_CST" data-ref="_M/BDC_CMD_CST">BDC_CMD_CST</dfn>(p)		(((p) &amp; (0xf &lt;&lt; 6))&gt;&gt;6)</u></td></tr>
<tr><th id="116">116</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_EPN" data-ref="_M/BDC_CMD_EPN">BDC_CMD_EPN</dfn>(p)		((p &amp; 0x1f) &lt;&lt; 10)</u></td></tr>
<tr><th id="117">117</th><td><u>#define <dfn class="macro" id="_M/BDC_SUB_CMD_ADD" data-ref="_M/BDC_SUB_CMD_ADD">BDC_SUB_CMD_ADD</dfn>		(0x1 &lt;&lt; 17)</u></td></tr>
<tr><th id="118">118</th><td><u>#define <dfn class="macro" id="_M/BDC_SUB_CMD_FWK" data-ref="_M/BDC_SUB_CMD_FWK">BDC_SUB_CMD_FWK</dfn>		(0x4 &lt;&lt; 17)</u></td></tr>
<tr><th id="119">119</th><td><i>/* Reset sequence number */</i></td></tr>
<tr><th id="120">120</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_EPO_RST_SN" data-ref="_M/BDC_CMD_EPO_RST_SN">BDC_CMD_EPO_RST_SN</dfn>	(0x1 &lt;&lt; 16)</u></td></tr>
<tr><th id="121">121</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_EP0_XSD" data-ref="_M/BDC_CMD_EP0_XSD">BDC_CMD_EP0_XSD</dfn>		(0x1 &lt;&lt; 16)</u></td></tr>
<tr><th id="122">122</th><td><u>#define <dfn class="macro" id="_M/BDC_SUB_CMD_ADD_EP" data-ref="_M/BDC_SUB_CMD_ADD_EP">BDC_SUB_CMD_ADD_EP</dfn>	(0x1 &lt;&lt; 17)</u></td></tr>
<tr><th id="123">123</th><td><u>#define <dfn class="macro" id="_M/BDC_SUB_CMD_DRP_EP" data-ref="_M/BDC_SUB_CMD_DRP_EP">BDC_SUB_CMD_DRP_EP</dfn>	(0x2 &lt;&lt; 17)</u></td></tr>
<tr><th id="124">124</th><td><u>#define <dfn class="macro" id="_M/BDC_SUB_CMD_EP_STP" data-ref="_M/BDC_SUB_CMD_EP_STP">BDC_SUB_CMD_EP_STP</dfn>	(0x2 &lt;&lt; 17)</u></td></tr>
<tr><th id="125">125</th><td><u>#define <dfn class="macro" id="_M/BDC_SUB_CMD_EP_STL" data-ref="_M/BDC_SUB_CMD_EP_STL">BDC_SUB_CMD_EP_STL</dfn>	(0x4 &lt;&lt; 17)</u></td></tr>
<tr><th id="126">126</th><td><u>#define <dfn class="macro" id="_M/BDC_SUB_CMD_EP_RST" data-ref="_M/BDC_SUB_CMD_EP_RST">BDC_SUB_CMD_EP_RST</dfn>	(0x1 &lt;&lt; 17)</u></td></tr>
<tr><th id="127">127</th><td><u>#define <dfn class="macro" id="_M/BDC_CMD_SRD" data-ref="_M/BDC_CMD_SRD">BDC_CMD_SRD</dfn>		(1 &lt;&lt; 27)</u></td></tr>
<tr><th id="128">128</th><td></td></tr>
<tr><th id="129">129</th><td><i>/* CMD completion status */</i></td></tr>
<tr><th id="130">130</th><td><u>#define <dfn class="macro" id="_M/BDC_CMDS_SUCC" data-ref="_M/BDC_CMDS_SUCC">BDC_CMDS_SUCC</dfn>	0x1</u></td></tr>
<tr><th id="131">131</th><td><u>#define <dfn class="macro" id="_M/BDC_CMDS_PARA" data-ref="_M/BDC_CMDS_PARA">BDC_CMDS_PARA</dfn>	0x3</u></td></tr>
<tr><th id="132">132</th><td><u>#define <dfn class="macro" id="_M/BDC_CMDS_STAT" data-ref="_M/BDC_CMDS_STAT">BDC_CMDS_STAT</dfn>	0x4</u></td></tr>
<tr><th id="133">133</th><td><u>#define <dfn class="macro" id="_M/BDC_CMDS_FAIL" data-ref="_M/BDC_CMDS_FAIL">BDC_CMDS_FAIL</dfn>	0x5</u></td></tr>
<tr><th id="134">134</th><td><u>#define <dfn class="macro" id="_M/BDC_CMDS_INTL" data-ref="_M/BDC_CMDS_INTL">BDC_CMDS_INTL</dfn>	0x6</u></td></tr>
<tr><th id="135">135</th><td><u>#define <dfn class="macro" id="_M/BDC_CMDS_BUSY" data-ref="_M/BDC_CMDS_BUSY">BDC_CMDS_BUSY</dfn>	0xf</u></td></tr>
<tr><th id="136">136</th><td></td></tr>
<tr><th id="137">137</th><td><i>/* CMDSC Param 2 shifts */</i></td></tr>
<tr><th id="138">138</th><td><u>#define <dfn class="macro" id="_M/EPT_SHIFT" data-ref="_M/EPT_SHIFT">EPT_SHIFT</dfn>	22</u></td></tr>
<tr><th id="139">139</th><td><u>#define <dfn class="macro" id="_M/MP_SHIFT" data-ref="_M/MP_SHIFT">MP_SHIFT</dfn>	10</u></td></tr>
<tr><th id="140">140</th><td><u>#define <dfn class="macro" id="_M/MB_SHIFT" data-ref="_M/MB_SHIFT">MB_SHIFT</dfn>	6</u></td></tr>
<tr><th id="141">141</th><td><u>#define <dfn class="macro" id="_M/EPM_SHIFT" data-ref="_M/EPM_SHIFT">EPM_SHIFT</dfn>	4</u></td></tr>
<tr><th id="142">142</th><td></td></tr>
<tr><th id="143">143</th><td><i>/* BDC USPSC */</i></td></tr>
<tr><th id="144">144</th><td><u>#define <dfn class="macro" id="_M/BDC_VBC" data-ref="_M/BDC_VBC">BDC_VBC</dfn>		(1 &lt;&lt; 31)</u></td></tr>
<tr><th id="145">145</th><td><u>#define <dfn class="macro" id="_M/BDC_PRC" data-ref="_M/BDC_PRC">BDC_PRC</dfn>		(1 &lt;&lt; 30)</u></td></tr>
<tr><th id="146">146</th><td><u>#define <dfn class="macro" id="_M/BDC_PCE" data-ref="_M/BDC_PCE">BDC_PCE</dfn>		(1 &lt;&lt; 29)</u></td></tr>
<tr><th id="147">147</th><td><u>#define <dfn class="macro" id="_M/BDC_CFC" data-ref="_M/BDC_CFC">BDC_CFC</dfn>		(1 &lt;&lt; 28)</u></td></tr>
<tr><th id="148">148</th><td><u>#define <dfn class="macro" id="_M/BDC_PCC" data-ref="_M/BDC_PCC">BDC_PCC</dfn>		(1 &lt;&lt; 27)</u></td></tr>
<tr><th id="149">149</th><td><u>#define <dfn class="macro" id="_M/BDC_PSC" data-ref="_M/BDC_PSC">BDC_PSC</dfn>		(1 &lt;&lt; 26)</u></td></tr>
<tr><th id="150">150</th><td><u>#define <dfn class="macro" id="_M/BDC_VBS" data-ref="_M/BDC_VBS">BDC_VBS</dfn>		(1 &lt;&lt; 25)</u></td></tr>
<tr><th id="151">151</th><td><u>#define <dfn class="macro" id="_M/BDC_PRS" data-ref="_M/BDC_PRS">BDC_PRS</dfn>		(1 &lt;&lt; 24)</u></td></tr>
<tr><th id="152">152</th><td><u>#define <dfn class="macro" id="_M/BDC_PCS" data-ref="_M/BDC_PCS">BDC_PCS</dfn>		(1 &lt;&lt; 23)</u></td></tr>
<tr><th id="153">153</th><td><u>#define <dfn class="macro" id="_M/BDC_PSP" data-ref="_M/BDC_PSP">BDC_PSP</dfn>(p)	(((p) &amp; (0x7 &lt;&lt; 20))&gt;&gt;20)</u></td></tr>
<tr><th id="154">154</th><td><u>#define <dfn class="macro" id="_M/BDC_SCN" data-ref="_M/BDC_SCN">BDC_SCN</dfn>		(1 &lt;&lt; 8)</u></td></tr>
<tr><th id="155">155</th><td><u>#define <dfn class="macro" id="_M/BDC_SDC" data-ref="_M/BDC_SDC">BDC_SDC</dfn>		(1 &lt;&lt; 7)</u></td></tr>
<tr><th id="156">156</th><td><u>#define <dfn class="macro" id="_M/BDC_SWS" data-ref="_M/BDC_SWS">BDC_SWS</dfn>		(1 &lt;&lt; 4)</u></td></tr>
<tr><th id="157">157</th><td></td></tr>
<tr><th id="158">158</th><td><u>#define <dfn class="macro" id="_M/BDC_USPSC_RW" data-ref="_M/BDC_USPSC_RW">BDC_USPSC_RW</dfn>	(BDC_SCN|BDC_SDC|BDC_SWS|0xf)</u></td></tr>
<tr><th id="159">159</th><td><u>#define <dfn class="macro" id="_M/BDC_PSP" data-ref="_M/BDC_PSP">BDC_PSP</dfn>(p)	(((p) &amp; (0x7 &lt;&lt; 20))&gt;&gt;20)</u></td></tr>
<tr><th id="160">160</th><td></td></tr>
<tr><th id="161">161</th><td><u>#define <dfn class="macro" id="_M/BDC_SPEED_FS" data-ref="_M/BDC_SPEED_FS">BDC_SPEED_FS</dfn>	0x1</u></td></tr>
<tr><th id="162">162</th><td><u>#define <dfn class="macro" id="_M/BDC_SPEED_LS" data-ref="_M/BDC_SPEED_LS">BDC_SPEED_LS</dfn>	0x2</u></td></tr>
<tr><th id="163">163</th><td><u>#define <dfn class="macro" id="_M/BDC_SPEED_HS" data-ref="_M/BDC_SPEED_HS">BDC_SPEED_HS</dfn>	0x3</u></td></tr>
<tr><th id="164">164</th><td><u>#define <dfn class="macro" id="_M/BDC_SPEED_SS" data-ref="_M/BDC_SPEED_SS">BDC_SPEED_SS</dfn>	0x4</u></td></tr>
<tr><th id="165">165</th><td></td></tr>
<tr><th id="166">166</th><td><u>#define <dfn class="macro" id="_M/BDC_PST" data-ref="_M/BDC_PST">BDC_PST</dfn>(p)	(p &amp; 0xf)</u></td></tr>
<tr><th id="167">167</th><td><u>#define <dfn class="macro" id="_M/BDC_PST_MASK" data-ref="_M/BDC_PST_MASK">BDC_PST_MASK</dfn>	0xf</u></td></tr>
<tr><th id="168">168</th><td></td></tr>
<tr><th id="169">169</th><td><i>/* USPPMS */</i></td></tr>
<tr><th id="170">170</th><td><u>#define <dfn class="macro" id="_M/BDC_U2E" data-ref="_M/BDC_U2E">BDC_U2E</dfn>		(0x1 &lt;&lt; 31)</u></td></tr>
<tr><th id="171">171</th><td><u>#define <dfn class="macro" id="_M/BDC_U1E" data-ref="_M/BDC_U1E">BDC_U1E</dfn>		(0x1 &lt;&lt; 30)</u></td></tr>
<tr><th id="172">172</th><td><u>#define <dfn class="macro" id="_M/BDC_U2A" data-ref="_M/BDC_U2A">BDC_U2A</dfn>		(0x1 &lt;&lt; 29)</u></td></tr>
<tr><th id="173">173</th><td><u>#define <dfn class="macro" id="_M/BDC_PORT_W1S" data-ref="_M/BDC_PORT_W1S">BDC_PORT_W1S</dfn>	(0x1 &lt;&lt; 17)</u></td></tr>
<tr><th id="174">174</th><td><u>#define <dfn class="macro" id="_M/BDC_U1T" data-ref="_M/BDC_U1T">BDC_U1T</dfn>(p)	((p) &amp; 0xff)</u></td></tr>
<tr><th id="175">175</th><td><u>#define <dfn class="macro" id="_M/BDC_U2T" data-ref="_M/BDC_U2T">BDC_U2T</dfn>(p)	(((p) &amp; 0xff) &lt;&lt; 8)</u></td></tr>
<tr><th id="176">176</th><td><u>#define <dfn class="macro" id="_M/BDC_U1T_MASK" data-ref="_M/BDC_U1T_MASK">BDC_U1T_MASK</dfn>	0xff</u></td></tr>
<tr><th id="177">177</th><td></td></tr>
<tr><th id="178">178</th><td><i>/* USBPM2 */</i></td></tr>
<tr><th id="179">179</th><td><i>/* Hardware LPM Enable */</i></td></tr>
<tr><th id="180">180</th><td><u>#define <dfn class="macro" id="_M/BDC_HLE" data-ref="_M/BDC_HLE">BDC_HLE</dfn>		(1 &lt;&lt; 16)</u></td></tr>
<tr><th id="181">181</th><td></td></tr>
<tr><th id="182">182</th><td><i>/* BDC Status and Control */</i></td></tr>
<tr><th id="183">183</th><td><u>#define <dfn class="macro" id="_M/BDC_COP_RST" data-ref="_M/BDC_COP_RST">BDC_COP_RST</dfn>	(1 &lt;&lt; 29)</u></td></tr>
<tr><th id="184">184</th><td><u>#define <dfn class="macro" id="_M/BDC_COP_RUN" data-ref="_M/BDC_COP_RUN">BDC_COP_RUN</dfn>	(2 &lt;&lt; 29)</u></td></tr>
<tr><th id="185">185</th><td><u>#define <dfn class="macro" id="_M/BDC_COP_STP" data-ref="_M/BDC_COP_STP">BDC_COP_STP</dfn>	(4 &lt;&lt; 29)</u></td></tr>
<tr><th id="186">186</th><td></td></tr>
<tr><th id="187">187</th><td><u>#define <dfn class="macro" id="_M/BDC_COP_MASK" data-ref="_M/BDC_COP_MASK">BDC_COP_MASK</dfn> (BDC_COP_RST|BDC_COP_RUN|BDC_COP_STP)</u></td></tr>
<tr><th id="188">188</th><td></td></tr>
<tr><th id="189">189</th><td><u>#define <dfn class="macro" id="_M/BDC_COS" data-ref="_M/BDC_COS">BDC_COS</dfn>		(1 &lt;&lt; 28)</u></td></tr>
<tr><th id="190">190</th><td><u>#define <dfn class="macro" id="_M/BDC_CSTS" data-ref="_M/BDC_CSTS">BDC_CSTS</dfn>(p)	(((p) &amp; (0x7 &lt;&lt; 20)) &gt;&gt; 20)</u></td></tr>
<tr><th id="191">191</th><td><u>#define <dfn class="macro" id="_M/BDC_MASK_MCW" data-ref="_M/BDC_MASK_MCW">BDC_MASK_MCW</dfn>	(1 &lt;&lt; 7)</u></td></tr>
<tr><th id="192">192</th><td><u>#define <dfn class="macro" id="_M/BDC_GIE" data-ref="_M/BDC_GIE">BDC_GIE</dfn>		(1 &lt;&lt; 1)</u></td></tr>
<tr><th id="193">193</th><td><u>#define <dfn class="macro" id="_M/BDC_GIP" data-ref="_M/BDC_GIP">BDC_GIP</dfn>		(1 &lt;&lt; 0)</u></td></tr>
<tr><th id="194">194</th><td></td></tr>
<tr><th id="195">195</th><td><u>#define <dfn class="macro" id="_M/BDC_HLT" data-ref="_M/BDC_HLT">BDC_HLT</dfn>	1</u></td></tr>
<tr><th id="196">196</th><td><u>#define <dfn class="macro" id="_M/BDC_NOR" data-ref="_M/BDC_NOR">BDC_NOR</dfn>	2</u></td></tr>
<tr><th id="197">197</th><td><u>#define <dfn class="macro" id="_M/BDC_OIP" data-ref="_M/BDC_OIP">BDC_OIP</dfn>	7</u></td></tr>
<tr><th id="198">198</th><td></td></tr>
<tr><th id="199">199</th><td><i>/* Buffer descriptor and Status report bit fields and masks */</i></td></tr>
<tr><th id="200">200</th><td><u>#define <dfn class="macro" id="_M/BD_TYPE_BITMASK" data-ref="_M/BD_TYPE_BITMASK">BD_TYPE_BITMASK</dfn>	(0xf)</u></td></tr>
<tr><th id="201">201</th><td><u>#define <dfn class="macro" id="_M/BD_CHAIN" data-ref="_M/BD_CHAIN">BD_CHAIN</dfn>	0xf</u></td></tr>
<tr><th id="202">202</th><td></td></tr>
<tr><th id="203">203</th><td><u>#define <dfn class="macro" id="_M/BD_TFS_SHIFT" data-ref="_M/BD_TFS_SHIFT">BD_TFS_SHIFT</dfn>	4</u></td></tr>
<tr><th id="204">204</th><td><u>#define <dfn class="macro" id="_M/BD_SOT" data-ref="_M/BD_SOT">BD_SOT</dfn>		(1 &lt;&lt; 26)</u></td></tr>
<tr><th id="205">205</th><td><u>#define <dfn class="macro" id="_M/BD_EOT" data-ref="_M/BD_EOT">BD_EOT</dfn>		(1 &lt;&lt; 27)</u></td></tr>
<tr><th id="206">206</th><td><u>#define <dfn class="macro" id="_M/BD_ISP" data-ref="_M/BD_ISP">BD_ISP</dfn>		(1 &lt;&lt; 29)</u></td></tr>
<tr><th id="207">207</th><td><u>#define <dfn class="macro" id="_M/BD_IOC" data-ref="_M/BD_IOC">BD_IOC</dfn>		(1 &lt;&lt; 30)</u></td></tr>
<tr><th id="208">208</th><td><u>#define <dfn class="macro" id="_M/BD_SBF" data-ref="_M/BD_SBF">BD_SBF</dfn>		(1 &lt;&lt; 31)</u></td></tr>
<tr><th id="209">209</th><td></td></tr>
<tr><th id="210">210</th><td><u>#define <dfn class="macro" id="_M/BD_INTR_TARGET" data-ref="_M/BD_INTR_TARGET">BD_INTR_TARGET</dfn>(p)	(((p) &amp; 0x1f) &lt;&lt; 27)</u></td></tr>
<tr><th id="211">211</th><td></td></tr>
<tr><th id="212">212</th><td><u>#define <dfn class="macro" id="_M/BDC_SRR_RWS" data-ref="_M/BDC_SRR_RWS">BDC_SRR_RWS</dfn>		(1 &lt;&lt; 4)</u></td></tr>
<tr><th id="213">213</th><td><u>#define <dfn class="macro" id="_M/BDC_SRR_RST" data-ref="_M/BDC_SRR_RST">BDC_SRR_RST</dfn>		(1 &lt;&lt; 3)</u></td></tr>
<tr><th id="214">214</th><td><u>#define <dfn class="macro" id="_M/BDC_SRR_ISR" data-ref="_M/BDC_SRR_ISR">BDC_SRR_ISR</dfn>		(1 &lt;&lt; 2)</u></td></tr>
<tr><th id="215">215</th><td><u>#define <dfn class="macro" id="_M/BDC_SRR_IE" data-ref="_M/BDC_SRR_IE">BDC_SRR_IE</dfn>		(1 &lt;&lt; 1)</u></td></tr>
<tr><th id="216">216</th><td><u>#define <dfn class="macro" id="_M/BDC_SRR_IP" data-ref="_M/BDC_SRR_IP">BDC_SRR_IP</dfn>		(1 &lt;&lt; 0)</u></td></tr>
<tr><th id="217">217</th><td><u>#define <dfn class="macro" id="_M/BDC_SRR_EPI" data-ref="_M/BDC_SRR_EPI">BDC_SRR_EPI</dfn>(p)	(((p) &amp; (0xff &lt;&lt; 24)) &gt;&gt; 24)</u></td></tr>
<tr><th id="218">218</th><td><u>#define <dfn class="macro" id="_M/BDC_SRR_DPI" data-ref="_M/BDC_SRR_DPI">BDC_SRR_DPI</dfn>(p) (((p) &amp; (0xff &lt;&lt; 16)) &gt;&gt; 16)</u></td></tr>
<tr><th id="219">219</th><td><u>#define <dfn class="macro" id="_M/BDC_SRR_DPI_MASK" data-ref="_M/BDC_SRR_DPI_MASK">BDC_SRR_DPI_MASK</dfn>	0x00ff0000</u></td></tr>
<tr><th id="220">220</th><td></td></tr>
<tr><th id="221">221</th><td><u>#define <dfn class="macro" id="_M/MARK_CHAIN_BD" data-ref="_M/MARK_CHAIN_BD">MARK_CHAIN_BD</dfn>	(BD_CHAIN|BD_EOT|BD_SOT)</u></td></tr>
<tr><th id="222">222</th><td></td></tr>
<tr><th id="223">223</th><td><i>/* Control transfer BD specific fields */</i></td></tr>
<tr><th id="224">224</th><td><u>#define <dfn class="macro" id="_M/BD_DIR_IN" data-ref="_M/BD_DIR_IN">BD_DIR_IN</dfn>		(1 &lt;&lt; 25)</u></td></tr>
<tr><th id="225">225</th><td></td></tr>
<tr><th id="226">226</th><td><u>#define <dfn class="macro" id="_M/BDC_PTC_MASK" data-ref="_M/BDC_PTC_MASK">BDC_PTC_MASK</dfn>	0xf0000000</u></td></tr>
<tr><th id="227">227</th><td></td></tr>
<tr><th id="228">228</th><td><i>/* status report defines */</i></td></tr>
<tr><th id="229">229</th><td><u>#define <dfn class="macro" id="_M/SR_XSF" data-ref="_M/SR_XSF">SR_XSF</dfn>		0</u></td></tr>
<tr><th id="230">230</th><td><u>#define <dfn class="macro" id="_M/SR_USPC" data-ref="_M/SR_USPC">SR_USPC</dfn>		4</u></td></tr>
<tr><th id="231">231</th><td><u>#define <dfn class="macro" id="_M/SR_BD_LEN" data-ref="_M/SR_BD_LEN">SR_BD_LEN</dfn>(p)    (p &amp; 0xffffff)</u></td></tr>
<tr><th id="232">232</th><td></td></tr>
<tr><th id="233">233</th><td><u>#define <dfn class="macro" id="_M/XSF_SUCC" data-ref="_M/XSF_SUCC">XSF_SUCC</dfn>	0x1</u></td></tr>
<tr><th id="234">234</th><td><u>#define <dfn class="macro" id="_M/XSF_SHORT" data-ref="_M/XSF_SHORT">XSF_SHORT</dfn>	0x3</u></td></tr>
<tr><th id="235">235</th><td><u>#define <dfn class="macro" id="_M/XSF_BABB" data-ref="_M/XSF_BABB">XSF_BABB</dfn>	0x4</u></td></tr>
<tr><th id="236">236</th><td><u>#define <dfn class="macro" id="_M/XSF_SETUP_RECV" data-ref="_M/XSF_SETUP_RECV">XSF_SETUP_RECV</dfn>	0x6</u></td></tr>
<tr><th id="237">237</th><td><u>#define <dfn class="macro" id="_M/XSF_DATA_START" data-ref="_M/XSF_DATA_START">XSF_DATA_START</dfn>	0x7</u></td></tr>
<tr><th id="238">238</th><td><u>#define <dfn class="macro" id="_M/XSF_STATUS_START" data-ref="_M/XSF_STATUS_START">XSF_STATUS_START</dfn> 0x8</u></td></tr>
<tr><th id="239">239</th><td></td></tr>
<tr><th id="240">240</th><td><u>#define <dfn class="macro" id="_M/XSF_STS" data-ref="_M/XSF_STS">XSF_STS</dfn>(p) (((p) &gt;&gt; 28) &amp; 0xf)</u></td></tr>
<tr><th id="241">241</th><td></td></tr>
<tr><th id="242">242</th><td><i>/* Transfer BD fields */</i></td></tr>
<tr><th id="243">243</th><td><u>#define <dfn class="macro" id="_M/BD_LEN" data-ref="_M/BD_LEN">BD_LEN</dfn>(p) ((p) &amp; 0x1ffff)</u></td></tr>
<tr><th id="244">244</th><td><u>#define <dfn class="macro" id="_M/BD_LTF" data-ref="_M/BD_LTF">BD_LTF</dfn>		(1 &lt;&lt; 25)</u></td></tr>
<tr><th id="245">245</th><td><u>#define <dfn class="macro" id="_M/BD_TYPE_DS" data-ref="_M/BD_TYPE_DS">BD_TYPE_DS</dfn>	0x1</u></td></tr>
<tr><th id="246">246</th><td><u>#define <dfn class="macro" id="_M/BD_TYPE_SS" data-ref="_M/BD_TYPE_SS">BD_TYPE_SS</dfn>	0x2</u></td></tr>
<tr><th id="247">247</th><td></td></tr>
<tr><th id="248">248</th><td><u>#define <dfn class="macro" id="_M/BDC_EP_ENABLED" data-ref="_M/BDC_EP_ENABLED">BDC_EP_ENABLED</dfn>     (1 &lt;&lt; 0)</u></td></tr>
<tr><th id="249">249</th><td><u>#define <dfn class="macro" id="_M/BDC_EP_STALL" data-ref="_M/BDC_EP_STALL">BDC_EP_STALL</dfn>       (1 &lt;&lt; 1)</u></td></tr>
<tr><th id="250">250</th><td><u>#define <dfn class="macro" id="_M/BDC_EP_STOP" data-ref="_M/BDC_EP_STOP">BDC_EP_STOP</dfn>        (1 &lt;&lt; 2)</u></td></tr>
<tr><th id="251">251</th><td></td></tr>
<tr><th id="252">252</th><td><i>/* One BD can transfer max 65536 bytes */</i></td></tr>
<tr><th id="253">253</th><td><u>#define <dfn class="macro" id="_M/BD_MAX_BUFF_SIZE" data-ref="_M/BD_MAX_BUFF_SIZE">BD_MAX_BUFF_SIZE</dfn>	(1 &lt;&lt; 16)</u></td></tr>
<tr><th id="254">254</th><td><i>/* Maximum bytes in one XFR, Refer to BDC spec */</i></td></tr>
<tr><th id="255">255</th><td><u>#define <dfn class="macro" id="_M/MAX_XFR_LEN" data-ref="_M/MAX_XFR_LEN">MAX_XFR_LEN</dfn>		16777215</u></td></tr>
<tr><th id="256">256</th><td></td></tr>
<tr><th id="257">257</th><td><i>/* defines for Force Header command */</i></td></tr>
<tr><th id="258">258</th><td><u>#define <dfn class="macro" id="_M/DEV_NOTF_TYPE" data-ref="_M/DEV_NOTF_TYPE">DEV_NOTF_TYPE</dfn> 6</u></td></tr>
<tr><th id="259">259</th><td><u>#define <dfn class="macro" id="_M/FWK_SUBTYPE" data-ref="_M/FWK_SUBTYPE">FWK_SUBTYPE</dfn>  1</u></td></tr>
<tr><th id="260">260</th><td><u>#define <dfn class="macro" id="_M/TRA_PACKET" data-ref="_M/TRA_PACKET">TRA_PACKET</dfn>   4</u></td></tr>
<tr><th id="261">261</th><td></td></tr>
<tr><th id="262">262</th><td><u>#define <dfn class="macro" id="_M/to_bdc_ep" data-ref="_M/to_bdc_ep">to_bdc_ep</dfn>(e)		container_of(e, struct bdc_ep, usb_ep)</u></td></tr>
<tr><th id="263">263</th><td><u>#define <dfn class="macro" id="_M/to_bdc_req" data-ref="_M/to_bdc_req">to_bdc_req</dfn>(r)		container_of(r, struct bdc_req, usb_req)</u></td></tr>
<tr><th id="264">264</th><td><u>#define <dfn class="macro" id="_M/gadget_to_bdc" data-ref="_M/gadget_to_bdc">gadget_to_bdc</dfn>(g)	container_of(g, struct bdc, gadget)</u></td></tr>
<tr><th id="265">265</th><td></td></tr>
<tr><th id="266">266</th><td><i>/* FUNCTION WAKE DEV NOTIFICATION interval, USB3 spec table 8.13 */</i></td></tr>
<tr><th id="267">267</th><td><u>#define <dfn class="macro" id="_M/BDC_TNOTIFY" data-ref="_M/BDC_TNOTIFY">BDC_TNOTIFY</dfn> 2500 /*in ms*/</u></td></tr>
<tr><th id="268">268</th><td><i>/* Devstatus bitfields */</i></td></tr>
<tr><th id="269">269</th><td><u>#define <dfn class="macro" id="_M/REMOTE_WAKEUP_ISSUED" data-ref="_M/REMOTE_WAKEUP_ISSUED">REMOTE_WAKEUP_ISSUED</dfn>	(1 &lt;&lt; 16)</u></td></tr>
<tr><th id="270">270</th><td><u>#define <dfn class="macro" id="_M/DEVICE_SUSPENDED" data-ref="_M/DEVICE_SUSPENDED">DEVICE_SUSPENDED</dfn>	(1 &lt;&lt; 17)</u></td></tr>
<tr><th id="271">271</th><td><u>#define <dfn class="macro" id="_M/FUNC_WAKE_ISSUED" data-ref="_M/FUNC_WAKE_ISSUED">FUNC_WAKE_ISSUED</dfn>	(1 &lt;&lt; 18)</u></td></tr>
<tr><th id="272">272</th><td><u>#define <dfn class="macro" id="_M/REMOTE_WAKE_ENABLE" data-ref="_M/REMOTE_WAKE_ENABLE">REMOTE_WAKE_ENABLE</dfn>	(1 &lt;&lt; USB_DEVICE_REMOTE_WAKEUP)</u></td></tr>
<tr><th id="273">273</th><td></td></tr>
<tr><th id="274">274</th><td><i>/* On disconnect, preserve these bits and clear rest */</i></td></tr>
<tr><th id="275">275</th><td><u>#define <dfn class="macro" id="_M/DEVSTATUS_CLEAR" data-ref="_M/DEVSTATUS_CLEAR">DEVSTATUS_CLEAR</dfn>		(1 &lt;&lt; USB_DEVICE_SELF_POWERED)</u></td></tr>
<tr><th id="276">276</th><td><i>/* Hardware and software Data structures */</i></td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td><i>/* Endpoint bd: buffer descriptor */</i></td></tr>
<tr><th id="279">279</th><td><b>struct</b> <dfn class="type def" id="bdc_bd" title='bdc_bd' data-ref="bdc_bd">bdc_bd</dfn> {</td></tr>
<tr><th id="280">280</th><td>	<a class="typedef" href="../../../../../include/uapi/linux/types.h.html#__le32" title='__le32' data-type='__u32' data-ref="__le32">__le32</a> <dfn class="decl field" id="bdc_bd::offset" title='bdc_bd::offset' data-ref="bdc_bd::offset">offset</dfn>[<var>4</var>];</td></tr>
<tr><th id="281">281</th><td>};</td></tr>
<tr><th id="282">282</th><td></td></tr>
<tr><th id="283">283</th><td><i>/* Status report in Status report ring(srr) */</i></td></tr>
<tr><th id="284">284</th><td><b>struct</b> <dfn class="type def" id="bdc_sr" title='bdc_sr' data-ref="bdc_sr">bdc_sr</dfn> {</td></tr>
<tr><th id="285">285</th><td>	<a class="typedef" href="../../../../../include/uapi/linux/types.h.html#__le32" title='__le32' data-type='__u32' data-ref="__le32">__le32</a> <dfn class="decl field" id="bdc_sr::offset" title='bdc_sr::offset' data-ref="bdc_sr::offset">offset</dfn>[<var>4</var>];</td></tr>
<tr><th id="286">286</th><td>};</td></tr>
<tr><th id="287">287</th><td></td></tr>
<tr><th id="288">288</th><td><i>/* bd_table: contiguous bd's in a table */</i></td></tr>
<tr><th id="289">289</th><td><b>struct</b> <dfn class="type def" id="bd_table" title='bd_table' data-ref="bd_table">bd_table</dfn> {</td></tr>
<tr><th id="290">290</th><td>	<b>struct</b> <a class="type" href="#bdc_bd" title='bdc_bd' data-ref="bdc_bd">bdc_bd</a> *<dfn class="decl field" id="bd_table::start_bd" title='bd_table::start_bd' data-ref="bd_table::start_bd">start_bd</dfn>;</td></tr>
<tr><th id="291">291</th><td>	<i>/* dma address of start bd of table*/</i></td></tr>
<tr><th id="292">292</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#dma_addr_t" title='dma_addr_t' data-type='u64' data-ref="dma_addr_t">dma_addr_t</a> <dfn class="decl field" id="bd_table::dma" title='bd_table::dma' data-ref="bd_table::dma">dma</dfn>;</td></tr>
<tr><th id="293">293</th><td>};</td></tr>
<tr><th id="294">294</th><td></td></tr>
<tr><th id="295">295</th><td><i>/*</i></td></tr>
<tr><th id="296">296</th><td><i> * Each endpoint has a bdl(buffer descriptor list), bdl consists of 1 or more bd</i></td></tr>
<tr><th id="297">297</th><td><i> * table's chained to each other through a chain bd, every table has equal</i></td></tr>
<tr><th id="298">298</th><td><i> * number of bds. the software uses bdi(bd index) to refer to particular bd in</i></td></tr>
<tr><th id="299">299</th><td><i> * the list.</i></td></tr>
<tr><th id="300">300</th><td><i> */</i></td></tr>
<tr><th id="301">301</th><td><b>struct</b> <dfn class="type def" id="bd_list" title='bd_list' data-ref="bd_list">bd_list</dfn> {</td></tr>
<tr><th id="302">302</th><td>	<i>/* Array of bd table pointers*/</i></td></tr>
<tr><th id="303">303</th><td>	<b>struct</b> <a class="type" href="#bd_table" title='bd_table' data-ref="bd_table">bd_table</a> **<dfn class="decl field" id="bd_list::bd_table_array" title='bd_list::bd_table_array' data-ref="bd_list::bd_table_array">bd_table_array</dfn>;</td></tr>
<tr><th id="304">304</th><td>	<i>/* How many tables chained to each other */</i></td></tr>
<tr><th id="305">305</th><td>	<em>int</em> <dfn class="decl field" id="bd_list::num_tabs" title='bd_list::num_tabs' data-ref="bd_list::num_tabs">num_tabs</dfn>;</td></tr>
<tr><th id="306">306</th><td>	<i>/* Max_bdi = num_tabs * num_bds_table - 1 */</i></td></tr>
<tr><th id="307">307</th><td>	<em>int</em> <dfn class="decl field" id="bd_list::max_bdi" title='bd_list::max_bdi' data-ref="bd_list::max_bdi">max_bdi</dfn>;</td></tr>
<tr><th id="308">308</th><td>	<i>/* current enq bdi from sw point of view */</i></td></tr>
<tr><th id="309">309</th><td>	<em>int</em> <dfn class="decl field" id="bd_list::eqp_bdi" title='bd_list::eqp_bdi' data-ref="bd_list::eqp_bdi">eqp_bdi</dfn>;</td></tr>
<tr><th id="310">310</th><td>	<i>/* current deq bdi from sw point of view */</i></td></tr>
<tr><th id="311">311</th><td>	<em>int</em> <dfn class="decl field" id="bd_list::hwd_bdi" title='bd_list::hwd_bdi' data-ref="bd_list::hwd_bdi">hwd_bdi</dfn>;</td></tr>
<tr><th id="312">312</th><td>	<i>/* numbers of bds per table */</i></td></tr>
<tr><th id="313">313</th><td>	<em>int</em> <dfn class="decl field" id="bd_list::num_bds_table" title='bd_list::num_bds_table' data-ref="bd_list::num_bds_table">num_bds_table</dfn>;</td></tr>
<tr><th id="314">314</th><td>};</td></tr>
<tr><th id="315">315</th><td></td></tr>
<tr><th id="316">316</th><td><b>struct</b> <a class="type" href="#bdc_req" title='bdc_req' data-ref="bdc_req">bdc_req</a>;</td></tr>
<tr><th id="317">317</th><td></td></tr>
<tr><th id="318">318</th><td><i>/* Representation of a transfer, one transfer can have multiple bd's */</i></td></tr>
<tr><th id="319">319</th><td><b>struct</b> <dfn class="type def" id="bd_transfer" title='bd_transfer' data-ref="bd_transfer">bd_transfer</dfn> {</td></tr>
<tr><th id="320">320</th><td>	<b>struct</b> <a class="type" href="#bdc_req" title='bdc_req' data-ref="bdc_req">bdc_req</a> *<dfn class="decl field" id="bd_transfer::req" title='bd_transfer::req' data-ref="bd_transfer::req">req</dfn>;</td></tr>
<tr><th id="321">321</th><td>	<i>/* start bd index */</i></td></tr>
<tr><th id="322">322</th><td>	<em>int</em> <dfn class="decl field" id="bd_transfer::start_bdi" title='bd_transfer::start_bdi' data-ref="bd_transfer::start_bdi">start_bdi</dfn>;</td></tr>
<tr><th id="323">323</th><td>	<i>/* this will be the next hw dqp when this transfer completes */</i></td></tr>
<tr><th id="324">324</th><td>	<em>int</em> <dfn class="decl field" id="bd_transfer::next_hwd_bdi" title='bd_transfer::next_hwd_bdi' data-ref="bd_transfer::next_hwd_bdi">next_hwd_bdi</dfn>;</td></tr>
<tr><th id="325">325</th><td>	<i>/* number of bds in this transfer */</i></td></tr>
<tr><th id="326">326</th><td>	<em>int</em> <dfn class="decl field" id="bd_transfer::num_bds" title='bd_transfer::num_bds' data-ref="bd_transfer::num_bds">num_bds</dfn>;</td></tr>
<tr><th id="327">327</th><td>};</td></tr>
<tr><th id="328">328</th><td></td></tr>
<tr><th id="329">329</th><td><i>/*</i></td></tr>
<tr><th id="330">330</th><td><i> * Representation of a gadget request, every gadget request is contained</i></td></tr>
<tr><th id="331">331</th><td><i> * by 1 bd_transfer.</i></td></tr>
<tr><th id="332">332</th><td><i> */</i></td></tr>
<tr><th id="333">333</th><td><b>struct</b> <dfn class="type def" id="bdc_req" title='bdc_req' data-ref="bdc_req">bdc_req</dfn> {</td></tr>
<tr><th id="334">334</th><td>	<b>struct</b> <a class="type" href="../../../../../include/linux/usb/gadget.h.html#usb_request" title='usb_request' data-ref="usb_request">usb_request</a>	<dfn class="decl field" id="bdc_req::usb_req" title='bdc_req::usb_req' data-ref="bdc_req::usb_req">usb_req</dfn>;</td></tr>
<tr><th id="335">335</th><td>	<b>struct</b> <a class="type" href="../../../../../include/linux/types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a>	<dfn class="decl field" id="bdc_req::queue" title='bdc_req::queue' data-ref="bdc_req::queue">queue</dfn>;</td></tr>
<tr><th id="336">336</th><td>	<b>struct</b> <a class="type" href="#bdc_ep" title='bdc_ep' data-ref="bdc_ep">bdc_ep</a>		*<dfn class="decl field" id="bdc_req::ep" title='bdc_req::ep' data-ref="bdc_req::ep">ep</dfn>;</td></tr>
<tr><th id="337">337</th><td>	<i>/* only one Transfer per request */</i></td></tr>
<tr><th id="338">338</th><td>	<b>struct</b> <a class="type" href="#bd_transfer" title='bd_transfer' data-ref="bd_transfer">bd_transfer</a> <dfn class="decl field" id="bdc_req::bd_xfr" title='bdc_req::bd_xfr' data-ref="bdc_req::bd_xfr">bd_xfr</dfn>;</td></tr>
<tr><th id="339">339</th><td>	<em>int</em>	<dfn class="decl field" id="bdc_req::epnum" title='bdc_req::epnum' data-ref="bdc_req::epnum">epnum</dfn>;</td></tr>
<tr><th id="340">340</th><td>};</td></tr>
<tr><th id="341">341</th><td></td></tr>
<tr><th id="342">342</th><td><i>/* scratchpad buffer needed by bdc hardware */</i></td></tr>
<tr><th id="343">343</th><td><b>struct</b> <dfn class="type def" id="bdc_scratchpad" title='bdc_scratchpad' data-ref="bdc_scratchpad">bdc_scratchpad</dfn> {</td></tr>
<tr><th id="344">344</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#dma_addr_t" title='dma_addr_t' data-type='u64' data-ref="dma_addr_t">dma_addr_t</a> <dfn class="decl field" id="bdc_scratchpad::sp_dma" title='bdc_scratchpad::sp_dma' data-ref="bdc_scratchpad::sp_dma">sp_dma</dfn>;</td></tr>
<tr><th id="345">345</th><td>	<em>void</em> *<dfn class="decl field" id="bdc_scratchpad::buff" title='bdc_scratchpad::buff' data-ref="bdc_scratchpad::buff">buff</dfn>;</td></tr>
<tr><th id="346">346</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> <dfn class="decl field" id="bdc_scratchpad::size" title='bdc_scratchpad::size' data-ref="bdc_scratchpad::size">size</dfn>;</td></tr>
<tr><th id="347">347</th><td>};</td></tr>
<tr><th id="348">348</th><td></td></tr>
<tr><th id="349">349</th><td><i>/* endpoint representation */</i></td></tr>
<tr><th id="350">350</th><td><b>struct</b> <dfn class="type def" id="bdc_ep" title='bdc_ep' data-ref="bdc_ep">bdc_ep</dfn> {</td></tr>
<tr><th id="351">351</th><td>	<b>struct</b> <a class="type" href="../../../../../include/linux/usb/gadget.h.html#usb_ep" title='usb_ep' data-ref="usb_ep">usb_ep</a>	<dfn class="decl field" id="bdc_ep::usb_ep" title='bdc_ep::usb_ep' data-ref="bdc_ep::usb_ep">usb_ep</dfn>;</td></tr>
<tr><th id="352">352</th><td>	<b>struct</b> <a class="type" href="../../../../../include/linux/types.h.html#list_head" title='list_head' data-ref="list_head">list_head</a> <dfn class="decl field" id="bdc_ep::queue" title='bdc_ep::queue' data-ref="bdc_ep::queue">queue</dfn>;</td></tr>
<tr><th id="353">353</th><td>	<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *<dfn class="decl field" id="bdc_ep::bdc" title='bdc_ep::bdc' data-ref="bdc_ep::bdc">bdc</dfn>;</td></tr>
<tr><th id="354">354</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8">u8</a>  <dfn class="decl field" id="bdc_ep::ep_type" title='bdc_ep::ep_type' data-ref="bdc_ep::ep_type">ep_type</dfn>;</td></tr>
<tr><th id="355">355</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8">u8</a>  <dfn class="decl field" id="bdc_ep::dir" title='bdc_ep::dir' data-ref="bdc_ep::dir">dir</dfn>;</td></tr>
<tr><th id="356">356</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8">u8</a>  <dfn class="decl field" id="bdc_ep::ep_num" title='bdc_ep::ep_num' data-ref="bdc_ep::ep_num">ep_num</dfn>;</td></tr>
<tr><th id="357">357</th><td>	<em>const</em> <b>struct</b> <a class="type" href="../../../../../include/uapi/linux/usb/ch9.h.html#usb_ss_ep_comp_descriptor" title='usb_ss_ep_comp_descriptor' data-ref="usb_ss_ep_comp_descriptor">usb_ss_ep_comp_descriptor</a>	*<dfn class="decl field" id="bdc_ep::comp_desc" title='bdc_ep::comp_desc' data-ref="bdc_ep::comp_desc">comp_desc</dfn>;</td></tr>
<tr><th id="358">358</th><td>	<em>const</em> <b>struct</b> <a class="type" href="../../../../../include/uapi/linux/usb/ch9.h.html#usb_endpoint_descriptor" title='usb_endpoint_descriptor' data-ref="usb_endpoint_descriptor">usb_endpoint_descriptor</a>	*<dfn class="decl field" id="bdc_ep::desc" title='bdc_ep::desc' data-ref="bdc_ep::desc">desc</dfn>;</td></tr>
<tr><th id="359">359</th><td>	<em>unsigned</em> <em>int</em> <dfn class="decl field" id="bdc_ep::flags" title='bdc_ep::flags' data-ref="bdc_ep::flags">flags</dfn>;</td></tr>
<tr><th id="360">360</th><td>	<em>char</em> <dfn class="decl field" id="bdc_ep::name" title='bdc_ep::name' data-ref="bdc_ep::name">name</dfn>[<var>20</var>];</td></tr>
<tr><th id="361">361</th><td>	<i>/* endpoint bd list*/</i></td></tr>
<tr><th id="362">362</th><td>	<b>struct</b> <a class="type" href="#bd_list" title='bd_list' data-ref="bd_list">bd_list</a> <dfn class="decl field" id="bdc_ep::bd_list" title='bdc_ep::bd_list' data-ref="bdc_ep::bd_list">bd_list</dfn>;</td></tr>
<tr><th id="363">363</th><td>	<i>/*</i></td></tr>
<tr><th id="364">364</th><td><i>	 * HW generates extra event for multi bd tranfers, this flag helps in</i></td></tr>
<tr><th id="365">365</th><td><i>	 * ignoring the extra event</i></td></tr>
<tr><th id="366">366</th><td><i>	 */</i></td></tr>
<tr><th id="367">367</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a> <dfn class="decl field" id="bdc_ep::ignore_next_sr" title='bdc_ep::ignore_next_sr' data-ref="bdc_ep::ignore_next_sr">ignore_next_sr</dfn>;</td></tr>
<tr><th id="368">368</th><td>};</td></tr>
<tr><th id="369">369</th><td></td></tr>
<tr><th id="370">370</th><td><i>/* bdc cmmand parameter structure */</i></td></tr>
<tr><th id="371">371</th><td><b>struct</b> <dfn class="type def" id="bdc_cmd_params" title='bdc_cmd_params' data-ref="bdc_cmd_params">bdc_cmd_params</dfn> {</td></tr>
<tr><th id="372">372</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a>	<dfn class="decl field" id="bdc_cmd_params::param2" title='bdc_cmd_params::param2' data-ref="bdc_cmd_params::param2">param2</dfn>;</td></tr>
<tr><th id="373">373</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a>	<dfn class="decl field" id="bdc_cmd_params::param1" title='bdc_cmd_params::param1' data-ref="bdc_cmd_params::param1">param1</dfn>;</td></tr>
<tr><th id="374">374</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a>	<dfn class="decl field" id="bdc_cmd_params::param0" title='bdc_cmd_params::param0' data-ref="bdc_cmd_params::param0">param0</dfn>;</td></tr>
<tr><th id="375">375</th><td>};</td></tr>
<tr><th id="376">376</th><td></td></tr>
<tr><th id="377">377</th><td><i>/* status report ring(srr), currently one srr is supported for entire system */</i></td></tr>
<tr><th id="378">378</th><td><b>struct</b> <dfn class="type def" id="srr" title='srr' data-ref="srr">srr</dfn> {</td></tr>
<tr><th id="379">379</th><td>	<b>struct</b> <a class="type" href="#bdc_sr" title='bdc_sr' data-ref="bdc_sr">bdc_sr</a> *<dfn class="decl field" id="srr::sr_bds" title='srr::sr_bds' data-ref="srr::sr_bds">sr_bds</dfn>;</td></tr>
<tr><th id="380">380</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16">u16</a>	<dfn class="decl field" id="srr::eqp_index" title='srr::eqp_index' data-ref="srr::eqp_index">eqp_index</dfn>;</td></tr>
<tr><th id="381">381</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u16" title='u16' data-type='__u16' data-ref="u16">u16</a>	<dfn class="decl field" id="srr::dqp_index" title='srr::dqp_index' data-ref="srr::dqp_index">dqp_index</dfn>;</td></tr>
<tr><th id="382">382</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#dma_addr_t" title='dma_addr_t' data-type='u64' data-ref="dma_addr_t">dma_addr_t</a>	<dfn class="decl field" id="srr::dma_addr" title='srr::dma_addr' data-ref="srr::dma_addr">dma_addr</dfn>;</td></tr>
<tr><th id="383">383</th><td>};</td></tr>
<tr><th id="384">384</th><td></td></tr>
<tr><th id="385">385</th><td><i>/* EP0 states */</i></td></tr>
<tr><th id="386">386</th><td><b>enum</b> <dfn class="type def" id="bdc_ep0_state" title='bdc_ep0_state' data-ref="bdc_ep0_state">bdc_ep0_state</dfn> {</td></tr>
<tr><th id="387">387</th><td>	<dfn class="enum" id="WAIT_FOR_SETUP" title='WAIT_FOR_SETUP' data-ref="WAIT_FOR_SETUP">WAIT_FOR_SETUP</dfn> = <var>0</var>,</td></tr>
<tr><th id="388">388</th><td>	<dfn class="enum" id="WAIT_FOR_DATA_START" title='WAIT_FOR_DATA_START' data-ref="WAIT_FOR_DATA_START">WAIT_FOR_DATA_START</dfn>,</td></tr>
<tr><th id="389">389</th><td>	<dfn class="enum" id="WAIT_FOR_DATA_XMIT" title='WAIT_FOR_DATA_XMIT' data-ref="WAIT_FOR_DATA_XMIT">WAIT_FOR_DATA_XMIT</dfn>,</td></tr>
<tr><th id="390">390</th><td>	<dfn class="enum" id="WAIT_FOR_STATUS_START" title='WAIT_FOR_STATUS_START' data-ref="WAIT_FOR_STATUS_START">WAIT_FOR_STATUS_START</dfn>,</td></tr>
<tr><th id="391">391</th><td>	<dfn class="enum" id="WAIT_FOR_STATUS_XMIT" title='WAIT_FOR_STATUS_XMIT' data-ref="WAIT_FOR_STATUS_XMIT">WAIT_FOR_STATUS_XMIT</dfn>,</td></tr>
<tr><th id="392">392</th><td>	<dfn class="enum" id="STATUS_PENDING" title='STATUS_PENDING' data-ref="STATUS_PENDING">STATUS_PENDING</dfn></td></tr>
<tr><th id="393">393</th><td>};</td></tr>
<tr><th id="394">394</th><td></td></tr>
<tr><th id="395">395</th><td><i>/* Link states */</i></td></tr>
<tr><th id="396">396</th><td><b>enum</b> <dfn class="type def" id="bdc_link_state" title='bdc_link_state' data-ref="bdc_link_state">bdc_link_state</dfn> {</td></tr>
<tr><th id="397">397</th><td>	<dfn class="enum" id="BDC_LINK_STATE_U0" title='BDC_LINK_STATE_U0' data-ref="BDC_LINK_STATE_U0">BDC_LINK_STATE_U0</dfn>	= <var>0x00</var>,</td></tr>
<tr><th id="398">398</th><td>	<dfn class="enum" id="BDC_LINK_STATE_U3" title='BDC_LINK_STATE_U3' data-ref="BDC_LINK_STATE_U3">BDC_LINK_STATE_U3</dfn>	= <var>0x03</var>,</td></tr>
<tr><th id="399">399</th><td>	<dfn class="enum" id="BDC_LINK_STATE_RX_DET" title='BDC_LINK_STATE_RX_DET' data-ref="BDC_LINK_STATE_RX_DET">BDC_LINK_STATE_RX_DET</dfn>	= <var>0x05</var>,</td></tr>
<tr><th id="400">400</th><td>	<dfn class="enum" id="BDC_LINK_STATE_RESUME" title='BDC_LINK_STATE_RESUME' data-ref="BDC_LINK_STATE_RESUME">BDC_LINK_STATE_RESUME</dfn>	= <var>0x0f</var></td></tr>
<tr><th id="401">401</th><td>};</td></tr>
<tr><th id="402">402</th><td></td></tr>
<tr><th id="403">403</th><td><i>/* representation of bdc */</i></td></tr>
<tr><th id="404">404</th><td><b>struct</b> <dfn class="type def" id="bdc" title='bdc' data-ref="bdc">bdc</dfn> {</td></tr>
<tr><th id="405">405</th><td>	<b>struct</b> <a class="type" href="../../../../../include/linux/usb/gadget.h.html#usb_gadget" title='usb_gadget' data-ref="usb_gadget">usb_gadget</a>	<dfn class="decl field" id="bdc::gadget" title='bdc::gadget' data-ref="bdc::gadget">gadget</dfn>;</td></tr>
<tr><th id="406">406</th><td>	<b>struct</b> <a class="type" href="../../../../../include/linux/usb/gadget.h.html#usb_gadget_driver" title='usb_gadget_driver' data-ref="usb_gadget_driver">usb_gadget_driver</a>	*<dfn class="decl field" id="bdc::gadget_driver" title='bdc::gadget_driver' data-ref="bdc::gadget_driver">gadget_driver</dfn>;</td></tr>
<tr><th id="407">407</th><td>	<b>struct</b> <a class="type" href="../../../../../include/linux/device.h.html#device" title='device' data-ref="device">device</a>	*<dfn class="decl field" id="bdc::dev" title='bdc::dev' data-ref="bdc::dev">dev</dfn>;</td></tr>
<tr><th id="408">408</th><td>	<i>/* device lock */</i></td></tr>
<tr><th id="409">409</th><td>	<a class="typedef" href="../../../../../include/linux/spinlock_types.h.html#spinlock_t" title='spinlock_t' data-type='struct spinlock' data-ref="spinlock_t">spinlock_t</a>	<dfn class="decl field" id="bdc::lock" title='bdc::lock' data-ref="bdc::lock">lock</dfn>;</td></tr>
<tr><th id="410">410</th><td></td></tr>
<tr><th id="411">411</th><td>	<i>/* generic phy */</i></td></tr>
<tr><th id="412">412</th><td>	<b>struct</b> <dfn class="type" id="phy" title='phy' data-ref="phy"><a class="type" href="#phy" title='phy' data-ref="phy">phy</a></dfn>      **<dfn class="decl field" id="bdc::phys" title='bdc::phys' data-ref="bdc::phys">phys</dfn>;</td></tr>
<tr><th id="413">413</th><td>	<em>int</em> <dfn class="decl field" id="bdc::num_phys" title='bdc::num_phys' data-ref="bdc::num_phys">num_phys</dfn>;</td></tr>
<tr><th id="414">414</th><td>	<i>/* num of endpoints for a particular instantiation of IP */</i></td></tr>
<tr><th id="415">415</th><td>	<em>unsigned</em> <em>int</em> <dfn class="decl field" id="bdc::num_eps" title='bdc::num_eps' data-ref="bdc::num_eps">num_eps</dfn>;</td></tr>
<tr><th id="416">416</th><td>	<i>/*</i></td></tr>
<tr><th id="417">417</th><td><i>	 * Array of ep's, it uses the same index covention as bdc hw i.e.</i></td></tr>
<tr><th id="418">418</th><td><i>	 * 1 for ep0, 2 for 1out,3 for 1in ....</i></td></tr>
<tr><th id="419">419</th><td><i>	 */</i></td></tr>
<tr><th id="420">420</th><td>	<b>struct</b> <a class="type" href="#bdc_ep" title='bdc_ep' data-ref="bdc_ep">bdc_ep</a>		**<dfn class="decl field" id="bdc::bdc_ep_array" title='bdc::bdc_ep_array' data-ref="bdc::bdc_ep_array">bdc_ep_array</dfn>;</td></tr>
<tr><th id="421">421</th><td>	<em>void</em> <a class="macro" href="../../../../../include/linux/compiler_types.h.html#35" title="" data-ref="_M/__iomem">__iomem</a>		*<dfn class="decl field" id="bdc::regs" title='bdc::regs' data-ref="bdc::regs">regs</dfn>;</td></tr>
<tr><th id="422">422</th><td>	<b>struct</b> <a class="type" href="#bdc_scratchpad" title='bdc_scratchpad' data-ref="bdc_scratchpad">bdc_scratchpad</a>	<dfn class="decl field" id="bdc::scratchpad" title='bdc::scratchpad' data-ref="bdc::scratchpad">scratchpad</dfn>;</td></tr>
<tr><th id="423">423</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a>	<dfn class="decl field" id="bdc::sp_buff_size" title='bdc::sp_buff_size' data-ref="bdc::sp_buff_size">sp_buff_size</dfn>;</td></tr>
<tr><th id="424">424</th><td>	<i>/* current driver supports 1 status ring */</i></td></tr>
<tr><th id="425">425</th><td>	<b>struct</b> <a class="type" href="#srr" title='srr' data-ref="srr">srr</a>	<dfn class="decl field" id="bdc::srr" title='bdc::srr' data-ref="bdc::srr">srr</dfn>;</td></tr>
<tr><th id="426">426</th><td>	<i>/* Last received setup packet */</i></td></tr>
<tr><th id="427">427</th><td>	<b>struct</b>	<a class="type" href="../../../../../include/uapi/linux/usb/ch9.h.html#usb_ctrlrequest" title='usb_ctrlrequest' data-ref="usb_ctrlrequest">usb_ctrlrequest</a> <dfn class="decl field" id="bdc::setup_pkt" title='bdc::setup_pkt' data-ref="bdc::setup_pkt">setup_pkt</dfn>;</td></tr>
<tr><th id="428">428</th><td>	<b>struct</b>	<a class="type" href="#bdc_req" title='bdc_req' data-ref="bdc_req">bdc_req</a> <dfn class="decl field" id="bdc::ep0_req" title='bdc::ep0_req' data-ref="bdc::ep0_req">ep0_req</dfn>;</td></tr>
<tr><th id="429">429</th><td>	<b>struct</b>	<a class="type" href="#bdc_req" title='bdc_req' data-ref="bdc_req">bdc_req</a> <dfn class="decl field" id="bdc::status_req" title='bdc::status_req' data-ref="bdc::status_req">status_req</dfn>;</td></tr>
<tr><th id="430">430</th><td>	<b>enum</b>	<a class="type" href="#bdc_ep0_state" title='bdc_ep0_state' data-ref="bdc_ep0_state">bdc_ep0_state</a> <dfn class="decl field" id="bdc::ep0_state" title='bdc::ep0_state' data-ref="bdc::ep0_state">ep0_state</dfn>;</td></tr>
<tr><th id="431">431</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a>	<dfn class="decl field" id="bdc::delayed_status" title='bdc::delayed_status' data-ref="bdc::delayed_status">delayed_status</dfn>;</td></tr>
<tr><th id="432">432</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a>	<dfn class="decl field" id="bdc::zlp_needed" title='bdc::zlp_needed' data-ref="bdc::zlp_needed">zlp_needed</dfn>;</td></tr>
<tr><th id="433">433</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a>	<dfn class="decl field" id="bdc::reinit" title='bdc::reinit' data-ref="bdc::reinit">reinit</dfn>;</td></tr>
<tr><th id="434">434</th><td>	<a class="typedef" href="../../../../../include/linux/types.h.html#bool" title='bool' data-type='_Bool' data-ref="bool">bool</a>	<dfn class="decl field" id="bdc::pullup" title='bdc::pullup' data-ref="bdc::pullup">pullup</dfn>;</td></tr>
<tr><th id="435">435</th><td>	<i>/* Bits 0-15 are standard and 16-31 for proprietary information */</i></td></tr>
<tr><th id="436">436</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a>	<dfn class="decl field" id="bdc::devstatus" title='bdc::devstatus' data-ref="bdc::devstatus">devstatus</dfn>;</td></tr>
<tr><th id="437">437</th><td>	<em>int</em>	<dfn class="decl field" id="bdc::irq" title='bdc::irq' data-ref="bdc::irq">irq</dfn>;</td></tr>
<tr><th id="438">438</th><td>	<em>void</em>	*<dfn class="decl field" id="bdc::mem" title='bdc::mem' data-ref="bdc::mem">mem</dfn>;</td></tr>
<tr><th id="439">439</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a>	<dfn class="decl field" id="bdc::dev_addr" title='bdc::dev_addr' data-ref="bdc::dev_addr">dev_addr</dfn>;</td></tr>
<tr><th id="440">440</th><td>	<i>/* DMA pools */</i></td></tr>
<tr><th id="441">441</th><td>	<b>struct</b> <dfn class="type" id="dma_pool" title='dma_pool' data-ref="dma_pool"><a class="type" href="#dma_pool" title='dma_pool' data-ref="dma_pool">dma_pool</a></dfn>	*<dfn class="decl field" id="bdc::bd_table_pool" title='bdc::bd_table_pool' data-ref="bdc::bd_table_pool">bd_table_pool</dfn>;</td></tr>
<tr><th id="442">442</th><td>	<a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u8" title='u8' data-type='__u8' data-ref="u8">u8</a>		<dfn class="decl field" id="bdc::test_mode" title='bdc::test_mode' data-ref="bdc::test_mode">test_mode</dfn>;</td></tr>
<tr><th id="443">443</th><td>	<i>/* array of callbacks for various status report handlers */</i></td></tr>
<tr><th id="444">444</th><td>	<em>void</em> (*<dfn class="decl field" id="bdc::sr_handler" title='bdc::sr_handler' data-ref="bdc::sr_handler">sr_handler</dfn>[<var>2</var>])(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *, <b>struct</b> <a class="type" href="#bdc_sr" title='bdc_sr' data-ref="bdc_sr">bdc_sr</a> *);</td></tr>
<tr><th id="445">445</th><td>	<i>/* ep0 callback handlers */</i></td></tr>
<tr><th id="446">446</th><td>	<em>void</em> (*<dfn class="decl field" id="bdc::sr_xsf_ep0" title='bdc::sr_xsf_ep0' data-ref="bdc::sr_xsf_ep0">sr_xsf_ep0</dfn>[<var>3</var>])(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *, <b>struct</b> <a class="type" href="#bdc_sr" title='bdc_sr' data-ref="bdc_sr">bdc_sr</a> *);</td></tr>
<tr><th id="447">447</th><td>	<i>/* ep0 response buffer for ch9 requests like GET_STATUS and SET_SEL */</i></td></tr>
<tr><th id="448">448</th><td>	<em>unsigned</em> <em>char</em>		<dfn class="decl field" id="bdc::ep0_response_buff" title='bdc::ep0_response_buff' data-ref="bdc::ep0_response_buff">ep0_response_buff</dfn>[<a class="macro" href="#39" title="6" data-ref="_M/EP0_RESPONSE_BUFF">EP0_RESPONSE_BUFF</a>];</td></tr>
<tr><th id="449">449</th><td>	<i>/*</i></td></tr>
<tr><th id="450">450</th><td><i>	 * Timer to check if host resumed transfer after bdc sent Func wake</i></td></tr>
<tr><th id="451">451</th><td><i>	 * notification  packet after a remote wakeup. if not, then resend the</i></td></tr>
<tr><th id="452">452</th><td><i>	 * Func Wake packet every 2.5 secs. Refer to USB3 spec section 8.5.6.4</i></td></tr>
<tr><th id="453">453</th><td><i>	 */</i></td></tr>
<tr><th id="454">454</th><td>	<b>struct</b> <a class="type" href="../../../../../include/linux/workqueue.h.html#delayed_work" title='delayed_work' data-ref="delayed_work">delayed_work</a>	<dfn class="decl field" id="bdc::func_wake_notify" title='bdc::func_wake_notify' data-ref="bdc::func_wake_notify">func_wake_notify</dfn>;</td></tr>
<tr><th id="455">455</th><td>	<b>struct</b> <dfn class="type" id="clk" title='clk' data-ref="clk"><a class="type" href="#clk" title='clk' data-ref="clk">clk</a></dfn>		*<dfn class="decl field" id="bdc::clk" title='bdc::clk' data-ref="bdc::clk">clk</dfn>;</td></tr>
<tr><th id="456">456</th><td>};</td></tr>
<tr><th id="457">457</th><td></td></tr>
<tr><th id="458">458</th><td><em>static</em> <a class="macro" href="../../../../../include/linux/compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> <dfn class="decl def fn" id="bdc_readl" title='bdc_readl' data-ref="bdc_readl">bdc_readl</dfn>(<em>void</em> <a class="macro" href="../../../../../include/linux/compiler_types.h.html#35" title="" data-ref="_M/__iomem">__iomem</a> *<dfn class="local col1 decl" id="1base" title='base' data-type='void *' data-ref="1base">base</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> <dfn class="local col2 decl" id="2offset" title='offset' data-type='u32' data-ref="2offset">offset</dfn>)</td></tr>
<tr><th id="459">459</th><td>{</td></tr>
<tr><th id="460">460</th><td>	<b>return</b> <a class="macro" href="../../../../../arch/x86/include/asm/io.h.html#75" title="readl" data-ref="_M/readl">readl</a>(<a class="local col1 ref" href="#1base" title='base' data-ref="1base">base</a> + <a class="local col2 ref" href="#2offset" title='offset' data-ref="2offset">offset</a>);</td></tr>
<tr><th id="461">461</th><td>}</td></tr>
<tr><th id="462">462</th><td></td></tr>
<tr><th id="463">463</th><td><em>static</em> <a class="macro" href="../../../../../include/linux/compiler-gcc.h.html#95" title="inline __attribute__((always_inline, unused)) __attribute__((no_instrument_function))" data-ref="_M/inline"><b>inline</b></a> <em>void</em> <dfn class="decl def fn" id="bdc_writel" title='bdc_writel' data-ref="bdc_writel">bdc_writel</dfn>(<em>void</em> <a class="macro" href="../../../../../include/linux/compiler_types.h.html#35" title="" data-ref="_M/__iomem">__iomem</a> *<dfn class="local col3 decl" id="3base" title='base' data-type='void *' data-ref="3base">base</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> <dfn class="local col4 decl" id="4offset" title='offset' data-type='u32' data-ref="4offset">offset</dfn>, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a> <dfn class="local col5 decl" id="5value" title='value' data-type='u32' data-ref="5value">value</dfn>)</td></tr>
<tr><th id="464">464</th><td>{</td></tr>
<tr><th id="465">465</th><td>	<a class="macro" href="../../../../../arch/x86/include/asm/io.h.html#85" title="writel" data-ref="_M/writel">writel</a>(<a class="local col5 ref" href="#5value" title='value' data-ref="5value">value</a>, <a class="local col3 ref" href="#3base" title='base' data-ref="3base">base</a> + <a class="local col4 ref" href="#4offset" title='offset' data-ref="4offset">offset</a>);</td></tr>
<tr><th id="466">466</th><td>}</td></tr>
<tr><th id="467">467</th><td></td></tr>
<tr><th id="468">468</th><td><i>/* Buffer descriptor list operations */</i></td></tr>
<tr><th id="469">469</th><td><em>void</em> <dfn class="decl fn" id="bdc_notify_xfr" title='bdc_notify_xfr' data-ref="bdc_notify_xfr">bdc_notify_xfr</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *, <a class="typedef" href="../../../../../include/asm-generic/int-ll64.h.html#u32" title='u32' data-type='__u32' data-ref="u32">u32</a>);</td></tr>
<tr><th id="470">470</th><td><em>void</em> <dfn class="decl fn" id="bdc_softconn" title='bdc_softconn' data-ref="bdc_softconn">bdc_softconn</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *);</td></tr>
<tr><th id="471">471</th><td><em>void</em> <dfn class="decl fn" id="bdc_softdisconn" title='bdc_softdisconn' data-ref="bdc_softdisconn">bdc_softdisconn</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *);</td></tr>
<tr><th id="472">472</th><td><em>int</em> <dfn class="decl fn" id="bdc_run" title='bdc_run' data-ref="bdc_run">bdc_run</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *);</td></tr>
<tr><th id="473">473</th><td><em>int</em> <dfn class="decl fn" id="bdc_stop" title='bdc_stop' data-ref="bdc_stop">bdc_stop</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *);</td></tr>
<tr><th id="474">474</th><td><em>int</em> <dfn class="decl fn" id="bdc_reset" title='bdc_reset' data-ref="bdc_reset">bdc_reset</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *);</td></tr>
<tr><th id="475">475</th><td><em>int</em> <dfn class="decl fn" id="bdc_udc_init" title='bdc_udc_init' data-ref="bdc_udc_init">bdc_udc_init</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *);</td></tr>
<tr><th id="476">476</th><td><em>void</em> <dfn class="decl fn" id="bdc_udc_exit" title='bdc_udc_exit' data-ref="bdc_udc_exit">bdc_udc_exit</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *);</td></tr>
<tr><th id="477">477</th><td><em>int</em> <dfn class="decl fn" id="bdc_reinit" title='bdc_reinit' data-ref="bdc_reinit">bdc_reinit</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *);</td></tr>
<tr><th id="478">478</th><td></td></tr>
<tr><th id="479">479</th><td><i>/* Status report handlers */</i></td></tr>
<tr><th id="480">480</th><td><i>/* Upstream port status change sr */</i></td></tr>
<tr><th id="481">481</th><td><em>void</em> <dfn class="decl fn" id="bdc_sr_uspc" title='bdc_sr_uspc' data-ref="bdc_sr_uspc">bdc_sr_uspc</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *, <b>struct</b> <a class="type" href="#bdc_sr" title='bdc_sr' data-ref="bdc_sr">bdc_sr</a> *);</td></tr>
<tr><th id="482">482</th><td><i>/* transfer sr */</i></td></tr>
<tr><th id="483">483</th><td><em>void</em> <dfn class="decl fn" id="bdc_sr_xsf" title='bdc_sr_xsf' data-ref="bdc_sr_xsf">bdc_sr_xsf</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *, <b>struct</b> <a class="type" href="#bdc_sr" title='bdc_sr' data-ref="bdc_sr">bdc_sr</a> *);</td></tr>
<tr><th id="484">484</th><td><i>/* EP0 XSF handlers */</i></td></tr>
<tr><th id="485">485</th><td><em>void</em> <dfn class="decl fn" id="bdc_xsf_ep0_setup_recv" title='bdc_xsf_ep0_setup_recv' data-ref="bdc_xsf_ep0_setup_recv">bdc_xsf_ep0_setup_recv</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *, <b>struct</b> <a class="type" href="#bdc_sr" title='bdc_sr' data-ref="bdc_sr">bdc_sr</a> *);</td></tr>
<tr><th id="486">486</th><td><em>void</em> <dfn class="decl fn" id="bdc_xsf_ep0_data_start" title='bdc_xsf_ep0_data_start' data-ref="bdc_xsf_ep0_data_start">bdc_xsf_ep0_data_start</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *, <b>struct</b> <a class="type" href="#bdc_sr" title='bdc_sr' data-ref="bdc_sr">bdc_sr</a> *);</td></tr>
<tr><th id="487">487</th><td><em>void</em> <dfn class="decl fn" id="bdc_xsf_ep0_status_start" title='bdc_xsf_ep0_status_start' data-ref="bdc_xsf_ep0_status_start">bdc_xsf_ep0_status_start</dfn>(<b>struct</b> <a class="type" href="#bdc" title='bdc' data-ref="bdc">bdc</a> *, <b>struct</b> <a class="type" href="#bdc_sr" title='bdc_sr' data-ref="bdc_sr">bdc_sr</a> *);</td></tr>
<tr><th id="488">488</th><td></td></tr>
<tr><th id="489">489</th><td><u>#<span data-ppcond="10">endif</span> /* __LINUX_BDC_H__ */</u></td></tr>
<tr><th id="490">490</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='bdc_cmd.c.html'>linux-4.18.y/drivers/usb/gadget/udc/bdc/bdc_cmd.c</a><br/>Generated on <em>2018-Oct-01</em> from project linux-4.18.y revision <em>linux-4.18.y</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
