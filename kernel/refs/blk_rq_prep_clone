<dec f='linux-4.18.y/include/linux/blkdev.h' l='972' type='int blk_rq_prep_clone(struct request * rq, struct request * rq_src, struct bio_set * bs, gfp_t gfp_mask, int (*)(struct bio *, struct bio *, void *) bio_ctr, void * data)'/>
<def f='linux-4.18.y/block/blk-core.c' l='3521' ll='3556' type='int blk_rq_prep_clone(struct request * rq, struct request * rq_src, struct bio_set * bs, gfp_t gfp_mask, int (*)(struct bio *, struct bio *, void *) bio_ctr, void * data)'/>
<dec f='linux-4.18.y/block/blk-core.c' l='3557' type='int blk_rq_prep_clone(struct request * , struct request * , struct bio_set * , gfp_t , int (*)(struct bio *, struct bio *, void *) , void * )'/>
<use f='linux-4.18.y/block/blk-core.c' l='3557' c='blk_rq_prep_clone'/>
<use f='linux-4.18.y/block/blk-core.c' l='3557' u='a'/>
<use f='linux-4.18.y/block/blk-core.c' l='3557' u='a'/>
<doc f='linux-4.18.y/block/blk-core.c' l='3502'>/**
 * blk_rq_prep_clone - Helper function to setup clone request
 * @rq: the request to be setup
 * @rq_src: original request to be cloned
 * @bs: bio_set that bios for clone are allocated from
 * @gfp_mask: memory allocation mask for bio
 * @bio_ctr: setup function to be called for each clone bio.
 *           Returns %0 for success, non %0 for failure.
 * @data: private data to be passed to @bio_ctr
 *
 * Description:
 *     Clones bios in @rq_src to @rq, and copies attributes of @rq_src to @rq.
 *     The actual data parts of @rq_src (e.g. -&gt;cmd, -&gt;sense)
 *     are not copied, and copying such parts is the caller&apos;s responsibility.
 *     Also, pages which the original bios are pointing to are not copied
 *     and the cloned bios just point same pages.
 *     So cloned bios must be completed before original bios, which means
 *     the caller must complete @rq before @rq_src.
 */</doc>
<use f='linux-4.18.y/drivers/md/dm-rq.c' l='436' u='c' c='setup_clone'/>
