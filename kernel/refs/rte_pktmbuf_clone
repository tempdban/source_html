<def f='linux-4.18.y/lib/librte_mbuf/rte_mbuf.h' l='1710' ll='1745' type='struct rte_mbuf * rte_pktmbuf_clone(struct rte_mbuf * md, struct rte_mempool * mp)'/>
<use f='linux-4.18.y/lib/librte_net/rte_ether.h' l='390' u='c' c='rte_vlan_insert'/>
<doc f='linux-4.18.y/lib/librte_mbuf/rte_mbuf.h' l='1693'>/**
 * Creates a &quot;clone&quot; of the given packet mbuf.
 *
 * Walks through all segments of the given packet mbuf, and for each of them:
 *  - Creates a new packet mbuf from the given pool.
 *  - Attaches newly created mbuf to the segment.
 * Then updates pkt_len and nb_segs of the &quot;clone&quot; packet mbuf to match values
 * from the original packet mbuf.
 *
 * @param md
 *   The packet mbuf to be cloned.
 * @param mp
 *   The mempool from which the &quot;clone&quot; mbufs are allocated.
 * @return
 *   - The pointer to the new &quot;clone&quot; mbuf on success.
 *   - NULL if allocation fails.
 */</doc>
