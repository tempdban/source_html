<dec f='linux-4.18.y/include/linux/sched.h' l='184'/>
<doc f='linux-4.18.y/include/linux/sched.h' l='147'>/*
 * set_current_state() includes a barrier so that the write of current-&gt;state
 * is correctly serialised wrt the caller&apos;s subsequent test of whether to
 * actually sleep:
 *
 *   for (;;) {
 *	set_current_state(TASK_UNINTERRUPTIBLE);
 *	if (!need_sleep)
 *		break;
 *
 *	schedule();
 *   }
 *   __set_current_state(TASK_RUNNING);
 *
 * If the caller does not need such serialisation (because, for instance, the
 * condition test and condition change and wakeup are under the same lock) then
 * use __set_current_state().
 *
 * The above is typically ordered against the wakeup, which does:
 *
 *   need_sleep = false;
 *   wake_up_state(p, TASK_UNINTERRUPTIBLE);
 *
 * Where wake_up_state() (and all other wakeup primitives) imply enough
 * barriers to order the store of the variable against wakeup.
 *
 * Wakeup will do: if (@state &amp; p-&gt;state) p-&gt;state = TASK_RUNNING, that is,
 * once it observes the TASK_UNINTERRUPTIBLE store the waking CPU can issue a
 * TASK_RUNNING store which can collide with __set_current_state(TASK_RUNNING).
 *
 * However, with slightly different timing the wakeup TASK_RUNNING store can
 * also collide with the TASK_UNINTERRUPTIBLE store. Loosing that store is not
 * a problem either because that will result in one extra go around the loop
 * and our @cond test will save the day.
 *
 * Also see the comments of try_to_wake_up().
 */</doc>
<use f='linux-4.18.y/block/blk-mq.c' l='3004' u='c'/>
<use f='linux-4.18.y/block/blk-mq.c' l='3049' u='c'/>
<use f='linux-4.18.y/drivers/base/devtmpfs.c' l='407' u='c'/>
<use f='linux-4.18.y/drivers/char/hpet.c' l='339' u='c'/>
<use f='linux-4.18.y/drivers/dma-buf/dma-fence.c' l='411' u='c'/>
<use f='linux-4.18.y/drivers/dma-buf/dma-fence.c' l='413' u='c'/>
<use f='linux-4.18.y/drivers/dma-buf/dma-fence.c' l='425' u='c'/>
<use f='linux-4.18.y/drivers/dma-buf/dma-fence.c' l='529' u='c'/>
<use f='linux-4.18.y/drivers/gpu/drm/drm_lock.c' l='190' u='c'/>
<use f='linux-4.18.y/drivers/gpu/drm/drm_lock.c' l='215' u='c'/>
<use f='linux-4.18.y/drivers/gpu/drm/drm_syncobj.c' l='797' u='c'/>
<use f='linux-4.18.y/drivers/gpu/drm/vmwgfx/vmwgfx_fence.c' l='203' u='c'/>
<use f='linux-4.18.y/drivers/gpu/drm/vmwgfx/vmwgfx_fence.c' l='205' u='c'/>
<use f='linux-4.18.y/drivers/gpu/drm/vmwgfx/vmwgfx_fence.c' l='217' u='c'/>
<use f='linux-4.18.y/drivers/gpu/drm/vmwgfx/vmwgfx_irq.c' l='212' u='c'/>
<use f='linux-4.18.y/drivers/gpu/drm/vmwgfx/vmwgfx_irq.c' l='214' u='c'/>
<use f='linux-4.18.y/drivers/gpu/vga/vgaarb.c' l='456' u='c'/>
<use f='linux-4.18.y/drivers/md/raid1.c' l='828' u='c'/>
<use f='linux-4.18.y/drivers/md/raid10.c' l='915' u='c'/>
<use f='linux-4.18.y/drivers/media/rc/rc-ir-raw.c' l='53' u='c'/>
<use f='linux-4.18.y/drivers/rtc/rtc-dev.c' l='156' u='c'/>
<use f='linux-4.18.y/drivers/scsi/scsi_error.c' l='2181' u='c'/>
<use f='linux-4.18.y/drivers/scsi/scsi_error.c' l='2221' u='c'/>
<use f='linux-4.18.y/drivers/tty/hvc/hvc_console.c' l='763' u='c'/>
<use f='linux-4.18.y/drivers/tty/serial/serial_core.c' l='1227' u='c'/>
<use f='linux-4.18.y/drivers/tty/tty_ldsem.c' l='243' u='c'/>
<use f='linux-4.18.y/drivers/tty/tty_ldsem.c' l='310' u='c'/>
<use f='linux-4.18.y/drivers/tty/vt/selection.c' l='347' u='c'/>
<use f='linux-4.18.y/drivers/tty/vt/selection.c' l='354' u='c'/>
<use f='linux-4.18.y/drivers/uio/uio.c' l='589' u='c'/>
<use f='linux-4.18.y/drivers/uio/uio.c' l='611' u='c'/>
<use f='linux-4.18.y/drivers/usb/core/devio.c' l='1878' u='c'/>
<use f='linux-4.18.y/drivers/usb/storage/usb.c' l='431' u='c'/>
<use f='linux-4.18.y/drivers/vhost/vhost.c' l='346' u='c'/>
<use f='linux-4.18.y/drivers/vhost/vhost.c' l='359' u='c'/>
<use f='linux-4.18.y/fs/block_dev.c' l='245' u='c'/>
<use f='linux-4.18.y/fs/block_dev.c' l='412' u='c'/>
<use f='linux-4.18.y/fs/direct-io.c' l='517' u='c'/>
<use f='linux-4.18.y/fs/eventfd.c' l='229' u='c'/>
<use f='linux-4.18.y/fs/eventfd.c' l='279' u='c'/>
<use f='linux-4.18.y/fs/eventpoll.c' l='1818' u='c'/>
<use f='linux-4.18.y/fs/exec.c' l='1084' u='c'/>
<use f='linux-4.18.y/fs/exec.c' l='1111' u='c'/>
<use f='linux-4.18.y/fs/iomap.c' l='1241' u='c'/>
<use f='linux-4.18.y/fs/select.c' l='244' u='c'/>
<use f='linux-4.18.y/fs/signalfd.c' l='201' u='c'/>
<use f='linux-4.18.y/ipc/mqueue.c' l='595' u='c'/>
<use f='linux-4.18.y/ipc/msg.c' l='186' u='c'/>
<use f='linux-4.18.y/ipc/msg.c' l='1123' u='c'/>
<use f='linux-4.18.y/ipc/sem.c' l='2124' u='c'/>
<use f='linux-4.18.y/kernel/exit.c' l='532' u='c'/>
<use f='linux-4.18.y/kernel/exit.c' l='1545' u='c'/>
<use f='linux-4.18.y/kernel/futex.c' l='2532' u='c'/>
<use f='linux-4.18.y/kernel/irq/manage.c' l='799' u='c'/>
<use f='linux-4.18.y/kernel/irq/manage.c' l='805' u='c'/>
<use f='linux-4.18.y/kernel/kthread.c' l='196' u='c'/>
<use f='linux-4.18.y/kernel/kthread.c' l='237' u='c'/>
<use f='linux-4.18.y/kernel/kthread.c' l='574' u='c'/>
<use f='linux-4.18.y/kernel/kthread.c' l='641' u='c'/>
<use f='linux-4.18.y/kernel/kthread.c' l='659' u='c'/>
<use f='linux-4.18.y/kernel/locking/mutex.c' l='581' u='c'/>
<use f='linux-4.18.y/kernel/locking/mutex.c' l='860' u='c'/>
<use f='linux-4.18.y/kernel/locking/mutex.c' l='880' u='c'/>
<use f='linux-4.18.y/kernel/locking/rtmutex.c' l='1203' u='c'/>
<use f='linux-4.18.y/kernel/locking/rtmutex.c' l='1270' u='c'/>
<use f='linux-4.18.y/kernel/locking/rwsem-xadd.c' l='272' u='c'/>
<use f='linux-4.18.y/kernel/locking/rwsem-xadd.c' l='279' u='c'/>
<use f='linux-4.18.y/kernel/locking/rwsem-xadd.c' l='572' u='c'/>
<use f='linux-4.18.y/kernel/locking/rwsem-xadd.c' l='579' u='c'/>
<use f='linux-4.18.y/kernel/locking/semaphore.c' l='219' u='c'/>
<use f='linux-4.18.y/kernel/sched/completion.c' l='81' u='c'/>
<use f='linux-4.18.y/kernel/sched/swait.c' l='103' u='c'/>
<use f='linux-4.18.y/kernel/sched/swait.c' l='112' u='c'/>
<use f='linux-4.18.y/kernel/sched/wait.c' l='349' u='c'/>
<use f='linux-4.18.y/kernel/sched/wait.c' l='418' u='c'/>
<use f='linux-4.18.y/kernel/signal.c' l='2035' u='c'/>
<use f='linux-4.18.y/kernel/signal.c' l='3076' u='c'/>
<use f='linux-4.18.y/kernel/signal.c' l='3846' u='c'/>
<use f='linux-4.18.y/kernel/signal.c' l='3860' u='c'/>
<use f='linux-4.18.y/kernel/smpboot.c' l='115' u='c'/>
<use f='linux-4.18.y/kernel/smpboot.c' l='125' u='c'/>
<use f='linux-4.18.y/kernel/smpboot.c' l='142' u='c'/>
<use f='linux-4.18.y/kernel/smpboot.c' l='150' u='c'/>
<use f='linux-4.18.y/kernel/smpboot.c' l='162' u='c'/>
<use f='linux-4.18.y/kernel/time/alarmtimer.c' l='727' u='c'/>
<use f='linux-4.18.y/kernel/time/hrtimer.c' l='1696' u='c'/>
<use f='linux-4.18.y/kernel/time/hrtimer.c' l='1928' u='c'/>
<use f='linux-4.18.y/kernel/time/hrtimer.c' l='1953' u='c'/>
<use f='linux-4.18.y/kernel/time/posix-cpu-timers.c' l='1294' u='c'/>
<use f='linux-4.18.y/kernel/time/timer.c' l='1823' u='c'/>
<use f='linux-4.18.y/kernel/time/timer.c' l='1830' u='c'/>
<use f='linux-4.18.y/kernel/time/timer.c' l='1837' u='c'/>
<use f='linux-4.18.y/kernel/time/timer.c' l='1848' u='c'/>
<use f='linux-4.18.y/kernel/time/timer.c' l='1993' u='c'/>
<use f='linux-4.18.y/kernel/workqueue.c' l='2315' u='c'/>
<use f='linux-4.18.y/kernel/workqueue.c' l='2379' u='c'/>
<use f='linux-4.18.y/kernel/workqueue.c' l='2446' u='c'/>
<use f='linux-4.18.y/lib/klist.c' l='258' u='c'/>
<use f='linux-4.18.y/mm/memory.c' l='4134' u='c'/>
<use f='linux-4.18.y/mm/page-writeback.c' l='1778' u='c'/>
<use f='linux-4.18.y/mm/page_io.c' l='414' u='c'/>
<use f='linux-4.18.y/net/netlink/af_netlink.c' l='449' u='c'/>
<use f='linux-4.18.y/net/netlink/af_netlink.c' l='1235' u='c'/>
<use f='linux-4.18.y/net/netlink/af_netlink.c' l='1243' u='c'/>
