<dec f='linux-4.14.y/include/linux/sched.h' l='184'/>
<doc f='linux-4.14.y/include/linux/sched.h' l='147'>/*
 * set_current_state() includes a barrier so that the write of current-&gt;state
 * is correctly serialised wrt the caller&apos;s subsequent test of whether to
 * actually sleep:
 *
 *   for (;;) {
 *	set_current_state(TASK_UNINTERRUPTIBLE);
 *	if (!need_sleep)
 *		break;
 *
 *	schedule();
 *   }
 *   __set_current_state(TASK_RUNNING);
 *
 * If the caller does not need such serialisation (because, for instance, the
 * condition test and condition change and wakeup are under the same lock) then
 * use __set_current_state().
 *
 * The above is typically ordered against the wakeup, which does:
 *
 *   need_sleep = false;
 *   wake_up_state(p, TASK_UNINTERRUPTIBLE);
 *
 * Where wake_up_state() (and all other wakeup primitives) imply enough
 * barriers to order the store of the variable against wakeup.
 *
 * Wakeup will do: if (@state &amp; p-&gt;state) p-&gt;state = TASK_RUNNING, that is,
 * once it observes the TASK_UNINTERRUPTIBLE store the waking CPU can issue a
 * TASK_RUNNING store which can collide with __set_current_state(TASK_RUNNING).
 *
 * However, with slightly different timing the wakeup TASK_RUNNING store can
 * also collide with the TASK_UNINTERRUPTIBLE store. Loosing that store is not
 * a problem either because that will result in one extra go around the loop
 * and our @cond test will save the day.
 *
 * Also see the comments of try_to_wake_up().
 */</doc>
<use f='linux-4.14.y/block/blk-mq.c' l='2881' u='c'/>
<use f='linux-4.14.y/drivers/base/devtmpfs.c' l='406' u='c'/>
<use f='linux-4.14.y/drivers/char/hpet.c' l='339' u='c'/>
<use f='linux-4.14.y/drivers/dma-buf/dma-fence.c' l='411' u='c'/>
<use f='linux-4.14.y/drivers/dma-buf/dma-fence.c' l='413' u='c'/>
<use f='linux-4.14.y/drivers/dma-buf/dma-fence.c' l='425' u='c'/>
<use f='linux-4.14.y/drivers/dma-buf/dma-fence.c' l='529' u='c'/>
<use f='linux-4.14.y/drivers/gpu/drm/drm_lock.c' l='190' u='c'/>
<use f='linux-4.14.y/drivers/gpu/drm/drm_lock.c' l='215' u='c'/>
<use f='linux-4.14.y/drivers/gpu/drm/drm_syncobj.c' l='709' u='c'/>
<use f='linux-4.14.y/drivers/gpu/drm/vmwgfx/vmwgfx_fence.c' l='203' u='c'/>
<use f='linux-4.14.y/drivers/gpu/drm/vmwgfx/vmwgfx_fence.c' l='205' u='c'/>
<use f='linux-4.14.y/drivers/gpu/drm/vmwgfx/vmwgfx_fence.c' l='217' u='c'/>
<use f='linux-4.14.y/drivers/gpu/drm/vmwgfx/vmwgfx_irq.c' l='212' u='c'/>
<use f='linux-4.14.y/drivers/gpu/drm/vmwgfx/vmwgfx_irq.c' l='214' u='c'/>
<use f='linux-4.14.y/drivers/gpu/vga/vgaarb.c' l='456' u='c'/>
<use f='linux-4.14.y/drivers/media/rc/rc-ir-raw.c' l='50' u='c'/>
<use f='linux-4.14.y/drivers/rtc/rtc-dev.c' l='156' u='c'/>
<use f='linux-4.14.y/drivers/scsi/scsi_error.c' l='2154' u='c'/>
<use f='linux-4.14.y/drivers/scsi/scsi_error.c' l='2194' u='c'/>
<use f='linux-4.14.y/drivers/tty/hvc/hvc_console.c' l='776' u='c'/>
<use f='linux-4.14.y/drivers/tty/serial/serial_core.c' l='1233' u='c'/>
<use f='linux-4.14.y/drivers/tty/tty_ldsem.c' l='245' u='c'/>
<use f='linux-4.14.y/drivers/tty/tty_ldsem.c' l='312' u='c'/>
<use f='linux-4.14.y/drivers/tty/vt/selection.c' l='358' u='c'/>
<use f='linux-4.14.y/drivers/tty/vt/selection.c' l='365' u='c'/>
<use f='linux-4.14.y/fs/block_dev.c' l='255' u='c'/>
<use f='linux-4.14.y/fs/block_dev.c' l='420' u='c'/>
<use f='linux-4.14.y/fs/direct-io.c' l='496' u='c'/>
<use f='linux-4.14.y/fs/eventfd.c' l='251' u='c'/>
<use f='linux-4.14.y/fs/eventfd.c' l='315' u='c'/>
<use f='linux-4.14.y/fs/eventpoll.c' l='1836' u='c'/>
<use f='linux-4.14.y/fs/exec.c' l='1080' u='c'/>
<use f='linux-4.14.y/fs/exec.c' l='1107' u='c'/>
<use f='linux-4.14.y/fs/select.c' l='244' u='c'/>
<use f='linux-4.14.y/fs/signalfd.c' l='189' u='c'/>
<use f='linux-4.14.y/ipc/mqueue.c' l='572' u='c'/>
<use f='linux-4.14.y/ipc/msg.c' l='169' u='c'/>
<use f='linux-4.14.y/ipc/msg.c' l='1064' u='c'/>
<use f='linux-4.14.y/ipc/sem.c' l='2047' u='c'/>
<use f='linux-4.14.y/kernel/exit.c' l='532' u='c'/>
<use f='linux-4.14.y/kernel/exit.c' l='1545' u='c'/>
<use f='linux-4.14.y/kernel/futex.c' l='2550' u='c'/>
<use f='linux-4.14.y/kernel/irq/manage.c' l='765' u='c'/>
<use f='linux-4.14.y/kernel/irq/manage.c' l='771' u='c'/>
<use f='linux-4.14.y/kernel/kthread.c' l='181' u='c'/>
<use f='linux-4.14.y/kernel/kthread.c' l='223' u='c'/>
<use f='linux-4.14.y/kernel/kthread.c' l='550' u='c'/>
<use f='linux-4.14.y/kernel/kthread.c' l='617' u='c'/>
<use f='linux-4.14.y/kernel/kthread.c' l='635' u='c'/>
<use f='linux-4.14.y/kernel/locking/mutex.c' l='580' u='c'/>
<use f='linux-4.14.y/kernel/locking/mutex.c' l='859' u='c'/>
<use f='linux-4.14.y/kernel/locking/mutex.c' l='879' u='c'/>
<use f='linux-4.14.y/kernel/locking/rtmutex.c' l='1203' u='c'/>
<use f='linux-4.14.y/kernel/locking/rtmutex.c' l='1270' u='c'/>
<use f='linux-4.14.y/kernel/locking/rwsem-xadd.c' l='272' u='c'/>
<use f='linux-4.14.y/kernel/locking/rwsem-xadd.c' l='279' u='c'/>
<use f='linux-4.14.y/kernel/locking/rwsem-xadd.c' l='571' u='c'/>
<use f='linux-4.14.y/kernel/locking/rwsem-xadd.c' l='578' u='c'/>
<use f='linux-4.14.y/kernel/locking/semaphore.c' l='219' u='c'/>
<use f='linux-4.14.y/kernel/sched/completion.c' l='89' u='c'/>
<use f='linux-4.14.y/kernel/sched/swait.c' l='101' u='c'/>
<use f='linux-4.14.y/kernel/sched/swait.c' l='110' u='c'/>
<use f='linux-4.14.y/kernel/sched/wait.c' l='353' u='c'/>
<use f='linux-4.14.y/kernel/sched/wait.c' l='420' u='c'/>
<use f='linux-4.14.y/kernel/signal.c' l='1916' u='c'/>
<use f='linux-4.14.y/kernel/signal.c' l='2874' u='c'/>
<use f='linux-4.14.y/kernel/signal.c' l='3635' u='c'/>
<use f='linux-4.14.y/kernel/signal.c' l='3649' u='c'/>
<use f='linux-4.14.y/kernel/smpboot.c' l='115' u='c'/>
<use f='linux-4.14.y/kernel/smpboot.c' l='125' u='c'/>
<use f='linux-4.14.y/kernel/smpboot.c' l='142' u='c'/>
<use f='linux-4.14.y/kernel/smpboot.c' l='150' u='c'/>
<use f='linux-4.14.y/kernel/smpboot.c' l='162' u='c'/>
<use f='linux-4.14.y/kernel/time/alarmtimer.c' l='727' u='c'/>
<use f='linux-4.14.y/kernel/time/hrtimer.c' l='1487' u='c'/>
<use f='linux-4.14.y/kernel/time/hrtimer.c' l='1696' u='c'/>
<use f='linux-4.14.y/kernel/time/hrtimer.c' l='1721' u='c'/>
<use f='linux-4.14.y/kernel/time/posix-cpu-timers.c' l='1277' u='c'/>
<use f='linux-4.14.y/kernel/time/timer.c' l='1760' u='c'/>
<use f='linux-4.14.y/kernel/time/timer.c' l='1767' u='c'/>
<use f='linux-4.14.y/kernel/time/timer.c' l='1774' u='c'/>
<use f='linux-4.14.y/kernel/time/timer.c' l='1785' u='c'/>
<use f='linux-4.14.y/kernel/time/timer.c' l='1930' u='c'/>
<use f='linux-4.14.y/kernel/workqueue.c' l='2267' u='c'/>
<use f='linux-4.14.y/kernel/workqueue.c' l='2331' u='c'/>
<use f='linux-4.14.y/kernel/workqueue.c' l='2400' u='c'/>
<use f='linux-4.14.y/lib/klist.c' l='258' u='c'/>
<use f='linux-4.14.y/mm/memory.c' l='4048' u='c'/>
<use f='linux-4.14.y/mm/page-writeback.c' l='1780' u='c'/>
<use f='linux-4.14.y/mm/page_io.c' l='414' u='c'/>
<use f='linux-4.14.y/net/netlink/af_netlink.c' l='416' u='c'/>
<use f='linux-4.14.y/net/netlink/af_netlink.c' l='1197' u='c'/>
<use f='linux-4.14.y/net/netlink/af_netlink.c' l='1205' u='c'/>
