<dec f='linux-4.14.y/include/linux/fs.h' l='3021' type='void inode_set_flags(struct inode * inode, unsigned int flags, unsigned int mask)'/>
<use f='linux-4.14.y/fs/ext4/inode.c' l='4612' u='c' c='ext4_set_inode_flags'/>
<def f='linux-4.14.y/fs/inode.c' l='2093' ll='2104' type='void inode_set_flags(struct inode * inode, unsigned int flags, unsigned int mask)'/>
<dec f='linux-4.14.y/fs/inode.c' l='2105' type='void inode_set_flags(struct inode * , unsigned int , unsigned int )'/>
<use f='linux-4.14.y/fs/inode.c' l='2105' c='inode_set_flags'/>
<use f='linux-4.14.y/fs/inode.c' l='2105' u='a'/>
<use f='linux-4.14.y/fs/inode.c' l='2105' u='a'/>
<doc f='linux-4.14.y/fs/inode.c' l='2077'>/*
 * inode_set_flags - atomically set some inode flags
 *
 * Note: the caller should be holding i_mutex, or else be sure that
 * they have exclusive access to the inode structure (i.e., while the
 * inode is being instantiated).  The reason for the cmpxchg() loop
 * --- which wouldn&apos;t be necessary if all code paths which modify
 * i_flags actually followed this rule, is that there is at least one
 * code path which doesn&apos;t today so we use cmpxchg() out of an abundance
 * of caution.
 *
 * In the long run, i_mutex is overkill, and we should probably look
 * at using the i_lock spinlock to protect i_flags, and then make sure
 * it is so documented in include/linux/fs.h and that all code follows
 * the locking convention!!
 */</doc>
