<dec f='linux-4.14.y/include/drm/ttm/ttm_bo_api.h' l='627' type='int ttm_bo_clean_mm(struct ttm_bo_device * bdev, unsigned int mem_type)'/>
<doc f='linux-4.14.y/include/drm/ttm/ttm_bo_api.h' l='600'>/**
 * ttm_bo_clean_mm
 *
 * @bdev: Pointer to a ttm_bo_device struct.
 * @mem_type: The memory type.
 *
 * Take down a manager for a given memory type after first walking
 * the LRU list to evict any buffers left alive.
 *
 * Normally, this function is part of lastclose() or unload(), and at that
 * point there shouldn&apos;t be any buffers left created by user-space, since
 * there should&apos;ve been removed by the file descriptor release() method.
 * However, before this function is run, make sure to signal all sync objects,
 * and verify that the delayed delete queue is empty. The driver must also
 * make sure that there are no NO_EVICT buffers present in this memory type
 * when the call is made.
 *
 * If this function is part of a VT switch, the caller must make sure that
 * there are no appications currently validating buffers before this
 * function is called. The caller can do that by first taking the
 * struct ttm_bo_device::ttm_lock in write mode.
 *
 * Returns:
 * -EINVAL: invalid or uninitialized memory type.
 * -EBUSY: There are still buffers left in this memory type.
 */</doc>
<use f='linux-4.14.y/drivers/gpu/drm/qxl/qxl_ttm.c' l='443' u='c' c='qxl_ttm_fini'/>
<use f='linux-4.14.y/drivers/gpu/drm/qxl/qxl_ttm.c' l='444' u='c' c='qxl_ttm_fini'/>
<def f='linux-4.14.y/drivers/gpu/drm/ttm/ttm_bo.c' l='1374' ll='1409' type='int ttm_bo_clean_mm(struct ttm_bo_device * bdev, unsigned int mem_type)'/>
<dec f='linux-4.14.y/drivers/gpu/drm/ttm/ttm_bo.c' l='1410' type='int ttm_bo_clean_mm(struct ttm_bo_device * , unsigned int )'/>
<use f='linux-4.14.y/drivers/gpu/drm/ttm/ttm_bo.c' l='1410' c='ttm_bo_clean_mm'/>
<use f='linux-4.14.y/drivers/gpu/drm/ttm/ttm_bo.c' l='1410' u='a'/>
<use f='linux-4.14.y/drivers/gpu/drm/ttm/ttm_bo.c' l='1410' u='a'/>
<use f='linux-4.14.y/drivers/gpu/drm/ttm/ttm_bo.c' l='1543' u='c' c='ttm_bo_device_release'/>
<use f='linux-4.14.y/drivers/gpu/drm/vmwgfx/vmwgfx_drv.c' l='929' u='c' c='vmw_driver_load'/>
<use f='linux-4.14.y/drivers/gpu/drm/vmwgfx/vmwgfx_drv.c' l='931' u='c' c='vmw_driver_load'/>
<use f='linux-4.14.y/drivers/gpu/drm/vmwgfx/vmwgfx_drv.c' l='932' u='c' c='vmw_driver_load'/>
<use f='linux-4.14.y/drivers/gpu/drm/vmwgfx/vmwgfx_drv.c' l='982' u='c' c='vmw_driver_unload'/>
<use f='linux-4.14.y/drivers/gpu/drm/vmwgfx/vmwgfx_drv.c' l='983' u='c' c='vmw_driver_unload'/>
<use f='linux-4.14.y/drivers/gpu/drm/vmwgfx/vmwgfx_drv.c' l='987' u='c' c='vmw_driver_unload'/>
