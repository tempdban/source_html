<dec f='linux-4.14.y/drivers/md/persistent-data/dm-transaction-manager.h' l='50' type='int dm_tm_pre_commit(struct dm_transaction_manager * tm)'/>
<doc f='linux-4.14.y/drivers/md/persistent-data/dm-transaction-manager.h' l='38'>/*
 * We use a 2-phase commit here.
 *
 * i) Make all changes for the transaction *except* for the superblock.
 * Then call dm_tm_pre_commit() to flush them to disk.
 *
 * ii) Lock your superblock.  Update.  Then call dm_tm_commit() which will
 * unlock the superblock and flush it.  No other blocks should be updated
 * during this period.  Care should be taken to never unlock a partially
 * updated superblock; perform any operations that could fail *before* you
 * take the superblock lock.
 */</doc>
<use f='linux-4.14.y/drivers/md/dm-cache-metadata.c' l='342' u='c' c='__write_initial_superblock'/>
<use f='linux-4.14.y/drivers/md/dm-cache-metadata.c' l='673' u='c' c='__commit_transaction'/>
<use f='linux-4.14.y/drivers/md/dm-thin-metadata.c' l='491' u='c' c='__write_initial_superblock'/>
<use f='linux-4.14.y/drivers/md/dm-thin-metadata.c' l='796' u='c' c='__commit_transaction'/>
<def f='linux-4.14.y/drivers/md/persistent-data/dm-transaction-manager.c' l='207' ll='219' type='int dm_tm_pre_commit(struct dm_transaction_manager * tm)'/>
<dec f='linux-4.14.y/drivers/md/persistent-data/dm-transaction-manager.c' l='220' type='int dm_tm_pre_commit(struct dm_transaction_manager * )'/>
<use f='linux-4.14.y/drivers/md/persistent-data/dm-transaction-manager.c' l='220' c='dm_tm_pre_commit'/>
<use f='linux-4.14.y/drivers/md/persistent-data/dm-transaction-manager.c' l='220' u='a'/>
<use f='linux-4.14.y/drivers/md/persistent-data/dm-transaction-manager.c' l='220' u='a'/>
