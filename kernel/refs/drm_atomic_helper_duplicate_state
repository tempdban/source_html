<dec f='linux-4.18.y/include/drm/drm_atomic_helper.h' l='176' type='struct drm_atomic_state * drm_atomic_helper_duplicate_state(struct drm_device * dev, struct drm_modeset_acquire_ctx * ctx)'/>
<use f='linux-4.18.y/drivers/gpu/drm/drm_atomic_helper.c' l='3083' u='c' c='drm_atomic_helper_suspend'/>
<def f='linux-4.18.y/drivers/gpu/drm/drm_atomic_helper.c' l='3715' ll='3775' type='struct drm_atomic_state * drm_atomic_helper_duplicate_state(struct drm_device * dev, struct drm_modeset_acquire_ctx * ctx)'/>
<dec f='linux-4.18.y/drivers/gpu/drm/drm_atomic_helper.c' l='3776' type='struct drm_atomic_state * drm_atomic_helper_duplicate_state(struct drm_device * , struct drm_modeset_acquire_ctx * )'/>
<use f='linux-4.18.y/drivers/gpu/drm/drm_atomic_helper.c' l='3776' c='drm_atomic_helper_duplicate_state'/>
<use f='linux-4.18.y/drivers/gpu/drm/drm_atomic_helper.c' l='3776' u='a'/>
<use f='linux-4.18.y/drivers/gpu/drm/drm_atomic_helper.c' l='3776' u='a'/>
<doc f='linux-4.18.y/drivers/gpu/drm/drm_atomic_helper.c' l='3691'>/**
 * drm_atomic_helper_duplicate_state - duplicate an atomic state object
 * @dev: DRM device
 * @ctx: lock acquisition context
 *
 * Makes a copy of the current atomic state by looping over all objects and
 * duplicating their respective states. This is used for example by suspend/
 * resume support code to save the state prior to suspend such that it can
 * be restored upon resume.
 *
 * Note that this treats atomic state as persistent between save and restore.
 * Drivers must make sure that this is possible and won&apos;t result in confusion
 * or erroneous behaviour.
 *
 * Note that if callers haven&apos;t already acquired all modeset locks this might
 * return -EDEADLK, which must be handled by calling drm_modeset_backoff().
 *
 * Returns:
 * A pointer to the copy of the atomic state object on success or an
 * ERR_PTR()-encoded error code on failure.
 *
 * See also:
 * drm_atomic_helper_suspend(), drm_atomic_helper_resume()
 */</doc>
