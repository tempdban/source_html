<dec f='linux-4.18.y/fs/ntfs/runlist.h' l='73' type='runlist_element * ntfs_runlists_merge(runlist_element * drl, runlist_element * srl)'/>
<use f='linux-4.18.y/fs/ntfs/attrib.c' l='2235' u='c' c='ntfs_attr_extend_allocation'/>
<use f='linux-4.18.y/fs/ntfs/file.c' l='1004' u='c' c='ntfs_prepare_pages_for_non_resident_write'/>
<use f='linux-4.18.y/fs/ntfs/mft.c' l='1365' u='c' c='ntfs_mft_bitmap_extend_allocation_nolock'/>
<use f='linux-4.18.y/fs/ntfs/mft.c' l='1803' u='c' c='ntfs_mft_data_extend_allocation_nolock'/>
<def f='linux-4.18.y/fs/ntfs/runlist.c' l='531' ll='719' type='runlist_element * ntfs_runlists_merge(runlist_element * drl, runlist_element * srl)'/>
<use f='linux-4.18.y/fs/ntfs/runlist.c' l='967' u='c' c='ntfs_mapping_pairs_decompress'/>
<doc f='linux-4.18.y/fs/ntfs/runlist.c' l='497'>/**
 * ntfs_runlists_merge - merge two runlists into one
 * @drl:	original runlist to be worked on
 * @srl:	new runlist to be merged into @drl
 *
 * First we sanity check the two runlists @srl and @drl to make sure that they
 * are sensible and can be merged. The runlist @srl must be either after the
 * runlist @drl or completely within a hole (or unmapped region) in @drl.
 *
 * It is up to the caller to serialize access to the runlists @drl and @srl.
 *
 * Merging of runlists is necessary in two cases:
 *   1. When attribute lists are used and a further extent is being mapped.
 *   2. When new clusters are allocated to fill a hole or extend a file.
 *
 * There are four possible ways @srl can be merged. It can:
 *	- be inserted at the beginning of a hole,
 *	- split the hole in two and be inserted between the two fragments,
 *	- be appended at the end of a hole, or it can
 *	- replace the whole hole.
 * It can also be appended to the end of the runlist, which is just a variant
 * of the insert case.
 *
 * On success, return a pointer to the new, combined, runlist. Note, both
 * runlists @drl and @srl are deallocated before returning so you cannot use
 * the pointers for anything any more. (Strictly speaking the returned runlist
 * may be the same as @dst but this is irrelevant.)
 *
 * On error, return -errno. Both runlists are left unmodified. The following
 * error codes are defined:
 *	-ENOMEM	- Not enough memory to allocate runlist array.
 *	-EINVAL	- Invalid parameters were passed in.
 *	-ERANGE	- The runlists overlap and cannot be merged.
 */</doc>
