<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>nicvf_mbox.c source code [master/drivers/net/thunderx/base/nicvf_mbox.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'master/drivers/net/thunderx/base/nicvf_mbox.c'; var root_path = '../../../../..'; var data_path = '../../../../../../data';</script>
<script src='../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>master</a>/<a href='../../..'>drivers</a>/<a href='../..'>net</a>/<a href='..'>thunderx</a>/<a href='./'>base</a>/<a href='nicvf_mbox.c.html'>nicvf_mbox.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* SPDX-License-Identifier: BSD-3-Clause</i></td></tr>
<tr><th id="2">2</th><td><i> * Copyright(c) 2016 Cavium, Inc</i></td></tr>
<tr><th id="3">3</th><td><i> */</i></td></tr>
<tr><th id="4">4</th><td></td></tr>
<tr><th id="5">5</th><td><u>#include <a href="../../../../../include/assert.h.html">&lt;assert.h&gt;</a></u></td></tr>
<tr><th id="6">6</th><td><u>#include <a href="../../../../../include/unistd.h.html">&lt;unistd.h&gt;</a></u></td></tr>
<tr><th id="7">7</th><td><u>#include <a href="../../../../../include/stdio.h.html">&lt;stdio.h&gt;</a></u></td></tr>
<tr><th id="8">8</th><td><u>#include <a href="../../../../../include/stdlib.h.html">&lt;stdlib.h&gt;</a></u></td></tr>
<tr><th id="9">9</th><td></td></tr>
<tr><th id="10">10</th><td><u>#include <a href="nicvf_plat.h.html">"nicvf_plat.h"</a></u></td></tr>
<tr><th id="11">11</th><td></td></tr>
<tr><th id="12">12</th><td><u>#define <dfn class="macro" id="_M/NICVF_MBOX_PF_RESPONSE_DELAY_US" data-ref="_M/NICVF_MBOX_PF_RESPONSE_DELAY_US">NICVF_MBOX_PF_RESPONSE_DELAY_US</dfn>   (1000)</u></td></tr>
<tr><th id="13">13</th><td></td></tr>
<tr><th id="14">14</th><td><em>static</em> <em>const</em> <em>char</em> *<dfn class="tu decl def" id="mbox_message" title='mbox_message' data-type='const char *[256]' data-ref="mbox_message">mbox_message</dfn>[<a class="macro" href="nicvf_mbox.h.html#45" title="0x100" data-ref="_M/NIC_MBOX_MSG_MAX">NIC_MBOX_MSG_MAX</a>] =  {</td></tr>
<tr><th id="15">15</th><td>	[<a class="macro" href="nicvf_mbox.h.html#23" title="0x00" data-ref="_M/NIC_MBOX_MSG_INVALID">NIC_MBOX_MSG_INVALID</a>]            = <q>"NIC_MBOX_MSG_INVALID"</q>,</td></tr>
<tr><th id="16">16</th><td>	[<a class="macro" href="nicvf_mbox.h.html#24" title="0x01" data-ref="_M/NIC_MBOX_MSG_READY">NIC_MBOX_MSG_READY</a>]              = <q>"NIC_MBOX_MSG_READY"</q>,</td></tr>
<tr><th id="17">17</th><td>	[<a class="macro" href="nicvf_mbox.h.html#25" title="0x02" data-ref="_M/NIC_MBOX_MSG_ACK">NIC_MBOX_MSG_ACK</a>]                = <q>"NIC_MBOX_MSG_ACK"</q>,</td></tr>
<tr><th id="18">18</th><td>	[<a class="macro" href="nicvf_mbox.h.html#26" title="0x03" data-ref="_M/NIC_MBOX_MSG_NACK">NIC_MBOX_MSG_NACK</a>]               = <q>"NIC_MBOX_MSG_ACK"</q>,</td></tr>
<tr><th id="19">19</th><td>	[<a class="macro" href="nicvf_mbox.h.html#27" title="0x04" data-ref="_M/NIC_MBOX_MSG_QS_CFG">NIC_MBOX_MSG_QS_CFG</a>]             = <q>"NIC_MBOX_MSG_QS_CFG"</q>,</td></tr>
<tr><th id="20">20</th><td>	[<a class="macro" href="nicvf_mbox.h.html#28" title="0x05" data-ref="_M/NIC_MBOX_MSG_RQ_CFG">NIC_MBOX_MSG_RQ_CFG</a>]             = <q>"NIC_MBOX_MSG_RQ_CFG"</q>,</td></tr>
<tr><th id="21">21</th><td>	[<a class="macro" href="nicvf_mbox.h.html#29" title="0x06" data-ref="_M/NIC_MBOX_MSG_SQ_CFG">NIC_MBOX_MSG_SQ_CFG</a>]             = <q>"NIC_MBOX_MSG_SQ_CFG"</q>,</td></tr>
<tr><th id="22">22</th><td>	[<a class="macro" href="nicvf_mbox.h.html#30" title="0x07" data-ref="_M/NIC_MBOX_MSG_RQ_DROP_CFG">NIC_MBOX_MSG_RQ_DROP_CFG</a>]        = <q>"NIC_MBOX_MSG_RQ_DROP_CFG"</q>,</td></tr>
<tr><th id="23">23</th><td>	[<a class="macro" href="nicvf_mbox.h.html#31" title="0x08" data-ref="_M/NIC_MBOX_MSG_SET_MAC">NIC_MBOX_MSG_SET_MAC</a>]            = <q>"NIC_MBOX_MSG_SET_MAC"</q>,</td></tr>
<tr><th id="24">24</th><td>	[<a class="macro" href="nicvf_mbox.h.html#32" title="0x09" data-ref="_M/NIC_MBOX_MSG_SET_MAX_FRS">NIC_MBOX_MSG_SET_MAX_FRS</a>]        = <q>"NIC_MBOX_MSG_SET_MAX_FRS"</q>,</td></tr>
<tr><th id="25">25</th><td>	[<a class="macro" href="nicvf_mbox.h.html#33" title="0x0A" data-ref="_M/NIC_MBOX_MSG_CPI_CFG">NIC_MBOX_MSG_CPI_CFG</a>]            = <q>"NIC_MBOX_MSG_CPI_CFG"</q>,</td></tr>
<tr><th id="26">26</th><td>	[<a class="macro" href="nicvf_mbox.h.html#34" title="0x0B" data-ref="_M/NIC_MBOX_MSG_RSS_SIZE">NIC_MBOX_MSG_RSS_SIZE</a>]           = <q>"NIC_MBOX_MSG_RSS_SIZE"</q>,</td></tr>
<tr><th id="27">27</th><td>	[<a class="macro" href="nicvf_mbox.h.html#35" title="0x0C" data-ref="_M/NIC_MBOX_MSG_RSS_CFG">NIC_MBOX_MSG_RSS_CFG</a>]            = <q>"NIC_MBOX_MSG_RSS_CFG"</q>,</td></tr>
<tr><th id="28">28</th><td>	[<a class="macro" href="nicvf_mbox.h.html#36" title="0x0D" data-ref="_M/NIC_MBOX_MSG_RSS_CFG_CONT">NIC_MBOX_MSG_RSS_CFG_CONT</a>]       = <q>"NIC_MBOX_MSG_RSS_CFG_CONT"</q>,</td></tr>
<tr><th id="29">29</th><td>	[<a class="macro" href="nicvf_mbox.h.html#37" title="0x0E" data-ref="_M/NIC_MBOX_MSG_RQ_BP_CFG">NIC_MBOX_MSG_RQ_BP_CFG</a>]          = <q>"NIC_MBOX_MSG_RQ_BP_CFG"</q>,</td></tr>
<tr><th id="30">30</th><td>	[<a class="macro" href="nicvf_mbox.h.html#38" title="0x0F" data-ref="_M/NIC_MBOX_MSG_RQ_SW_SYNC">NIC_MBOX_MSG_RQ_SW_SYNC</a>]         = <q>"NIC_MBOX_MSG_RQ_SW_SYNC"</q>,</td></tr>
<tr><th id="31">31</th><td>	[<a class="macro" href="nicvf_mbox.h.html#39" title="0x11" data-ref="_M/NIC_MBOX_MSG_BGX_LINK_CHANGE">NIC_MBOX_MSG_BGX_LINK_CHANGE</a>]    = <q>"NIC_MBOX_MSG_BGX_LINK_CHANGE"</q>,</td></tr>
<tr><th id="32">32</th><td>	[<a class="macro" href="nicvf_mbox.h.html#40" title="0x12" data-ref="_M/NIC_MBOX_MSG_ALLOC_SQS">NIC_MBOX_MSG_ALLOC_SQS</a>]          = <q>"NIC_MBOX_MSG_ALLOC_SQS"</q>,</td></tr>
<tr><th id="33">33</th><td>	[<a class="macro" href="nicvf_mbox.h.html#41" title="0x16" data-ref="_M/NIC_MBOX_MSG_LOOPBACK">NIC_MBOX_MSG_LOOPBACK</a>]           = <q>"NIC_MBOX_MSG_LOOPBACK"</q>,</td></tr>
<tr><th id="34">34</th><td>	[<a class="macro" href="nicvf_mbox.h.html#42" title="0x17" data-ref="_M/NIC_MBOX_MSG_RESET_STAT_COUNTER">NIC_MBOX_MSG_RESET_STAT_COUNTER</a>] = <q>"NIC_MBOX_MSG_RESET_STAT_COUNTER"</q>,</td></tr>
<tr><th id="35">35</th><td>	[<a class="macro" href="nicvf_mbox.h.html#43" title="0xF0" data-ref="_M/NIC_MBOX_MSG_CFG_DONE">NIC_MBOX_MSG_CFG_DONE</a>]           = <q>"NIC_MBOX_MSG_CFG_DONE"</q>,</td></tr>
<tr><th id="36">36</th><td>	[<a class="macro" href="nicvf_mbox.h.html#44" title="0xF1" data-ref="_M/NIC_MBOX_MSG_SHUTDOWN">NIC_MBOX_MSG_SHUTDOWN</a>]           = <q>"NIC_MBOX_MSG_SHUTDOWN"</q>,</td></tr>
<tr><th id="37">37</th><td>};</td></tr>
<tr><th id="38">38</th><td></td></tr>
<tr><th id="39">39</th><td><em>static</em> <b>inline</b> <em>const</em> <em>char</em> * <b>__attribute__</b>((unused))</td></tr>
<tr><th id="40">40</th><td><dfn class="tu decl def fn" id="nicvf_mbox_msg_str" title='nicvf_mbox_msg_str' data-type='const char * nicvf_mbox_msg_str(int msg)' data-ref="nicvf_mbox_msg_str">nicvf_mbox_msg_str</dfn>(<em>int</em> <dfn class="local col1 decl" id="1msg" title='msg' data-type='int' data-ref="1msg">msg</dfn>)</td></tr>
<tr><th id="41">41</th><td>{</td></tr>
<tr><th id="42">42</th><td>	<a class="macro" href="../../../../../include/assert.h.html#86" title="((msg &gt;= 0 &amp;&amp; msg &lt; 0x100) ? (void) (0) : __assert_fail (&quot;msg &gt;= 0 &amp;&amp; msg &lt; 0x100&quot;, &quot;/home/tempdban/dpdk/build/build/drivers/net/thunderx/../../../../../drivers/net/thunderx/base/nicvf_mbox.c&quot;, 42, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col1 ref" href="#1msg" title='msg' data-ref="1msg">msg</a> &gt;= <var>0</var> &amp;&amp; <a class="local col1 ref" href="#1msg" title='msg' data-ref="1msg">msg</a> &lt; <a class="macro" href="nicvf_mbox.h.html#45" title="0x100" data-ref="_M/NIC_MBOX_MSG_MAX">NIC_MBOX_MSG_MAX</a>);</td></tr>
<tr><th id="43">43</th><td>	<i>/* undefined messages */</i></td></tr>
<tr><th id="44">44</th><td>	<b>if</b> (<a class="tu ref" href="#mbox_message" title='mbox_message' data-use='r' data-ref="mbox_message">mbox_message</a>[<a class="local col1 ref" href="#1msg" title='msg' data-ref="1msg">msg</a>] == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="45">45</th><td>		<a class="local col1 ref" href="#1msg" title='msg' data-ref="1msg">msg</a> = <var>0</var>;</td></tr>
<tr><th id="46">46</th><td>	<b>return</b> <a class="tu ref" href="#mbox_message" title='mbox_message' data-use='r' data-ref="mbox_message">mbox_message</a>[<a class="local col1 ref" href="#1msg" title='msg' data-ref="1msg">msg</a>];</td></tr>
<tr><th id="47">47</th><td>}</td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="50">50</th><td><dfn class="tu decl def fn" id="nicvf_mbox_send_msg_to_pf_raw" title='nicvf_mbox_send_msg_to_pf_raw' data-type='void nicvf_mbox_send_msg_to_pf_raw(struct nicvf * nic, struct nic_mbx * mbx)' data-ref="nicvf_mbox_send_msg_to_pf_raw">nicvf_mbox_send_msg_to_pf_raw</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col2 decl" id="2nic" title='nic' data-type='struct nicvf *' data-ref="2nic">nic</dfn>, <b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> *<dfn class="local col3 decl" id="3mbx" title='mbx' data-type='struct nic_mbx *' data-ref="3mbx">mbx</dfn>)</td></tr>
<tr><th id="51">51</th><td>{</td></tr>
<tr><th id="52">52</th><td>	<a class="typedef" href="../../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> *<dfn class="local col4 decl" id="4mbx_data" title='mbx_data' data-type='uint64_t *' data-ref="4mbx_data">mbx_data</dfn>;</td></tr>
<tr><th id="53">53</th><td>	<a class="typedef" href="../../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col5 decl" id="5mbx_addr" title='mbx_addr' data-type='uint64_t' data-ref="5mbx_addr">mbx_addr</dfn>;</td></tr>
<tr><th id="54">54</th><td>	<em>int</em> <dfn class="local col6 decl" id="6i" title='i' data-type='int' data-ref="6i">i</dfn>;</td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td>	<a class="local col5 ref" href="#5mbx_addr" title='mbx_addr' data-ref="5mbx_addr">mbx_addr</a> = <a class="macro" href="nicvf_hw_defs.h.html#16" title="(0x000130)" data-ref="_M/NIC_VF_PF_MAILBOX_0_1">NIC_VF_PF_MAILBOX_0_1</a>;</td></tr>
<tr><th id="57">57</th><td>	<a class="local col4 ref" href="#4mbx_data" title='mbx_data' data-ref="4mbx_data">mbx_data</a> = (<a class="typedef" href="../../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> *)<a class="local col3 ref" href="#3mbx" title='mbx' data-ref="3mbx">mbx</a>;</td></tr>
<tr><th id="58">58</th><td>	<b>for</b> (<a class="local col6 ref" href="#6i" title='i' data-ref="6i">i</a> = <var>0</var>; <a class="local col6 ref" href="#6i" title='i' data-ref="6i">i</a> &lt; <a class="macro" href="nicvf_mbox.h.html#19" title="2" data-ref="_M/NIC_PF_VF_MAILBOX_SIZE">NIC_PF_VF_MAILBOX_SIZE</a>; <a class="local col6 ref" href="#6i" title='i' data-ref="6i">i</a>++) {</td></tr>
<tr><th id="59">59</th><td>		<a class="ref fn" href="nicvf_hw.h.html#nicvf_reg_write" title='nicvf_reg_write' data-ref="nicvf_reg_write">nicvf_reg_write</a>(<a class="local col2 ref" href="#2nic" title='nic' data-ref="2nic">nic</a>, <a class="local col5 ref" href="#5mbx_addr" title='mbx_addr' data-ref="5mbx_addr">mbx_addr</a>, *<a class="local col4 ref" href="#4mbx_data" title='mbx_data' data-ref="4mbx_data">mbx_data</a>);</td></tr>
<tr><th id="60">60</th><td>		<a class="local col4 ref" href="#4mbx_data" title='mbx_data' data-ref="4mbx_data">mbx_data</a>++;</td></tr>
<tr><th id="61">61</th><td>		<a class="local col5 ref" href="#5mbx_addr" title='mbx_addr' data-ref="5mbx_addr">mbx_addr</a> += <b>sizeof</b>(<a class="typedef" href="../../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a>);</td></tr>
<tr><th id="62">62</th><td>	}</td></tr>
<tr><th id="63">63</th><td>	<a class="macro" href="nicvf_plat.h.html#18" title="rte_log(8U, nicvf_logtype_mbox, &quot;%s(): &quot; &quot;msg sent %s (VF%d)&quot; &quot;\n&quot;, __func__, nicvf_mbox_msg_str(mbx-&gt;msg.msg), nic-&gt;vf_id)" data-ref="_M/nicvf_mbox_log">nicvf_mbox_log</a>(<q>"msg sent %s (VF%d)"</q>,</td></tr>
<tr><th id="64">64</th><td>			<a class="tu ref fn" href="#nicvf_mbox_msg_str" title='nicvf_mbox_msg_str' data-use='c' data-ref="nicvf_mbox_msg_str">nicvf_mbox_msg_str</a>(<a class="local col3 ref" href="#3mbx" title='mbx' data-ref="3mbx">mbx</a>-&gt;<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a>), <a class="local col2 ref" href="#2nic" title='nic' data-ref="2nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>);</td></tr>
<tr><th id="65">65</th><td>}</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="68">68</th><td><dfn class="tu decl def fn" id="nicvf_mbox_send_async_msg_to_pf" title='nicvf_mbox_send_async_msg_to_pf' data-type='void nicvf_mbox_send_async_msg_to_pf(struct nicvf * nic, struct nic_mbx * mbx)' data-ref="nicvf_mbox_send_async_msg_to_pf">nicvf_mbox_send_async_msg_to_pf</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col7 decl" id="7nic" title='nic' data-type='struct nicvf *' data-ref="7nic">nic</dfn>, <b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> *<dfn class="local col8 decl" id="8mbx" title='mbx' data-type='struct nic_mbx *' data-ref="8mbx">mbx</dfn>)</td></tr>
<tr><th id="69">69</th><td>{</td></tr>
<tr><th id="70">70</th><td>	<a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf_raw" title='nicvf_mbox_send_msg_to_pf_raw' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf_raw">nicvf_mbox_send_msg_to_pf_raw</a>(<a class="local col7 ref" href="#7nic" title='nic' data-ref="7nic">nic</a>, <a class="local col8 ref" href="#8mbx" title='mbx' data-ref="8mbx">mbx</a>);</td></tr>
<tr><th id="71">71</th><td>	<i>/* Messages without ack are racy!*/</i></td></tr>
<tr><th id="72">72</th><td>	<a class="macro" href="nicvf_plat.h.html#24" title="rte_delay_us((1000))" data-ref="_M/nicvf_delay_us">nicvf_delay_us</a>(<a class="macro" href="#12" title="(1000)" data-ref="_M/NICVF_MBOX_PF_RESPONSE_DELAY_US">NICVF_MBOX_PF_RESPONSE_DELAY_US</a>);</td></tr>
<tr><th id="73">73</th><td>}</td></tr>
<tr><th id="74">74</th><td></td></tr>
<tr><th id="75">75</th><td><em>static</em> <b>inline</b> <em>int</em></td></tr>
<tr><th id="76">76</th><td><dfn class="tu decl def fn" id="nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-type='int nicvf_mbox_send_msg_to_pf(struct nicvf * nic, struct nic_mbx * mbx)' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col9 decl" id="9nic" title='nic' data-type='struct nicvf *' data-ref="9nic">nic</dfn>, <b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> *<dfn class="local col0 decl" id="10mbx" title='mbx' data-type='struct nic_mbx *' data-ref="10mbx">mbx</dfn>)</td></tr>
<tr><th id="77">77</th><td>{</td></tr>
<tr><th id="78">78</th><td>	<em>long</em> <dfn class="local col1 decl" id="11timeout" title='timeout' data-type='long' data-ref="11timeout">timeout</dfn>;</td></tr>
<tr><th id="79">79</th><td>	<em>long</em> <dfn class="local col2 decl" id="12sleep" title='sleep' data-type='long' data-ref="12sleep">sleep</dfn> = <var>10</var>;</td></tr>
<tr><th id="80">80</th><td>	<em>int</em> <dfn class="local col3 decl" id="13i" title='i' data-type='int' data-ref="13i">i</dfn>, <dfn class="local col4 decl" id="14retry" title='retry' data-type='int' data-ref="14retry">retry</dfn> = <var>5</var>;</td></tr>
<tr><th id="81">81</th><td></td></tr>
<tr><th id="82">82</th><td>	<b>for</b> (<a class="local col3 ref" href="#13i" title='i' data-ref="13i">i</a> = <var>0</var>; <a class="local col3 ref" href="#13i" title='i' data-ref="13i">i</a> &lt; <a class="local col4 ref" href="#14retry" title='retry' data-ref="14retry">retry</a>; <a class="local col3 ref" href="#13i" title='i' data-ref="13i">i</a>++) {</td></tr>
<tr><th id="83">83</th><td>		<a class="local col9 ref" href="#9nic" title='nic' data-ref="9nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::pf_acked" title='nicvf::pf_acked' data-ref="nicvf::pf_acked">pf_acked</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="84">84</th><td>		<a class="local col9 ref" href="#9nic" title='nic' data-ref="9nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::pf_nacked" title='nicvf::pf_nacked' data-ref="nicvf::pf_nacked">pf_nacked</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="85">85</th><td>		<a class="macro" href="nicvf_plat.h.html#28" title="do { __asm__ volatile (&quot;&quot; : : : &quot;memory&quot;); } while(0)" data-ref="_M/nicvf_smp_wmb">nicvf_smp_wmb</a>();</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td>		<a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf_raw" title='nicvf_mbox_send_msg_to_pf_raw' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf_raw">nicvf_mbox_send_msg_to_pf_raw</a>(<a class="local col9 ref" href="#9nic" title='nic' data-ref="9nic">nic</a>, <a class="local col0 ref" href="#10mbx" title='mbx' data-ref="10mbx">mbx</a>);</td></tr>
<tr><th id="88">88</th><td>		<i>/* Give some time to get PF response */</i></td></tr>
<tr><th id="89">89</th><td>		<a class="macro" href="nicvf_plat.h.html#24" title="rte_delay_us((1000))" data-ref="_M/nicvf_delay_us">nicvf_delay_us</a>(<a class="macro" href="#12" title="(1000)" data-ref="_M/NICVF_MBOX_PF_RESPONSE_DELAY_US">NICVF_MBOX_PF_RESPONSE_DELAY_US</a>);</td></tr>
<tr><th id="90">90</th><td>		<a class="local col1 ref" href="#11timeout" title='timeout' data-ref="11timeout">timeout</a> = <a class="macro" href="nicvf_mbox.h.html#20" title="2000" data-ref="_M/NIC_MBOX_MSG_TIMEOUT">NIC_MBOX_MSG_TIMEOUT</a>;</td></tr>
<tr><th id="91">91</th><td>		<b>while</b> (<a class="local col1 ref" href="#11timeout" title='timeout' data-ref="11timeout">timeout</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="92">92</th><td>			<i>/* Periodic poll happens from nicvf_interrupt() */</i></td></tr>
<tr><th id="93">93</th><td>			<a class="macro" href="nicvf_plat.h.html#29" title="do { __asm__ volatile (&quot;&quot; : : : &quot;memory&quot;); } while(0)" data-ref="_M/nicvf_smp_rmb">nicvf_smp_rmb</a>();</td></tr>
<tr><th id="94">94</th><td></td></tr>
<tr><th id="95">95</th><td>			<b>if</b> (<a class="local col9 ref" href="#9nic" title='nic' data-ref="9nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::pf_nacked" title='nicvf::pf_nacked' data-ref="nicvf::pf_nacked">pf_nacked</a>)</td></tr>
<tr><th id="96">96</th><td>				<b>return</b> -<a class="macro" href="../../../../../include/asm-generic/errno-base.h.html#25" title="22" data-ref="_M/EINVAL">EINVAL</a>;</td></tr>
<tr><th id="97">97</th><td>			<b>if</b> (<a class="local col9 ref" href="#9nic" title='nic' data-ref="9nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::pf_acked" title='nicvf::pf_acked' data-ref="nicvf::pf_acked">pf_acked</a>)</td></tr>
<tr><th id="98">98</th><td>				<b>return</b> <var>0</var>;</td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td>			<a class="macro" href="nicvf_plat.h.html#24" title="rte_delay_us((1000))" data-ref="_M/nicvf_delay_us">nicvf_delay_us</a>(<a class="macro" href="#12" title="(1000)" data-ref="_M/NICVF_MBOX_PF_RESPONSE_DELAY_US">NICVF_MBOX_PF_RESPONSE_DELAY_US</a>);</td></tr>
<tr><th id="101">101</th><td>			<a class="local col1 ref" href="#11timeout" title='timeout' data-ref="11timeout">timeout</a> -= <a class="local col2 ref" href="#12sleep" title='sleep' data-ref="12sleep">sleep</a>;</td></tr>
<tr><th id="102">102</th><td>		}</td></tr>
<tr><th id="103">103</th><td>		<a class="macro" href="nicvf_plat.h.html#14" title="rte_log(4U, nicvf_logtype_driver, &quot;%s(): &quot; &quot;PF didn&apos;t ack to msg 0x%02x %s VF%d (%d/%d)&quot; &quot;\n&quot;, __func__, mbx-&gt;msg.msg, nicvf_mbox_msg_str(mbx-&gt;msg.msg), nic-&gt;vf_id, i, retry)" data-ref="_M/nicvf_log_error">nicvf_log_error</a>(<q>"PF didn't ack to msg 0x%02x %s VF%d (%d/%d)"</q>,</td></tr>
<tr><th id="104">104</th><td>				<a class="local col0 ref" href="#10mbx" title='mbx' data-ref="10mbx">mbx</a>-&gt;<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a>, <a class="tu ref fn" href="#nicvf_mbox_msg_str" title='nicvf_mbox_msg_str' data-use='c' data-ref="nicvf_mbox_msg_str">nicvf_mbox_msg_str</a>(<a class="local col0 ref" href="#10mbx" title='mbx' data-ref="10mbx">mbx</a>-&gt;<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a>),</td></tr>
<tr><th id="105">105</th><td>				<a class="local col9 ref" href="#9nic" title='nic' data-ref="9nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>, <a class="local col3 ref" href="#13i" title='i' data-ref="13i">i</a>, <a class="local col4 ref" href="#14retry" title='retry' data-ref="14retry">retry</a>);</td></tr>
<tr><th id="106">106</th><td>	}</td></tr>
<tr><th id="107">107</th><td>	<b>return</b> -<a class="macro" href="../../../../../include/asm-generic/errno-base.h.html#19" title="16" data-ref="_M/EBUSY">EBUSY</a>;</td></tr>
<tr><th id="108">108</th><td>}</td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td></td></tr>
<tr><th id="111">111</th><td><em>int</em></td></tr>
<tr><th id="112">112</th><td><dfn class="decl def fn" id="nicvf_handle_mbx_intr" title='nicvf_handle_mbx_intr' data-ref="nicvf_handle_mbx_intr">nicvf_handle_mbx_intr</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col5 decl" id="15nic" title='nic' data-type='struct nicvf *' data-ref="15nic">nic</dfn>)</td></tr>
<tr><th id="113">113</th><td>{</td></tr>
<tr><th id="114">114</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col6 decl" id="16mbx" title='mbx' data-type='struct nic_mbx' data-ref="16mbx">mbx</dfn>;</td></tr>
<tr><th id="115">115</th><td>	<a class="typedef" href="../../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> *<dfn class="local col7 decl" id="17mbx_data" title='mbx_data' data-type='uint64_t *' data-ref="17mbx_data">mbx_data</dfn> = (<a class="typedef" href="../../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> *)&amp;<a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>;</td></tr>
<tr><th id="116">116</th><td>	<a class="typedef" href="../../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col8 decl" id="18mbx_addr" title='mbx_addr' data-type='uint64_t' data-ref="18mbx_addr">mbx_addr</dfn> = <a class="macro" href="nicvf_hw_defs.h.html#16" title="(0x000130)" data-ref="_M/NIC_VF_PF_MAILBOX_0_1">NIC_VF_PF_MAILBOX_0_1</a>;</td></tr>
<tr><th id="117">117</th><td>	<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col9 decl" id="19i" title='i' data-type='size_t' data-ref="19i">i</dfn>;</td></tr>
<tr><th id="118">118</th><td></td></tr>
<tr><th id="119">119</th><td>	<b>for</b> (<a class="local col9 ref" href="#19i" title='i' data-ref="19i">i</a> = <var>0</var>; <a class="local col9 ref" href="#19i" title='i' data-ref="19i">i</a> &lt; <a class="macro" href="nicvf_mbox.h.html#19" title="2" data-ref="_M/NIC_PF_VF_MAILBOX_SIZE">NIC_PF_VF_MAILBOX_SIZE</a>; <a class="local col9 ref" href="#19i" title='i' data-ref="19i">i</a>++) {</td></tr>
<tr><th id="120">120</th><td>		*<a class="local col7 ref" href="#17mbx_data" title='mbx_data' data-ref="17mbx_data">mbx_data</a> = <a class="ref fn" href="nicvf_hw.h.html#nicvf_reg_read" title='nicvf_reg_read' data-ref="nicvf_reg_read">nicvf_reg_read</a>(<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>, <a class="local col8 ref" href="#18mbx_addr" title='mbx_addr' data-ref="18mbx_addr">mbx_addr</a>);</td></tr>
<tr><th id="121">121</th><td>		<a class="local col7 ref" href="#17mbx_data" title='mbx_data' data-ref="17mbx_data">mbx_data</a>++;</td></tr>
<tr><th id="122">122</th><td>		<a class="local col8 ref" href="#18mbx_addr" title='mbx_addr' data-ref="18mbx_addr">mbx_addr</a> += <b>sizeof</b>(<a class="typedef" href="../../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a>);</td></tr>
<tr><th id="123">123</th><td>	}</td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td>	<i>/* Overwrite the message so we won't receive it again */</i></td></tr>
<tr><th id="126">126</th><td>	<a class="ref fn" href="nicvf_hw.h.html#nicvf_reg_write" title='nicvf_reg_write' data-ref="nicvf_reg_write">nicvf_reg_write</a>(<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>, <a class="macro" href="nicvf_hw_defs.h.html#16" title="(0x000130)" data-ref="_M/NIC_VF_PF_MAILBOX_0_1">NIC_VF_PF_MAILBOX_0_1</a>, <var>0x0</var>);</td></tr>
<tr><th id="127">127</th><td></td></tr>
<tr><th id="128">128</th><td>	<a class="macro" href="nicvf_plat.h.html#18" title="rte_log(8U, nicvf_logtype_mbox, &quot;%s(): &quot; &quot;msg received id=0x%hhx %s (VF%d)&quot; &quot;\n&quot;, __func__, mbx.msg.msg, nicvf_mbox_msg_str(mbx.msg.msg), nic-&gt;vf_id)" data-ref="_M/nicvf_mbox_log">nicvf_mbox_log</a>(<q>"msg received id=0x%hhx %s (VF%d)"</q>, <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a>,</td></tr>
<tr><th id="129">129</th><td>			<a class="tu ref fn" href="#nicvf_mbox_msg_str" title='nicvf_mbox_msg_str' data-use='c' data-ref="nicvf_mbox_msg_str">nicvf_mbox_msg_str</a>(<a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a>), <a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>);</td></tr>
<tr><th id="130">130</th><td></td></tr>
<tr><th id="131">131</th><td>	<b>switch</b> (<a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a>) {</td></tr>
<tr><th id="132">132</th><td>	<b>case</b> <a class="macro" href="nicvf_mbox.h.html#24" title="0x01" data-ref="_M/NIC_MBOX_MSG_READY">NIC_MBOX_MSG_READY</a>:</td></tr>
<tr><th id="133">133</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a> = <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::nic_cfg" title='nic_mbx::(anonymous union)::nic_cfg' data-ref="nic_mbx::(anonymous)::nic_cfg">nic_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_cfg_msg::vf_id" title='nic_cfg_msg::vf_id' data-ref="nic_cfg_msg::vf_id">vf_id</a> &amp; <var>0x7F</var>;</td></tr>
<tr><th id="134">134</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::tns_mode" title='nicvf::tns_mode' data-ref="nicvf::tns_mode">tns_mode</a> = <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::nic_cfg" title='nic_mbx::(anonymous union)::nic_cfg' data-ref="nic_mbx::(anonymous)::nic_cfg">nic_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_cfg_msg::tns_mode" title='nic_cfg_msg::tns_mode' data-ref="nic_cfg_msg::tns_mode">tns_mode</a> &amp; <var>0x7F</var>;</td></tr>
<tr><th id="135">135</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::node" title='nicvf::node' data-ref="nicvf::node">node</a> = <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::nic_cfg" title='nic_mbx::(anonymous union)::nic_cfg' data-ref="nic_mbx::(anonymous)::nic_cfg">nic_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_cfg_msg::node_id" title='nic_cfg_msg::node_id' data-ref="nic_cfg_msg::node_id">node_id</a>;</td></tr>
<tr><th id="136">136</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::sqs_mode" title='nicvf::sqs_mode' data-ref="nicvf::sqs_mode">sqs_mode</a> = <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::nic_cfg" title='nic_mbx::(anonymous union)::nic_cfg' data-ref="nic_mbx::(anonymous)::nic_cfg">nic_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_cfg_msg::sqs_mode" title='nic_cfg_msg::sqs_mode' data-ref="nic_cfg_msg::sqs_mode">sqs_mode</a>;</td></tr>
<tr><th id="137">137</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::loopback_supported" title='nicvf::loopback_supported' data-ref="nicvf::loopback_supported">loopback_supported</a> = <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::nic_cfg" title='nic_mbx::(anonymous union)::nic_cfg' data-ref="nic_mbx::(anonymous)::nic_cfg">nic_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_cfg_msg::loopback_supported" title='nic_cfg_msg::loopback_supported' data-ref="nic_cfg_msg::loopback_supported">loopback_supported</a>;</td></tr>
<tr><th id="138">138</th><td>		<a class="ref fn" href="../../../../lib/librte_net/rte_ether.h.html#ether_addr_copy" title='ether_addr_copy' data-ref="ether_addr_copy">ether_addr_copy</a>((<b>struct</b> <a class="type" href="../../../../lib/librte_net/rte_ether.h.html#ether_addr" title='ether_addr' data-ref="ether_addr">ether_addr</a> *)<a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::nic_cfg" title='nic_mbx::(anonymous union)::nic_cfg' data-ref="nic_mbx::(anonymous)::nic_cfg">nic_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_cfg_msg::mac_addr" title='nic_cfg_msg::mac_addr' data-ref="nic_cfg_msg::mac_addr">mac_addr</a>,</td></tr>
<tr><th id="139">139</th><td>				(<b>struct</b> <a class="type" href="../../../../lib/librte_net/rte_ether.h.html#ether_addr" title='ether_addr' data-ref="ether_addr">ether_addr</a> *)<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::mac_addr" title='nicvf::mac_addr' data-ref="nicvf::mac_addr">mac_addr</a>);</td></tr>
<tr><th id="140">140</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::pf_acked" title='nicvf::pf_acked' data-ref="nicvf::pf_acked">pf_acked</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="141">141</th><td>		<b>break</b>;</td></tr>
<tr><th id="142">142</th><td>	<b>case</b> <a class="macro" href="nicvf_mbox.h.html#25" title="0x02" data-ref="_M/NIC_MBOX_MSG_ACK">NIC_MBOX_MSG_ACK</a>:</td></tr>
<tr><th id="143">143</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::pf_acked" title='nicvf::pf_acked' data-ref="nicvf::pf_acked">pf_acked</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="144">144</th><td>		<b>break</b>;</td></tr>
<tr><th id="145">145</th><td>	<b>case</b> <a class="macro" href="nicvf_mbox.h.html#26" title="0x03" data-ref="_M/NIC_MBOX_MSG_NACK">NIC_MBOX_MSG_NACK</a>:</td></tr>
<tr><th id="146">146</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::pf_nacked" title='nicvf::pf_nacked' data-ref="nicvf::pf_nacked">pf_nacked</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="147">147</th><td>		<b>break</b>;</td></tr>
<tr><th id="148">148</th><td>	<b>case</b> <a class="macro" href="nicvf_mbox.h.html#34" title="0x0B" data-ref="_M/NIC_MBOX_MSG_RSS_SIZE">NIC_MBOX_MSG_RSS_SIZE</a>:</td></tr>
<tr><th id="149">149</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::rss_info" title='nicvf::rss_info' data-ref="nicvf::rss_info">rss_info</a>.<a class="ref field" href="nicvf_hw.h.html#nicvf_rss_reta_info::rss_size" title='nicvf_rss_reta_info::rss_size' data-ref="nicvf_rss_reta_info::rss_size">rss_size</a> = <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rss_size" title='nic_mbx::(anonymous union)::rss_size' data-ref="nic_mbx::(anonymous)::rss_size">rss_size</a>.<a class="ref field" href="nicvf_mbox.h.html#rss_sz_msg::ind_tbl_size" title='rss_sz_msg::ind_tbl_size' data-ref="rss_sz_msg::ind_tbl_size">ind_tbl_size</a>;</td></tr>
<tr><th id="150">150</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::pf_acked" title='nicvf::pf_acked' data-ref="nicvf::pf_acked">pf_acked</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="151">151</th><td>		<b>break</b>;</td></tr>
<tr><th id="152">152</th><td>	<b>case</b> <a class="macro" href="nicvf_mbox.h.html#39" title="0x11" data-ref="_M/NIC_MBOX_MSG_BGX_LINK_CHANGE">NIC_MBOX_MSG_BGX_LINK_CHANGE</a>:</td></tr>
<tr><th id="153">153</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::link_up" title='nicvf::link_up' data-ref="nicvf::link_up">link_up</a> = <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::link_status" title='nic_mbx::(anonymous union)::link_status' data-ref="nic_mbx::(anonymous)::link_status">link_status</a>.<a class="ref field" href="nicvf_mbox.h.html#bgx_link_status::link_up" title='bgx_link_status::link_up' data-ref="bgx_link_status::link_up">link_up</a>;</td></tr>
<tr><th id="154">154</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::duplex" title='nicvf::duplex' data-ref="nicvf::duplex">duplex</a> = <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::link_status" title='nic_mbx::(anonymous union)::link_status' data-ref="nic_mbx::(anonymous)::link_status">link_status</a>.<a class="ref field" href="nicvf_mbox.h.html#bgx_link_status::duplex" title='bgx_link_status::duplex' data-ref="bgx_link_status::duplex">duplex</a>;</td></tr>
<tr><th id="155">155</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::speed" title='nicvf::speed' data-ref="nicvf::speed">speed</a> = <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::link_status" title='nic_mbx::(anonymous union)::link_status' data-ref="nic_mbx::(anonymous)::link_status">link_status</a>.<a class="ref field" href="nicvf_mbox.h.html#bgx_link_status::speed" title='bgx_link_status::speed' data-ref="bgx_link_status::speed">speed</a>;</td></tr>
<tr><th id="156">156</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::pf_acked" title='nicvf::pf_acked' data-ref="nicvf::pf_acked">pf_acked</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="157">157</th><td>		<b>break</b>;</td></tr>
<tr><th id="158">158</th><td>	<b>case</b> <a class="macro" href="nicvf_mbox.h.html#40" title="0x12" data-ref="_M/NIC_MBOX_MSG_ALLOC_SQS">NIC_MBOX_MSG_ALLOC_SQS</a>:</td></tr>
<tr><th id="159">159</th><td>		<a class="macro" href="nicvf_hw_defs.h.html#189" title="(((nic)-&gt;sqs_mode == 0) ? (void) (0) : __assert_fail (&quot;(nic)-&gt;sqs_mode == 0&quot;, &quot;/home/tempdban/dpdk/build/build/drivers/net/thunderx/../../../../../drivers/net/thunderx/base/nicvf_mbox.c&quot;, 159, __PRETTY_FUNCTION__))" data-ref="_M/assert_primary">assert_primary</a>(<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>);</td></tr>
<tr><th id="160">160</th><td>		<b>if</b> (<a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sqs_alloc" title='nic_mbx::(anonymous union)::sqs_alloc' data-ref="nic_mbx::(anonymous)::sqs_alloc">sqs_alloc</a>.<a class="ref field" href="nicvf_mbox.h.html#sqs_alloc::qs_count" title='sqs_alloc::qs_count' data-ref="sqs_alloc::qs_count">qs_count</a> != <a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::sqs_count" title='nicvf::sqs_count' data-ref="nicvf::sqs_count">sqs_count</a>) {</td></tr>
<tr><th id="161">161</th><td>			<a class="macro" href="nicvf_plat.h.html#14" title="rte_log(4U, nicvf_logtype_driver, &quot;%s(): &quot; &quot;Received %&quot; &quot;u&quot; &quot;/%&quot; &quot;u&quot; &quot; secondary qsets&quot; &quot;\n&quot;, __func__, mbx.sqs_alloc.qs_count, nic-&gt;sqs_count)" data-ref="_M/nicvf_log_error">nicvf_log_error</a>(<q>"Received %"</q> <a class="macro" href="../../../../../include/inttypes.h.html#103" title="&quot;u&quot;" data-ref="_M/PRIu8">PRIu8</a> <q>"/%"</q> <a class="macro" href="../../../../../include/inttypes.h.html#103" title="&quot;u&quot;" data-ref="_M/PRIu8">PRIu8</a></td></tr>
<tr><th id="162">162</th><td>			                <q>" secondary qsets"</q>,</td></tr>
<tr><th id="163">163</th><td>			                <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sqs_alloc" title='nic_mbx::(anonymous union)::sqs_alloc' data-ref="nic_mbx::(anonymous)::sqs_alloc">sqs_alloc</a>.<a class="ref field" href="nicvf_mbox.h.html#sqs_alloc::qs_count" title='sqs_alloc::qs_count' data-ref="sqs_alloc::qs_count">qs_count</a>,</td></tr>
<tr><th id="164">164</th><td>			                <a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::sqs_count" title='nicvf::sqs_count' data-ref="nicvf::sqs_count">sqs_count</a>);</td></tr>
<tr><th id="165">165</th><td>			<a class="ref fn" href="../../../../../include/stdlib.h.html#abort" title='abort' data-ref="abort">abort</a>();</td></tr>
<tr><th id="166">166</th><td>		}</td></tr>
<tr><th id="167">167</th><td>		<b>for</b> (<a class="local col9 ref" href="#19i" title='i' data-ref="19i">i</a> = <var>0</var>; <a class="local col9 ref" href="#19i" title='i' data-ref="19i">i</a> &lt; <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sqs_alloc" title='nic_mbx::(anonymous union)::sqs_alloc' data-ref="nic_mbx::(anonymous)::sqs_alloc">sqs_alloc</a>.<a class="ref field" href="nicvf_mbox.h.html#sqs_alloc::qs_count" title='sqs_alloc::qs_count' data-ref="sqs_alloc::qs_count">qs_count</a>; <a class="local col9 ref" href="#19i" title='i' data-ref="19i">i</a>++) {</td></tr>
<tr><th id="168">168</th><td>			<b>if</b> (<a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sqs_alloc" title='nic_mbx::(anonymous union)::sqs_alloc' data-ref="nic_mbx::(anonymous)::sqs_alloc">sqs_alloc</a>.<a class="ref field" href="nicvf_mbox.h.html#sqs_alloc::svf" title='sqs_alloc::svf' data-ref="sqs_alloc::svf">svf</a>[<a class="local col9 ref" href="#19i" title='i' data-ref="19i">i</a>] != <a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::snicvf" title='nicvf::snicvf' data-ref="nicvf::snicvf">snicvf</a>[<a class="local col9 ref" href="#19i" title='i' data-ref="19i">i</a>]-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>) {</td></tr>
<tr><th id="169">169</th><td>				<a class="macro" href="nicvf_plat.h.html#14" title="rte_log(4U, nicvf_logtype_driver, &quot;%s(): &quot; &quot;Received secondary qset[%zu] &quot; &quot;ID %&quot; &quot;u&quot; &quot; expected %&quot; &quot;u&quot; &quot;\n&quot;, __func__, i, mbx.sqs_alloc.svf[i], nic-&gt;snicvf[i]-&gt;vf_id)" data-ref="_M/nicvf_log_error">nicvf_log_error</a>(<q>"Received secondary qset[%zu] "</q></td></tr>
<tr><th id="170">170</th><td>				                <q>"ID %"</q> <a class="macro" href="../../../../../include/inttypes.h.html#103" title="&quot;u&quot;" data-ref="_M/PRIu8">PRIu8</a> <q>" expected %"</q></td></tr>
<tr><th id="171">171</th><td>				                <a class="macro" href="../../../../../include/inttypes.h.html#103" title="&quot;u&quot;" data-ref="_M/PRIu8">PRIu8</a>, <a class="local col9 ref" href="#19i" title='i' data-ref="19i">i</a>, <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sqs_alloc" title='nic_mbx::(anonymous union)::sqs_alloc' data-ref="nic_mbx::(anonymous)::sqs_alloc">sqs_alloc</a>.<a class="ref field" href="nicvf_mbox.h.html#sqs_alloc::svf" title='sqs_alloc::svf' data-ref="sqs_alloc::svf">svf</a>[<a class="local col9 ref" href="#19i" title='i' data-ref="19i">i</a>],</td></tr>
<tr><th id="172">172</th><td>				                <a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::snicvf" title='nicvf::snicvf' data-ref="nicvf::snicvf">snicvf</a>[<a class="local col9 ref" href="#19i" title='i' data-ref="19i">i</a>]-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>);</td></tr>
<tr><th id="173">173</th><td>				<a class="ref fn" href="../../../../../include/stdlib.h.html#abort" title='abort' data-ref="abort">abort</a>();</td></tr>
<tr><th id="174">174</th><td>			}</td></tr>
<tr><th id="175">175</th><td>		}</td></tr>
<tr><th id="176">176</th><td>		<a class="local col5 ref" href="#15nic" title='nic' data-ref="15nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::pf_acked" title='nicvf::pf_acked' data-ref="nicvf::pf_acked">pf_acked</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="177">177</th><td>		<b>break</b>;</td></tr>
<tr><th id="178">178</th><td>	<b>default</b>:</td></tr>
<tr><th id="179">179</th><td>		<a class="macro" href="nicvf_plat.h.html#14" title="rte_log(4U, nicvf_logtype_driver, &quot;%s(): &quot; &quot;Invalid message from PF, msg_id=0x%hhx %s&quot; &quot;\n&quot;, __func__, mbx.msg.msg, nicvf_mbox_msg_str(mbx.msg.msg))" data-ref="_M/nicvf_log_error">nicvf_log_error</a>(<q>"Invalid message from PF, msg_id=0x%hhx %s"</q>,</td></tr>
<tr><th id="180">180</th><td>				<a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a>, <a class="tu ref fn" href="#nicvf_mbox_msg_str" title='nicvf_mbox_msg_str' data-use='c' data-ref="nicvf_mbox_msg_str">nicvf_mbox_msg_str</a>(<a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a>));</td></tr>
<tr><th id="181">181</th><td>		<b>break</b>;</td></tr>
<tr><th id="182">182</th><td>	}</td></tr>
<tr><th id="183">183</th><td>	<a class="macro" href="nicvf_plat.h.html#28" title="do { __asm__ volatile (&quot;&quot; : : : &quot;memory&quot;); } while(0)" data-ref="_M/nicvf_smp_wmb">nicvf_smp_wmb</a>();</td></tr>
<tr><th id="184">184</th><td></td></tr>
<tr><th id="185">185</th><td>	<b>return</b> <a class="local col6 ref" href="#16mbx" title='mbx' data-ref="16mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a>;</td></tr>
<tr><th id="186">186</th><td>}</td></tr>
<tr><th id="187">187</th><td></td></tr>
<tr><th id="188">188</th><td><i>/*</i></td></tr>
<tr><th id="189">189</th><td><i> * Checks if VF is able to communicate with PF</i></td></tr>
<tr><th id="190">190</th><td><i> * and also gets the VNIC number this VF is associated to.</i></td></tr>
<tr><th id="191">191</th><td><i> */</i></td></tr>
<tr><th id="192">192</th><td><em>int</em></td></tr>
<tr><th id="193">193</th><td><dfn class="decl def fn" id="nicvf_mbox_check_pf_ready" title='nicvf_mbox_check_pf_ready' data-ref="nicvf_mbox_check_pf_ready">nicvf_mbox_check_pf_ready</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col0 decl" id="20nic" title='nic' data-type='struct nicvf *' data-ref="20nic">nic</dfn>)</td></tr>
<tr><th id="194">194</th><td>{</td></tr>
<tr><th id="195">195</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col1 decl" id="21mbx" title='mbx' data-type='struct nic_mbx' data-ref="21mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = {.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#24" title="0x01" data-ref="_M/NIC_MBOX_MSG_READY">NIC_MBOX_MSG_READY</a>} };</td></tr>
<tr><th id="196">196</th><td></td></tr>
<tr><th id="197">197</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col0 ref" href="#20nic" title='nic' data-ref="20nic">nic</a>, &amp;<a class="local col1 ref" href="#21mbx" title='mbx' data-ref="21mbx">mbx</a>);</td></tr>
<tr><th id="198">198</th><td>}</td></tr>
<tr><th id="199">199</th><td></td></tr>
<tr><th id="200">200</th><td><em>int</em></td></tr>
<tr><th id="201">201</th><td><dfn class="decl def fn" id="nicvf_mbox_set_mac_addr" title='nicvf_mbox_set_mac_addr' data-ref="nicvf_mbox_set_mac_addr">nicvf_mbox_set_mac_addr</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col2 decl" id="22nic" title='nic' data-type='struct nicvf *' data-ref="22nic">nic</dfn>,</td></tr>
<tr><th id="202">202</th><td>			<em>const</em> <a class="typedef" href="../../../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="local col3 decl" id="23mac" title='mac' data-type='const uint8_t *' data-ref="23mac">mac</dfn>[<a class="macro" href="nicvf_plat.h.html#47" title="6" data-ref="_M/NICVF_MAC_ADDR_SIZE">NICVF_MAC_ADDR_SIZE</a>])</td></tr>
<tr><th id="203">203</th><td>{</td></tr>
<tr><th id="204">204</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col4 decl" id="24mbx" title='mbx' data-type='struct nic_mbx' data-ref="24mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = {<var>0</var>} };</td></tr>
<tr><th id="205">205</th><td>	<em>int</em> <dfn class="local col5 decl" id="25i" title='i' data-type='int' data-ref="25i">i</dfn>;</td></tr>
<tr><th id="206">206</th><td></td></tr>
<tr><th id="207">207</th><td>	<a class="local col4 ref" href="#24mbx" title='mbx' data-ref="24mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#31" title="0x08" data-ref="_M/NIC_MBOX_MSG_SET_MAC">NIC_MBOX_MSG_SET_MAC</a>;</td></tr>
<tr><th id="208">208</th><td>	<a class="local col4 ref" href="#24mbx" title='mbx' data-ref="24mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::mac" title='nic_mbx::(anonymous union)::mac' data-ref="nic_mbx::(anonymous)::mac">mac</a>.<a class="ref field" href="nicvf_mbox.h.html#set_mac_msg::vf_id" title='set_mac_msg::vf_id' data-ref="set_mac_msg::vf_id">vf_id</a> = <a class="local col2 ref" href="#22nic" title='nic' data-ref="22nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="209">209</th><td>	<b>for</b> (<a class="local col5 ref" href="#25i" title='i' data-ref="25i">i</a> = <var>0</var>; <a class="local col5 ref" href="#25i" title='i' data-ref="25i">i</a> &lt; <var>6</var>; <a class="local col5 ref" href="#25i" title='i' data-ref="25i">i</a>++)</td></tr>
<tr><th id="210">210</th><td>		<a class="local col4 ref" href="#24mbx" title='mbx' data-ref="24mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::mac" title='nic_mbx::(anonymous union)::mac' data-ref="nic_mbx::(anonymous)::mac">mac</a>.<a class="ref field" href="nicvf_mbox.h.html#set_mac_msg::mac_addr" title='set_mac_msg::mac_addr' data-ref="set_mac_msg::mac_addr">mac_addr</a>[<a class="local col5 ref" href="#25i" title='i' data-ref="25i">i</a>] = <a class="local col3 ref" href="#23mac" title='mac' data-ref="23mac">mac</a>[<a class="local col5 ref" href="#25i" title='i' data-ref="25i">i</a>];</td></tr>
<tr><th id="211">211</th><td></td></tr>
<tr><th id="212">212</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col2 ref" href="#22nic" title='nic' data-ref="22nic">nic</a>, &amp;<a class="local col4 ref" href="#24mbx" title='mbx' data-ref="24mbx">mbx</a>);</td></tr>
<tr><th id="213">213</th><td>}</td></tr>
<tr><th id="214">214</th><td></td></tr>
<tr><th id="215">215</th><td><em>int</em></td></tr>
<tr><th id="216">216</th><td><dfn class="decl def fn" id="nicvf_mbox_config_cpi" title='nicvf_mbox_config_cpi' data-ref="nicvf_mbox_config_cpi">nicvf_mbox_config_cpi</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col6 decl" id="26nic" title='nic' data-type='struct nicvf *' data-ref="26nic">nic</dfn>, <a class="typedef" href="../../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="27qcnt" title='qcnt' data-type='uint32_t' data-ref="27qcnt">qcnt</dfn>)</td></tr>
<tr><th id="217">217</th><td>{</td></tr>
<tr><th id="218">218</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col8 decl" id="28mbx" title='mbx' data-type='struct nic_mbx' data-ref="28mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="219">219</th><td></td></tr>
<tr><th id="220">220</th><td>	<a class="local col8 ref" href="#28mbx" title='mbx' data-ref="28mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#33" title="0x0A" data-ref="_M/NIC_MBOX_MSG_CPI_CFG">NIC_MBOX_MSG_CPI_CFG</a>;</td></tr>
<tr><th id="221">221</th><td>	<a class="local col8 ref" href="#28mbx" title='mbx' data-ref="28mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::cpi_cfg" title='nic_mbx::(anonymous union)::cpi_cfg' data-ref="nic_mbx::(anonymous)::cpi_cfg">cpi_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#cpi_cfg_msg::vf_id" title='cpi_cfg_msg::vf_id' data-ref="cpi_cfg_msg::vf_id">vf_id</a> = <a class="local col6 ref" href="#26nic" title='nic' data-ref="26nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="222">222</th><td>	<a class="local col8 ref" href="#28mbx" title='mbx' data-ref="28mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::cpi_cfg" title='nic_mbx::(anonymous union)::cpi_cfg' data-ref="nic_mbx::(anonymous)::cpi_cfg">cpi_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#cpi_cfg_msg::cpi_alg" title='cpi_cfg_msg::cpi_alg' data-ref="cpi_cfg_msg::cpi_alg">cpi_alg</a> = <a class="local col6 ref" href="#26nic" title='nic' data-ref="26nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::cpi_alg" title='nicvf::cpi_alg' data-ref="nicvf::cpi_alg">cpi_alg</a>;</td></tr>
<tr><th id="223">223</th><td>	<a class="local col8 ref" href="#28mbx" title='mbx' data-ref="28mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::cpi_cfg" title='nic_mbx::(anonymous union)::cpi_cfg' data-ref="nic_mbx::(anonymous)::cpi_cfg">cpi_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#cpi_cfg_msg::rq_cnt" title='cpi_cfg_msg::rq_cnt' data-ref="cpi_cfg_msg::rq_cnt">rq_cnt</a> = <a class="local col7 ref" href="#27qcnt" title='qcnt' data-ref="27qcnt">qcnt</a>;</td></tr>
<tr><th id="224">224</th><td></td></tr>
<tr><th id="225">225</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col6 ref" href="#26nic" title='nic' data-ref="26nic">nic</a>, &amp;<a class="local col8 ref" href="#28mbx" title='mbx' data-ref="28mbx">mbx</a>);</td></tr>
<tr><th id="226">226</th><td>}</td></tr>
<tr><th id="227">227</th><td></td></tr>
<tr><th id="228">228</th><td><em>int</em></td></tr>
<tr><th id="229">229</th><td><dfn class="decl def fn" id="nicvf_mbox_get_rss_size" title='nicvf_mbox_get_rss_size' data-ref="nicvf_mbox_get_rss_size">nicvf_mbox_get_rss_size</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col9 decl" id="29nic" title='nic' data-type='struct nicvf *' data-ref="29nic">nic</dfn>)</td></tr>
<tr><th id="230">230</th><td>{</td></tr>
<tr><th id="231">231</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col0 decl" id="30mbx" title='mbx' data-type='struct nic_mbx' data-ref="30mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="232">232</th><td></td></tr>
<tr><th id="233">233</th><td>	<a class="local col0 ref" href="#30mbx" title='mbx' data-ref="30mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#34" title="0x0B" data-ref="_M/NIC_MBOX_MSG_RSS_SIZE">NIC_MBOX_MSG_RSS_SIZE</a>;</td></tr>
<tr><th id="234">234</th><td>	<a class="local col0 ref" href="#30mbx" title='mbx' data-ref="30mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rss_size" title='nic_mbx::(anonymous union)::rss_size' data-ref="nic_mbx::(anonymous)::rss_size">rss_size</a>.<a class="ref field" href="nicvf_mbox.h.html#rss_sz_msg::vf_id" title='rss_sz_msg::vf_id' data-ref="rss_sz_msg::vf_id">vf_id</a> = <a class="local col9 ref" href="#29nic" title='nic' data-ref="29nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="235">235</th><td></td></tr>
<tr><th id="236">236</th><td>	<i>/* Result will be stored in nic-&gt;rss_info.rss_size */</i></td></tr>
<tr><th id="237">237</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col9 ref" href="#29nic" title='nic' data-ref="29nic">nic</a>, &amp;<a class="local col0 ref" href="#30mbx" title='mbx' data-ref="30mbx">mbx</a>);</td></tr>
<tr><th id="238">238</th><td>}</td></tr>
<tr><th id="239">239</th><td></td></tr>
<tr><th id="240">240</th><td><em>int</em></td></tr>
<tr><th id="241">241</th><td><dfn class="decl def fn" id="nicvf_mbox_config_rss" title='nicvf_mbox_config_rss' data-ref="nicvf_mbox_config_rss">nicvf_mbox_config_rss</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col1 decl" id="31nic" title='nic' data-type='struct nicvf *' data-ref="31nic">nic</dfn>)</td></tr>
<tr><th id="242">242</th><td>{</td></tr>
<tr><th id="243">243</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col2 decl" id="32mbx" title='mbx' data-type='struct nic_mbx' data-ref="32mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="244">244</th><td>	<b>struct</b> <a class="type" href="nicvf_hw.h.html#nicvf_rss_reta_info" title='nicvf_rss_reta_info' data-ref="nicvf_rss_reta_info">nicvf_rss_reta_info</a> *<dfn class="local col3 decl" id="33rss" title='rss' data-type='struct nicvf_rss_reta_info *' data-ref="33rss">rss</dfn> = &amp;<a class="local col1 ref" href="#31nic" title='nic' data-ref="31nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::rss_info" title='nicvf::rss_info' data-ref="nicvf::rss_info">rss_info</a>;</td></tr>
<tr><th id="245">245</th><td>	<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col4 decl" id="34tot_len" title='tot_len' data-type='size_t' data-ref="34tot_len">tot_len</dfn> = <a class="local col3 ref" href="#33rss" title='rss' data-ref="33rss">rss</a>-&gt;<a class="ref field" href="nicvf_hw.h.html#nicvf_rss_reta_info::rss_size" title='nicvf_rss_reta_info::rss_size' data-ref="nicvf_rss_reta_info::rss_size">rss_size</a>;</td></tr>
<tr><th id="246">246</th><td>	<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col5 decl" id="35cur_len" title='cur_len' data-type='size_t' data-ref="35cur_len">cur_len</dfn>;</td></tr>
<tr><th id="247">247</th><td>	<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col6 decl" id="36cur_idx" title='cur_idx' data-type='size_t' data-ref="36cur_idx">cur_idx</dfn> = <var>0</var>;</td></tr>
<tr><th id="248">248</th><td>	<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col7 decl" id="37i" title='i' data-type='size_t' data-ref="37i">i</dfn>;</td></tr>
<tr><th id="249">249</th><td></td></tr>
<tr><th id="250">250</th><td>	<a class="local col2 ref" href="#32mbx" title='mbx' data-ref="32mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rss_cfg" title='nic_mbx::(anonymous union)::rss_cfg' data-ref="nic_mbx::(anonymous)::rss_cfg">rss_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#rss_cfg_msg::vf_id" title='rss_cfg_msg::vf_id' data-ref="rss_cfg_msg::vf_id">vf_id</a> = <a class="local col1 ref" href="#31nic" title='nic' data-ref="31nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="251">251</th><td>	<a class="local col2 ref" href="#32mbx" title='mbx' data-ref="32mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rss_cfg" title='nic_mbx::(anonymous union)::rss_cfg' data-ref="nic_mbx::(anonymous)::rss_cfg">rss_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#rss_cfg_msg::hash_bits" title='rss_cfg_msg::hash_bits' data-ref="rss_cfg_msg::hash_bits">hash_bits</a> = <a class="local col3 ref" href="#33rss" title='rss' data-ref="33rss">rss</a>-&gt;<a class="ref field" href="nicvf_hw.h.html#nicvf_rss_reta_info::hash_bits" title='nicvf_rss_reta_info::hash_bits' data-ref="nicvf_rss_reta_info::hash_bits">hash_bits</a>;</td></tr>
<tr><th id="252">252</th><td>	<a class="local col2 ref" href="#32mbx" title='mbx' data-ref="32mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rss_cfg" title='nic_mbx::(anonymous union)::rss_cfg' data-ref="nic_mbx::(anonymous)::rss_cfg">rss_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#rss_cfg_msg::tbl_len" title='rss_cfg_msg::tbl_len' data-ref="rss_cfg_msg::tbl_len">tbl_len</a> = <var>0</var>;</td></tr>
<tr><th id="253">253</th><td>	<a class="local col2 ref" href="#32mbx" title='mbx' data-ref="32mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rss_cfg" title='nic_mbx::(anonymous union)::rss_cfg' data-ref="nic_mbx::(anonymous)::rss_cfg">rss_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#rss_cfg_msg::tbl_offset" title='rss_cfg_msg::tbl_offset' data-ref="rss_cfg_msg::tbl_offset">tbl_offset</a> = <var>0</var>;</td></tr>
<tr><th id="254">254</th><td></td></tr>
<tr><th id="255">255</th><td>	<b>while</b> (<a class="local col6 ref" href="#36cur_idx" title='cur_idx' data-ref="36cur_idx">cur_idx</a> &lt; <a class="local col4 ref" href="#34tot_len" title='tot_len' data-ref="34tot_len">tot_len</a>) {</td></tr>
<tr><th id="256">256</th><td>		<a class="local col5 ref" href="#35cur_len" title='cur_len' data-ref="35cur_len">cur_len</a> = <a class="macro" href="nicvf_plat.h.html#33" title="__extension__ ({ __typeof__ (tot_len - cur_idx) _a = (tot_len - cur_idx); __typeof__ ((size_t)8) _b = ((size_t)8); _a &lt; _b ? _a : _b; })" data-ref="_M/nicvf_min">nicvf_min</a>(<a class="local col4 ref" href="#34tot_len" title='tot_len' data-ref="34tot_len">tot_len</a> - <a class="local col6 ref" href="#36cur_idx" title='cur_idx' data-ref="36cur_idx">cur_idx</a>,</td></tr>
<tr><th id="257">257</th><td>				(<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span>)<a class="macro" href="nicvf_mbox.h.html#119" title="8" data-ref="_M/RSS_IND_TBL_LEN_PER_MBX_MSG">RSS_IND_TBL_LEN_PER_MBX_MSG</a>);</td></tr>
<tr><th id="258">258</th><td>		<a class="local col2 ref" href="#32mbx" title='mbx' data-ref="32mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = (<a class="local col6 ref" href="#36cur_idx" title='cur_idx' data-ref="36cur_idx">cur_idx</a> &gt; <var>0</var>) ?</td></tr>
<tr><th id="259">259</th><td>			<a class="macro" href="nicvf_mbox.h.html#36" title="0x0D" data-ref="_M/NIC_MBOX_MSG_RSS_CFG_CONT">NIC_MBOX_MSG_RSS_CFG_CONT</a> : <a class="macro" href="nicvf_mbox.h.html#35" title="0x0C" data-ref="_M/NIC_MBOX_MSG_RSS_CFG">NIC_MBOX_MSG_RSS_CFG</a>;</td></tr>
<tr><th id="260">260</th><td>		<a class="local col2 ref" href="#32mbx" title='mbx' data-ref="32mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rss_cfg" title='nic_mbx::(anonymous union)::rss_cfg' data-ref="nic_mbx::(anonymous)::rss_cfg">rss_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#rss_cfg_msg::tbl_offset" title='rss_cfg_msg::tbl_offset' data-ref="rss_cfg_msg::tbl_offset">tbl_offset</a> = <a class="local col6 ref" href="#36cur_idx" title='cur_idx' data-ref="36cur_idx">cur_idx</a>;</td></tr>
<tr><th id="261">261</th><td>		<a class="local col2 ref" href="#32mbx" title='mbx' data-ref="32mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rss_cfg" title='nic_mbx::(anonymous union)::rss_cfg' data-ref="nic_mbx::(anonymous)::rss_cfg">rss_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#rss_cfg_msg::tbl_len" title='rss_cfg_msg::tbl_len' data-ref="rss_cfg_msg::tbl_len">tbl_len</a> = <a class="local col5 ref" href="#35cur_len" title='cur_len' data-ref="35cur_len">cur_len</a>;</td></tr>
<tr><th id="262">262</th><td>		<b>for</b> (<a class="local col7 ref" href="#37i" title='i' data-ref="37i">i</a> = <var>0</var>; <a class="local col7 ref" href="#37i" title='i' data-ref="37i">i</a> &lt; <a class="local col5 ref" href="#35cur_len" title='cur_len' data-ref="35cur_len">cur_len</a>; <a class="local col7 ref" href="#37i" title='i' data-ref="37i">i</a>++)</td></tr>
<tr><th id="263">263</th><td>			<a class="local col2 ref" href="#32mbx" title='mbx' data-ref="32mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rss_cfg" title='nic_mbx::(anonymous union)::rss_cfg' data-ref="nic_mbx::(anonymous)::rss_cfg">rss_cfg</a>.<a class="ref field" href="nicvf_mbox.h.html#rss_cfg_msg::ind_tbl" title='rss_cfg_msg::ind_tbl' data-ref="rss_cfg_msg::ind_tbl">ind_tbl</a>[<a class="local col7 ref" href="#37i" title='i' data-ref="37i">i</a>] = <a class="local col3 ref" href="#33rss" title='rss' data-ref="33rss">rss</a>-&gt;<a class="ref field" href="nicvf_hw.h.html#nicvf_rss_reta_info::ind_tbl" title='nicvf_rss_reta_info::ind_tbl' data-ref="nicvf_rss_reta_info::ind_tbl">ind_tbl</a>[<a class="local col6 ref" href="#36cur_idx" title='cur_idx' data-ref="36cur_idx">cur_idx</a>++];</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td>		<b>if</b> (<a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col1 ref" href="#31nic" title='nic' data-ref="31nic">nic</a>, &amp;<a class="local col2 ref" href="#32mbx" title='mbx' data-ref="32mbx">mbx</a>))</td></tr>
<tr><th id="266">266</th><td>			<b>return</b> <a class="enum" href="nicvf_hw.h.html#NICVF_ERR_RSS_TBL_UPDATE" title='NICVF_ERR_RSS_TBL_UPDATE' data-ref="NICVF_ERR_RSS_TBL_UPDATE">NICVF_ERR_RSS_TBL_UPDATE</a>;</td></tr>
<tr><th id="267">267</th><td>	}</td></tr>
<tr><th id="268">268</th><td></td></tr>
<tr><th id="269">269</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="270">270</th><td>}</td></tr>
<tr><th id="271">271</th><td></td></tr>
<tr><th id="272">272</th><td><em>int</em></td></tr>
<tr><th id="273">273</th><td><dfn class="decl def fn" id="nicvf_mbox_rq_config" title='nicvf_mbox_rq_config' data-ref="nicvf_mbox_rq_config">nicvf_mbox_rq_config</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col8 decl" id="38nic" title='nic' data-type='struct nicvf *' data-ref="38nic">nic</dfn>, <a class="typedef" href="../../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col9 decl" id="39qidx" title='qidx' data-type='uint16_t' data-ref="39qidx">qidx</dfn>,</td></tr>
<tr><th id="274">274</th><td>		     <b>struct</b> <a class="type" href="nicvf_hw_defs.h.html#pf_rq_cfg" title='pf_rq_cfg' data-ref="pf_rq_cfg">pf_rq_cfg</a> *<dfn class="local col0 decl" id="40pf_rq_cfg" title='pf_rq_cfg' data-type='struct pf_rq_cfg *' data-ref="40pf_rq_cfg">pf_rq_cfg</dfn>)</td></tr>
<tr><th id="275">275</th><td>{</td></tr>
<tr><th id="276">276</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col1 decl" id="41mbx" title='mbx' data-type='struct nic_mbx' data-ref="41mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td>	<a class="local col1 ref" href="#41mbx" title='mbx' data-ref="41mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#28" title="0x05" data-ref="_M/NIC_MBOX_MSG_RQ_CFG">NIC_MBOX_MSG_RQ_CFG</a>;</td></tr>
<tr><th id="279">279</th><td>	<a class="local col1 ref" href="#41mbx" title='mbx' data-ref="41mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rq" title='nic_mbx::(anonymous union)::rq' data-ref="nic_mbx::(anonymous)::rq">rq</a>.<a class="ref field" href="nicvf_mbox.h.html#rq_cfg_msg::qs_num" title='rq_cfg_msg::qs_num' data-ref="rq_cfg_msg::qs_num">qs_num</a> = <a class="local col8 ref" href="#38nic" title='nic' data-ref="38nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="280">280</th><td>	<a class="local col1 ref" href="#41mbx" title='mbx' data-ref="41mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rq" title='nic_mbx::(anonymous union)::rq' data-ref="nic_mbx::(anonymous)::rq">rq</a>.<a class="ref field" href="nicvf_mbox.h.html#rq_cfg_msg::rq_num" title='rq_cfg_msg::rq_num' data-ref="rq_cfg_msg::rq_num">rq_num</a> = <a class="local col9 ref" href="#39qidx" title='qidx' data-ref="39qidx">qidx</a>;</td></tr>
<tr><th id="281">281</th><td>	<a class="local col1 ref" href="#41mbx" title='mbx' data-ref="41mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rq" title='nic_mbx::(anonymous union)::rq' data-ref="nic_mbx::(anonymous)::rq">rq</a>.<a class="ref field" href="nicvf_mbox.h.html#rq_cfg_msg::cfg" title='rq_cfg_msg::cfg' data-ref="rq_cfg_msg::cfg">cfg</a> = <a class="local col0 ref" href="#40pf_rq_cfg" title='pf_rq_cfg' data-ref="40pf_rq_cfg">pf_rq_cfg</a>-&gt;<a class="ref field" href="nicvf_hw_defs.h.html#pf_rq_cfg::(anonymous)::value" title='pf_rq_cfg::(anonymous union)::value' data-ref="pf_rq_cfg::(anonymous)::value">value</a>;</td></tr>
<tr><th id="282">282</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col8 ref" href="#38nic" title='nic' data-ref="38nic">nic</a>, &amp;<a class="local col1 ref" href="#41mbx" title='mbx' data-ref="41mbx">mbx</a>);</td></tr>
<tr><th id="283">283</th><td>}</td></tr>
<tr><th id="284">284</th><td></td></tr>
<tr><th id="285">285</th><td><em>int</em></td></tr>
<tr><th id="286">286</th><td><dfn class="decl def fn" id="nicvf_mbox_sq_config" title='nicvf_mbox_sq_config' data-ref="nicvf_mbox_sq_config">nicvf_mbox_sq_config</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col2 decl" id="42nic" title='nic' data-type='struct nicvf *' data-ref="42nic">nic</dfn>, <a class="typedef" href="../../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col3 decl" id="43qidx" title='qidx' data-type='uint16_t' data-ref="43qidx">qidx</dfn>)</td></tr>
<tr><th id="287">287</th><td>{</td></tr>
<tr><th id="288">288</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col4 decl" id="44mbx" title='mbx' data-type='struct nic_mbx' data-ref="44mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="289">289</th><td></td></tr>
<tr><th id="290">290</th><td>	<a class="local col4 ref" href="#44mbx" title='mbx' data-ref="44mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#29" title="0x06" data-ref="_M/NIC_MBOX_MSG_SQ_CFG">NIC_MBOX_MSG_SQ_CFG</a>;</td></tr>
<tr><th id="291">291</th><td>	<a class="local col4 ref" href="#44mbx" title='mbx' data-ref="44mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sq" title='nic_mbx::(anonymous union)::sq' data-ref="nic_mbx::(anonymous)::sq">sq</a>.<a class="ref field" href="nicvf_mbox.h.html#sq_cfg_msg::qs_num" title='sq_cfg_msg::qs_num' data-ref="sq_cfg_msg::qs_num">qs_num</a> = <a class="local col2 ref" href="#42nic" title='nic' data-ref="42nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="292">292</th><td>	<a class="local col4 ref" href="#44mbx" title='mbx' data-ref="44mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sq" title='nic_mbx::(anonymous union)::sq' data-ref="nic_mbx::(anonymous)::sq">sq</a>.<a class="ref field" href="nicvf_mbox.h.html#sq_cfg_msg::sq_num" title='sq_cfg_msg::sq_num' data-ref="sq_cfg_msg::sq_num">sq_num</a> = <a class="local col3 ref" href="#43qidx" title='qidx' data-ref="43qidx">qidx</a>;</td></tr>
<tr><th id="293">293</th><td>	<a class="local col4 ref" href="#44mbx" title='mbx' data-ref="44mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sq" title='nic_mbx::(anonymous union)::sq' data-ref="nic_mbx::(anonymous)::sq">sq</a>.<a class="ref field" href="nicvf_mbox.h.html#sq_cfg_msg::sqs_mode" title='sq_cfg_msg::sqs_mode' data-ref="sq_cfg_msg::sqs_mode">sqs_mode</a> = <a class="local col2 ref" href="#42nic" title='nic' data-ref="42nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::sqs_mode" title='nicvf::sqs_mode' data-ref="nicvf::sqs_mode">sqs_mode</a>;</td></tr>
<tr><th id="294">294</th><td>	<a class="local col4 ref" href="#44mbx" title='mbx' data-ref="44mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sq" title='nic_mbx::(anonymous union)::sq' data-ref="nic_mbx::(anonymous)::sq">sq</a>.<a class="ref field" href="nicvf_mbox.h.html#sq_cfg_msg::cfg" title='sq_cfg_msg::cfg' data-ref="sq_cfg_msg::cfg">cfg</a> = (<a class="local col2 ref" href="#42nic" title='nic' data-ref="42nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a> &lt;&lt; <var>3</var>) | <a class="local col3 ref" href="#43qidx" title='qidx' data-ref="43qidx">qidx</a>;</td></tr>
<tr><th id="295">295</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col2 ref" href="#42nic" title='nic' data-ref="42nic">nic</a>, &amp;<a class="local col4 ref" href="#44mbx" title='mbx' data-ref="44mbx">mbx</a>);</td></tr>
<tr><th id="296">296</th><td>}</td></tr>
<tr><th id="297">297</th><td></td></tr>
<tr><th id="298">298</th><td><em>int</em></td></tr>
<tr><th id="299">299</th><td><dfn class="decl def fn" id="nicvf_mbox_qset_config" title='nicvf_mbox_qset_config' data-ref="nicvf_mbox_qset_config">nicvf_mbox_qset_config</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col5 decl" id="45nic" title='nic' data-type='struct nicvf *' data-ref="45nic">nic</dfn>, <b>struct</b> <a class="type" href="nicvf_hw_defs.h.html#pf_qs_cfg" title='pf_qs_cfg' data-ref="pf_qs_cfg">pf_qs_cfg</a> *<dfn class="local col6 decl" id="46qs_cfg" title='qs_cfg' data-type='struct pf_qs_cfg *' data-ref="46qs_cfg">qs_cfg</dfn>)</td></tr>
<tr><th id="300">300</th><td>{</td></tr>
<tr><th id="301">301</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col7 decl" id="47mbx" title='mbx' data-type='struct nic_mbx' data-ref="47mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="302">302</th><td></td></tr>
<tr><th id="303">303</th><td><u>#<span data-ppcond="303">if</span> <a class="macro" href="nicvf_plat.h.html#41" title="2" data-ref="_M/NICVF_BYTE_ORDER">NICVF_BYTE_ORDER</a> == <a class="macro" href="nicvf_plat.h.html#42" title="1" data-ref="_M/NICVF_BIG_ENDIAN">NICVF_BIG_ENDIAN</a></u></td></tr>
<tr><th id="304">304</th><td>	qs_cfg-&gt;be = <var>1</var>;</td></tr>
<tr><th id="305">305</th><td><u>#<span data-ppcond="303">endif</span></u></td></tr>
<tr><th id="306">306</th><td>	<i>/* Send a mailbox msg to PF to config Qset */</i></td></tr>
<tr><th id="307">307</th><td>	<a class="local col7 ref" href="#47mbx" title='mbx' data-ref="47mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#27" title="0x04" data-ref="_M/NIC_MBOX_MSG_QS_CFG">NIC_MBOX_MSG_QS_CFG</a>;</td></tr>
<tr><th id="308">308</th><td>	<a class="local col7 ref" href="#47mbx" title='mbx' data-ref="47mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::qs" title='nic_mbx::(anonymous union)::qs' data-ref="nic_mbx::(anonymous)::qs">qs</a>.<a class="ref field" href="nicvf_mbox.h.html#qs_cfg_msg::num" title='qs_cfg_msg::num' data-ref="qs_cfg_msg::num">num</a> = <a class="local col5 ref" href="#45nic" title='nic' data-ref="45nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="309">309</th><td>	<a class="local col7 ref" href="#47mbx" title='mbx' data-ref="47mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::qs" title='nic_mbx::(anonymous union)::qs' data-ref="nic_mbx::(anonymous)::qs">qs</a>.<a class="ref field" href="nicvf_mbox.h.html#qs_cfg_msg::sqs_count" title='qs_cfg_msg::sqs_count' data-ref="qs_cfg_msg::sqs_count">sqs_count</a> = <a class="local col5 ref" href="#45nic" title='nic' data-ref="45nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::sqs_count" title='nicvf::sqs_count' data-ref="nicvf::sqs_count">sqs_count</a>;</td></tr>
<tr><th id="310">310</th><td>	<a class="local col7 ref" href="#47mbx" title='mbx' data-ref="47mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::qs" title='nic_mbx::(anonymous union)::qs' data-ref="nic_mbx::(anonymous)::qs">qs</a>.<a class="ref field" href="nicvf_mbox.h.html#qs_cfg_msg::cfg" title='qs_cfg_msg::cfg' data-ref="qs_cfg_msg::cfg">cfg</a> = <a class="local col6 ref" href="#46qs_cfg" title='qs_cfg' data-ref="46qs_cfg">qs_cfg</a>-&gt;<a class="ref field" href="nicvf_hw_defs.h.html#pf_qs_cfg::(anonymous)::value" title='pf_qs_cfg::(anonymous union)::value' data-ref="pf_qs_cfg::(anonymous)::value">value</a>;</td></tr>
<tr><th id="311">311</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col5 ref" href="#45nic" title='nic' data-ref="45nic">nic</a>, &amp;<a class="local col7 ref" href="#47mbx" title='mbx' data-ref="47mbx">mbx</a>);</td></tr>
<tr><th id="312">312</th><td>}</td></tr>
<tr><th id="313">313</th><td></td></tr>
<tr><th id="314">314</th><td><em>int</em></td></tr>
<tr><th id="315">315</th><td><dfn class="decl def fn" id="nicvf_mbox_request_sqs" title='nicvf_mbox_request_sqs' data-ref="nicvf_mbox_request_sqs">nicvf_mbox_request_sqs</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col8 decl" id="48nic" title='nic' data-type='struct nicvf *' data-ref="48nic">nic</dfn>)</td></tr>
<tr><th id="316">316</th><td>{</td></tr>
<tr><th id="317">317</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col9 decl" id="49mbx" title='mbx' data-type='struct nic_mbx' data-ref="49mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="318">318</th><td>	<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col0 decl" id="50i" title='i' data-type='size_t' data-ref="50i">i</dfn>;</td></tr>
<tr><th id="319">319</th><td></td></tr>
<tr><th id="320">320</th><td>	<a class="macro" href="nicvf_hw_defs.h.html#189" title="(((nic)-&gt;sqs_mode == 0) ? (void) (0) : __assert_fail (&quot;(nic)-&gt;sqs_mode == 0&quot;, &quot;/home/tempdban/dpdk/build/build/drivers/net/thunderx/../../../../../drivers/net/thunderx/base/nicvf_mbox.c&quot;, 320, __PRETTY_FUNCTION__))" data-ref="_M/assert_primary">assert_primary</a>(<a class="local col8 ref" href="#48nic" title='nic' data-ref="48nic">nic</a>);</td></tr>
<tr><th id="321">321</th><td>	<a class="macro" href="../../../../../include/assert.h.html#86" title="((nic-&gt;sqs_count &gt; 0) ? (void) (0) : __assert_fail (&quot;nic-&gt;sqs_count &gt; 0&quot;, &quot;/home/tempdban/dpdk/build/build/drivers/net/thunderx/../../../../../drivers/net/thunderx/base/nicvf_mbox.c&quot;, 321, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col8 ref" href="#48nic" title='nic' data-ref="48nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::sqs_count" title='nicvf::sqs_count' data-ref="nicvf::sqs_count">sqs_count</a> &gt; <var>0</var>);</td></tr>
<tr><th id="322">322</th><td>	<a class="macro" href="../../../../../include/assert.h.html#86" title="((nic-&gt;sqs_count &lt;= 11) ? (void) (0) : __assert_fail (&quot;nic-&gt;sqs_count &lt;= 11&quot;, &quot;/home/tempdban/dpdk/build/build/drivers/net/thunderx/../../../../../drivers/net/thunderx/base/nicvf_mbox.c&quot;, 322, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col8 ref" href="#48nic" title='nic' data-ref="48nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::sqs_count" title='nicvf::sqs_count' data-ref="nicvf::sqs_count">sqs_count</a> &lt;= <a class="macro" href="../nicvf_struct.h.html#112" title="11" data-ref="_M/MAX_SQS_PER_VF">MAX_SQS_PER_VF</a>);</td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td>	<a class="local col9 ref" href="#49mbx" title='mbx' data-ref="49mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sqs_alloc" title='nic_mbx::(anonymous union)::sqs_alloc' data-ref="nic_mbx::(anonymous)::sqs_alloc">sqs_alloc</a>.<a class="ref field" href="nicvf_mbox.h.html#sqs_alloc::msg" title='sqs_alloc::msg' data-ref="sqs_alloc::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#40" title="0x12" data-ref="_M/NIC_MBOX_MSG_ALLOC_SQS">NIC_MBOX_MSG_ALLOC_SQS</a>;</td></tr>
<tr><th id="325">325</th><td>	<a class="local col9 ref" href="#49mbx" title='mbx' data-ref="49mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sqs_alloc" title='nic_mbx::(anonymous union)::sqs_alloc' data-ref="nic_mbx::(anonymous)::sqs_alloc">sqs_alloc</a>.<a class="ref field" href="nicvf_mbox.h.html#sqs_alloc::spec" title='sqs_alloc::spec' data-ref="sqs_alloc::spec">spec</a> = <var>1</var>;</td></tr>
<tr><th id="326">326</th><td>	<a class="local col9 ref" href="#49mbx" title='mbx' data-ref="49mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sqs_alloc" title='nic_mbx::(anonymous union)::sqs_alloc' data-ref="nic_mbx::(anonymous)::sqs_alloc">sqs_alloc</a>.<a class="ref field" href="nicvf_mbox.h.html#sqs_alloc::qs_count" title='sqs_alloc::qs_count' data-ref="sqs_alloc::qs_count">qs_count</a> = <a class="local col8 ref" href="#48nic" title='nic' data-ref="48nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::sqs_count" title='nicvf::sqs_count' data-ref="nicvf::sqs_count">sqs_count</a>;</td></tr>
<tr><th id="327">327</th><td></td></tr>
<tr><th id="328">328</th><td>	<i>/* Set no of Rx/Tx queues in each of the SQsets */</i></td></tr>
<tr><th id="329">329</th><td>	<b>for</b> (<a class="local col0 ref" href="#50i" title='i' data-ref="50i">i</a> = <var>0</var>; <a class="local col0 ref" href="#50i" title='i' data-ref="50i">i</a> &lt; <a class="local col8 ref" href="#48nic" title='nic' data-ref="48nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::sqs_count" title='nicvf::sqs_count' data-ref="nicvf::sqs_count">sqs_count</a>; <a class="local col0 ref" href="#50i" title='i' data-ref="50i">i</a>++)</td></tr>
<tr><th id="330">330</th><td>		<a class="local col9 ref" href="#49mbx" title='mbx' data-ref="49mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::sqs_alloc" title='nic_mbx::(anonymous union)::sqs_alloc' data-ref="nic_mbx::(anonymous)::sqs_alloc">sqs_alloc</a>.<a class="ref field" href="nicvf_mbox.h.html#sqs_alloc::svf" title='sqs_alloc::svf' data-ref="sqs_alloc::svf">svf</a>[<a class="local col0 ref" href="#50i" title='i' data-ref="50i">i</a>] = <a class="local col8 ref" href="#48nic" title='nic' data-ref="48nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::snicvf" title='nicvf::snicvf' data-ref="nicvf::snicvf">snicvf</a>[<a class="local col0 ref" href="#50i" title='i' data-ref="50i">i</a>]-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="331">331</th><td></td></tr>
<tr><th id="332">332</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col8 ref" href="#48nic" title='nic' data-ref="48nic">nic</a>, &amp;<a class="local col9 ref" href="#49mbx" title='mbx' data-ref="49mbx">mbx</a>);</td></tr>
<tr><th id="333">333</th><td>}</td></tr>
<tr><th id="334">334</th><td></td></tr>
<tr><th id="335">335</th><td><em>int</em></td></tr>
<tr><th id="336">336</th><td><dfn class="decl def fn" id="nicvf_mbox_rq_drop_config" title='nicvf_mbox_rq_drop_config' data-ref="nicvf_mbox_rq_drop_config">nicvf_mbox_rq_drop_config</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col1 decl" id="51nic" title='nic' data-type='struct nicvf *' data-ref="51nic">nic</dfn>, <a class="typedef" href="../../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col2 decl" id="52qidx" title='qidx' data-type='uint16_t' data-ref="52qidx">qidx</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col3 decl" id="53enable" title='enable' data-type='_Bool' data-ref="53enable">enable</dfn>)</td></tr>
<tr><th id="337">337</th><td>{</td></tr>
<tr><th id="338">338</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col4 decl" id="54mbx" title='mbx' data-type='struct nic_mbx' data-ref="54mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="339">339</th><td>	<b>struct</b> <a class="type" href="nicvf_hw_defs.h.html#pf_rq_drop_cfg" title='pf_rq_drop_cfg' data-ref="pf_rq_drop_cfg">pf_rq_drop_cfg</a> *<dfn class="local col5 decl" id="55drop_cfg" title='drop_cfg' data-type='struct pf_rq_drop_cfg *' data-ref="55drop_cfg">drop_cfg</dfn>;</td></tr>
<tr><th id="340">340</th><td></td></tr>
<tr><th id="341">341</th><td>	<i>/* Enable CQ drop to reserve sufficient CQEs for all tx packets */</i></td></tr>
<tr><th id="342">342</th><td>	<a class="local col4 ref" href="#54mbx" title='mbx' data-ref="54mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#30" title="0x07" data-ref="_M/NIC_MBOX_MSG_RQ_DROP_CFG">NIC_MBOX_MSG_RQ_DROP_CFG</a>;</td></tr>
<tr><th id="343">343</th><td>	<a class="local col4 ref" href="#54mbx" title='mbx' data-ref="54mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rq" title='nic_mbx::(anonymous union)::rq' data-ref="nic_mbx::(anonymous)::rq">rq</a>.<a class="ref field" href="nicvf_mbox.h.html#rq_cfg_msg::qs_num" title='rq_cfg_msg::qs_num' data-ref="rq_cfg_msg::qs_num">qs_num</a> = <a class="local col1 ref" href="#51nic" title='nic' data-ref="51nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="344">344</th><td>	<a class="local col4 ref" href="#54mbx" title='mbx' data-ref="54mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rq" title='nic_mbx::(anonymous union)::rq' data-ref="nic_mbx::(anonymous)::rq">rq</a>.<a class="ref field" href="nicvf_mbox.h.html#rq_cfg_msg::rq_num" title='rq_cfg_msg::rq_num' data-ref="rq_cfg_msg::rq_num">rq_num</a> = <a class="local col2 ref" href="#52qidx" title='qidx' data-ref="52qidx">qidx</a>;</td></tr>
<tr><th id="345">345</th><td>	<a class="local col5 ref" href="#55drop_cfg" title='drop_cfg' data-ref="55drop_cfg">drop_cfg</a> = (<b>struct</b> <a class="type" href="nicvf_hw_defs.h.html#pf_rq_drop_cfg" title='pf_rq_drop_cfg' data-ref="pf_rq_drop_cfg">pf_rq_drop_cfg</a> *)&amp;<a class="local col4 ref" href="#54mbx" title='mbx' data-ref="54mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rq" title='nic_mbx::(anonymous union)::rq' data-ref="nic_mbx::(anonymous)::rq">rq</a>.<a class="ref field" href="nicvf_mbox.h.html#rq_cfg_msg::cfg" title='rq_cfg_msg::cfg' data-ref="rq_cfg_msg::cfg">cfg</a>;</td></tr>
<tr><th id="346">346</th><td>	<a class="local col5 ref" href="#55drop_cfg" title='drop_cfg' data-ref="55drop_cfg">drop_cfg</a>-&gt;<a class="ref field" href="nicvf_hw_defs.h.html#pf_rq_drop_cfg::(anonymous)::value" title='pf_rq_drop_cfg::(anonymous union)::value' data-ref="pf_rq_drop_cfg::(anonymous)::value">value</a> = <var>0</var>;</td></tr>
<tr><th id="347">347</th><td>	<b>if</b> (<a class="local col3 ref" href="#53enable" title='enable' data-ref="53enable">enable</a>) {</td></tr>
<tr><th id="348">348</th><td>		<a class="local col5 ref" href="#55drop_cfg" title='drop_cfg' data-ref="55drop_cfg">drop_cfg</a>-&gt;<a class="ref field" href="nicvf_hw_defs.h.html#pf_rq_drop_cfg::(anonymousunion)::(anonymous)::cq_red" title='pf_rq_drop_cfg::(anonymous union)::(anonymous struct)::cq_red' data-ref="pf_rq_drop_cfg::(anonymousunion)::(anonymous)::cq_red">cq_red</a> = <var>1</var>;</td></tr>
<tr><th id="349">349</th><td>		<a class="local col5 ref" href="#55drop_cfg" title='drop_cfg' data-ref="55drop_cfg">drop_cfg</a>-&gt;<a class="ref field" href="nicvf_hw_defs.h.html#pf_rq_drop_cfg::(anonymousunion)::(anonymous)::cq_drop" title='pf_rq_drop_cfg::(anonymous union)::(anonymous struct)::cq_drop' data-ref="pf_rq_drop_cfg::(anonymousunion)::(anonymous)::cq_drop">cq_drop</a> = <var>2</var>;</td></tr>
<tr><th id="350">350</th><td>	}</td></tr>
<tr><th id="351">351</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col1 ref" href="#51nic" title='nic' data-ref="51nic">nic</a>, &amp;<a class="local col4 ref" href="#54mbx" title='mbx' data-ref="54mbx">mbx</a>);</td></tr>
<tr><th id="352">352</th><td>}</td></tr>
<tr><th id="353">353</th><td></td></tr>
<tr><th id="354">354</th><td><em>int</em></td></tr>
<tr><th id="355">355</th><td><dfn class="decl def fn" id="nicvf_mbox_update_hw_max_frs" title='nicvf_mbox_update_hw_max_frs' data-ref="nicvf_mbox_update_hw_max_frs">nicvf_mbox_update_hw_max_frs</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col6 decl" id="56nic" title='nic' data-type='struct nicvf *' data-ref="56nic">nic</dfn>, <a class="typedef" href="../../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col7 decl" id="57mtu" title='mtu' data-type='uint16_t' data-ref="57mtu">mtu</dfn>)</td></tr>
<tr><th id="356">356</th><td>{</td></tr>
<tr><th id="357">357</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col8 decl" id="58mbx" title='mbx' data-type='struct nic_mbx' data-ref="58mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="358">358</th><td></td></tr>
<tr><th id="359">359</th><td>	<a class="local col8 ref" href="#58mbx" title='mbx' data-ref="58mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#32" title="0x09" data-ref="_M/NIC_MBOX_MSG_SET_MAX_FRS">NIC_MBOX_MSG_SET_MAX_FRS</a>;</td></tr>
<tr><th id="360">360</th><td>	<a class="local col8 ref" href="#58mbx" title='mbx' data-ref="58mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::frs" title='nic_mbx::(anonymous union)::frs' data-ref="nic_mbx::(anonymous)::frs">frs</a>.<a class="ref field" href="nicvf_mbox.h.html#set_frs_msg::max_frs" title='set_frs_msg::max_frs' data-ref="set_frs_msg::max_frs">max_frs</a> = <a class="local col7 ref" href="#57mtu" title='mtu' data-ref="57mtu">mtu</a>;</td></tr>
<tr><th id="361">361</th><td>	<a class="local col8 ref" href="#58mbx" title='mbx' data-ref="58mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::frs" title='nic_mbx::(anonymous union)::frs' data-ref="nic_mbx::(anonymous)::frs">frs</a>.<a class="ref field" href="nicvf_mbox.h.html#set_frs_msg::vf_id" title='set_frs_msg::vf_id' data-ref="set_frs_msg::vf_id">vf_id</a> = <a class="local col6 ref" href="#56nic" title='nic' data-ref="56nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="362">362</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col6 ref" href="#56nic" title='nic' data-ref="56nic">nic</a>, &amp;<a class="local col8 ref" href="#58mbx" title='mbx' data-ref="58mbx">mbx</a>);</td></tr>
<tr><th id="363">363</th><td>}</td></tr>
<tr><th id="364">364</th><td></td></tr>
<tr><th id="365">365</th><td><em>int</em></td></tr>
<tr><th id="366">366</th><td><dfn class="decl def fn" id="nicvf_mbox_rq_sync" title='nicvf_mbox_rq_sync' data-ref="nicvf_mbox_rq_sync">nicvf_mbox_rq_sync</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col9 decl" id="59nic" title='nic' data-type='struct nicvf *' data-ref="59nic">nic</dfn>)</td></tr>
<tr><th id="367">367</th><td>{</td></tr>
<tr><th id="368">368</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col0 decl" id="60mbx" title='mbx' data-type='struct nic_mbx' data-ref="60mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="369">369</th><td></td></tr>
<tr><th id="370">370</th><td>	<i>/* Make sure all packets in the pipeline are written back into mem */</i></td></tr>
<tr><th id="371">371</th><td>	<a class="local col0 ref" href="#60mbx" title='mbx' data-ref="60mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#38" title="0x0F" data-ref="_M/NIC_MBOX_MSG_RQ_SW_SYNC">NIC_MBOX_MSG_RQ_SW_SYNC</a>;</td></tr>
<tr><th id="372">372</th><td>	<a class="local col0 ref" href="#60mbx" title='mbx' data-ref="60mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rq" title='nic_mbx::(anonymous union)::rq' data-ref="nic_mbx::(anonymous)::rq">rq</a>.<a class="ref field" href="nicvf_mbox.h.html#rq_cfg_msg::cfg" title='rq_cfg_msg::cfg' data-ref="rq_cfg_msg::cfg">cfg</a> = <var>0</var>;</td></tr>
<tr><th id="373">373</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col9 ref" href="#59nic" title='nic' data-ref="59nic">nic</a>, &amp;<a class="local col0 ref" href="#60mbx" title='mbx' data-ref="60mbx">mbx</a>);</td></tr>
<tr><th id="374">374</th><td>}</td></tr>
<tr><th id="375">375</th><td></td></tr>
<tr><th id="376">376</th><td><em>int</em></td></tr>
<tr><th id="377">377</th><td><dfn class="decl def fn" id="nicvf_mbox_rq_bp_config" title='nicvf_mbox_rq_bp_config' data-ref="nicvf_mbox_rq_bp_config">nicvf_mbox_rq_bp_config</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col1 decl" id="61nic" title='nic' data-type='struct nicvf *' data-ref="61nic">nic</dfn>, <a class="typedef" href="../../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col2 decl" id="62qidx" title='qidx' data-type='uint16_t' data-ref="62qidx">qidx</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col3 decl" id="63enable" title='enable' data-type='_Bool' data-ref="63enable">enable</dfn>)</td></tr>
<tr><th id="378">378</th><td>{</td></tr>
<tr><th id="379">379</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col4 decl" id="64mbx" title='mbx' data-type='struct nic_mbx' data-ref="64mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="380">380</th><td></td></tr>
<tr><th id="381">381</th><td>	<a class="local col4 ref" href="#64mbx" title='mbx' data-ref="64mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#37" title="0x0E" data-ref="_M/NIC_MBOX_MSG_RQ_BP_CFG">NIC_MBOX_MSG_RQ_BP_CFG</a>;</td></tr>
<tr><th id="382">382</th><td>	<a class="local col4 ref" href="#64mbx" title='mbx' data-ref="64mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rq" title='nic_mbx::(anonymous union)::rq' data-ref="nic_mbx::(anonymous)::rq">rq</a>.<a class="ref field" href="nicvf_mbox.h.html#rq_cfg_msg::qs_num" title='rq_cfg_msg::qs_num' data-ref="rq_cfg_msg::qs_num">qs_num</a> = <a class="local col1 ref" href="#61nic" title='nic' data-ref="61nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="383">383</th><td>	<a class="local col4 ref" href="#64mbx" title='mbx' data-ref="64mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rq" title='nic_mbx::(anonymous union)::rq' data-ref="nic_mbx::(anonymous)::rq">rq</a>.<a class="ref field" href="nicvf_mbox.h.html#rq_cfg_msg::rq_num" title='rq_cfg_msg::rq_num' data-ref="rq_cfg_msg::rq_num">rq_num</a> = <a class="local col2 ref" href="#62qidx" title='qidx' data-ref="62qidx">qidx</a>;</td></tr>
<tr><th id="384">384</th><td>	<a class="local col4 ref" href="#64mbx" title='mbx' data-ref="64mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rq" title='nic_mbx::(anonymous union)::rq' data-ref="nic_mbx::(anonymous)::rq">rq</a>.<a class="ref field" href="nicvf_mbox.h.html#rq_cfg_msg::cfg" title='rq_cfg_msg::cfg' data-ref="rq_cfg_msg::cfg">cfg</a> = <var>0</var>;</td></tr>
<tr><th id="385">385</th><td>	<b>if</b> (<a class="local col3 ref" href="#63enable" title='enable' data-ref="63enable">enable</a>)</td></tr>
<tr><th id="386">386</th><td>		<a class="local col4 ref" href="#64mbx" title='mbx' data-ref="64mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::rq" title='nic_mbx::(anonymous union)::rq' data-ref="nic_mbx::(anonymous)::rq">rq</a>.<a class="ref field" href="nicvf_mbox.h.html#rq_cfg_msg::cfg" title='rq_cfg_msg::cfg' data-ref="rq_cfg_msg::cfg">cfg</a> = (<var>1ULL</var> &lt;&lt; <var>63</var>) | (<var>1ULL</var> &lt;&lt; <var>62</var>) | (<a class="local col1 ref" href="#61nic" title='nic' data-ref="61nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a> &lt;&lt; <var>0</var>);</td></tr>
<tr><th id="387">387</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col1 ref" href="#61nic" title='nic' data-ref="61nic">nic</a>, &amp;<a class="local col4 ref" href="#64mbx" title='mbx' data-ref="64mbx">mbx</a>);</td></tr>
<tr><th id="388">388</th><td>}</td></tr>
<tr><th id="389">389</th><td></td></tr>
<tr><th id="390">390</th><td><em>int</em></td></tr>
<tr><th id="391">391</th><td><dfn class="decl def fn" id="nicvf_mbox_loopback_config" title='nicvf_mbox_loopback_config' data-ref="nicvf_mbox_loopback_config">nicvf_mbox_loopback_config</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col5 decl" id="65nic" title='nic' data-type='struct nicvf *' data-ref="65nic">nic</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col6 decl" id="66enable" title='enable' data-type='_Bool' data-ref="66enable">enable</dfn>)</td></tr>
<tr><th id="392">392</th><td>{</td></tr>
<tr><th id="393">393</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col7 decl" id="67mbx" title='mbx' data-type='struct nic_mbx' data-ref="67mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="394">394</th><td></td></tr>
<tr><th id="395">395</th><td>	<a class="local col7 ref" href="#67mbx" title='mbx' data-ref="67mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::lbk" title='nic_mbx::(anonymous union)::lbk' data-ref="nic_mbx::(anonymous)::lbk">lbk</a>.<a class="ref field" href="nicvf_mbox.h.html#set_loopback::msg" title='set_loopback::msg' data-ref="set_loopback::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#41" title="0x16" data-ref="_M/NIC_MBOX_MSG_LOOPBACK">NIC_MBOX_MSG_LOOPBACK</a>;</td></tr>
<tr><th id="396">396</th><td>	<a class="local col7 ref" href="#67mbx" title='mbx' data-ref="67mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::lbk" title='nic_mbx::(anonymous union)::lbk' data-ref="nic_mbx::(anonymous)::lbk">lbk</a>.<a class="ref field" href="nicvf_mbox.h.html#set_loopback::vf_id" title='set_loopback::vf_id' data-ref="set_loopback::vf_id">vf_id</a> = <a class="local col5 ref" href="#65nic" title='nic' data-ref="65nic">nic</a>-&gt;<a class="ref field" href="../nicvf_struct.h.html#nicvf::vf_id" title='nicvf::vf_id' data-ref="nicvf::vf_id">vf_id</a>;</td></tr>
<tr><th id="397">397</th><td>	<a class="local col7 ref" href="#67mbx" title='mbx' data-ref="67mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::lbk" title='nic_mbx::(anonymous union)::lbk' data-ref="nic_mbx::(anonymous)::lbk">lbk</a>.<a class="ref field" href="nicvf_mbox.h.html#set_loopback::enable" title='set_loopback::enable' data-ref="set_loopback::enable">enable</a> = <a class="local col6 ref" href="#66enable" title='enable' data-ref="66enable">enable</a>;</td></tr>
<tr><th id="398">398</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col5 ref" href="#65nic" title='nic' data-ref="65nic">nic</a>, &amp;<a class="local col7 ref" href="#67mbx" title='mbx' data-ref="67mbx">mbx</a>);</td></tr>
<tr><th id="399">399</th><td>}</td></tr>
<tr><th id="400">400</th><td></td></tr>
<tr><th id="401">401</th><td><em>int</em></td></tr>
<tr><th id="402">402</th><td><dfn class="decl def fn" id="nicvf_mbox_reset_stat_counters" title='nicvf_mbox_reset_stat_counters' data-ref="nicvf_mbox_reset_stat_counters">nicvf_mbox_reset_stat_counters</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col8 decl" id="68nic" title='nic' data-type='struct nicvf *' data-ref="68nic">nic</dfn>, <a class="typedef" href="../../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col9 decl" id="69rx_stat_mask" title='rx_stat_mask' data-type='uint16_t' data-ref="69rx_stat_mask">rx_stat_mask</dfn>,</td></tr>
<tr><th id="403">403</th><td>			       <a class="typedef" href="../../../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="local col0 decl" id="70tx_stat_mask" title='tx_stat_mask' data-type='uint8_t' data-ref="70tx_stat_mask">tx_stat_mask</dfn>, <a class="typedef" href="../../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col1 decl" id="71rq_stat_mask" title='rq_stat_mask' data-type='uint16_t' data-ref="71rq_stat_mask">rq_stat_mask</dfn>,</td></tr>
<tr><th id="404">404</th><td>			       <a class="typedef" href="../../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col2 decl" id="72sq_stat_mask" title='sq_stat_mask' data-type='uint16_t' data-ref="72sq_stat_mask">sq_stat_mask</dfn>)</td></tr>
<tr><th id="405">405</th><td>{</td></tr>
<tr><th id="406">406</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col3 decl" id="73mbx" title='mbx' data-type='struct nic_mbx' data-ref="73mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="407">407</th><td></td></tr>
<tr><th id="408">408</th><td>	<a class="local col3 ref" href="#73mbx" title='mbx' data-ref="73mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::reset_stat" title='nic_mbx::(anonymous union)::reset_stat' data-ref="nic_mbx::(anonymous)::reset_stat">reset_stat</a>.<a class="ref field" href="nicvf_mbox.h.html#reset_stat_cfg::msg" title='reset_stat_cfg::msg' data-ref="reset_stat_cfg::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#42" title="0x17" data-ref="_M/NIC_MBOX_MSG_RESET_STAT_COUNTER">NIC_MBOX_MSG_RESET_STAT_COUNTER</a>;</td></tr>
<tr><th id="409">409</th><td>	<a class="local col3 ref" href="#73mbx" title='mbx' data-ref="73mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::reset_stat" title='nic_mbx::(anonymous union)::reset_stat' data-ref="nic_mbx::(anonymous)::reset_stat">reset_stat</a>.<a class="ref field" href="nicvf_mbox.h.html#reset_stat_cfg::rx_stat_mask" title='reset_stat_cfg::rx_stat_mask' data-ref="reset_stat_cfg::rx_stat_mask">rx_stat_mask</a> = <a class="local col9 ref" href="#69rx_stat_mask" title='rx_stat_mask' data-ref="69rx_stat_mask">rx_stat_mask</a>;</td></tr>
<tr><th id="410">410</th><td>	<a class="local col3 ref" href="#73mbx" title='mbx' data-ref="73mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::reset_stat" title='nic_mbx::(anonymous union)::reset_stat' data-ref="nic_mbx::(anonymous)::reset_stat">reset_stat</a>.<a class="ref field" href="nicvf_mbox.h.html#reset_stat_cfg::tx_stat_mask" title='reset_stat_cfg::tx_stat_mask' data-ref="reset_stat_cfg::tx_stat_mask">tx_stat_mask</a> = <a class="local col0 ref" href="#70tx_stat_mask" title='tx_stat_mask' data-ref="70tx_stat_mask">tx_stat_mask</a>;</td></tr>
<tr><th id="411">411</th><td>	<a class="local col3 ref" href="#73mbx" title='mbx' data-ref="73mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::reset_stat" title='nic_mbx::(anonymous union)::reset_stat' data-ref="nic_mbx::(anonymous)::reset_stat">reset_stat</a>.<a class="ref field" href="nicvf_mbox.h.html#reset_stat_cfg::rq_stat_mask" title='reset_stat_cfg::rq_stat_mask' data-ref="reset_stat_cfg::rq_stat_mask">rq_stat_mask</a> = <a class="local col1 ref" href="#71rq_stat_mask" title='rq_stat_mask' data-ref="71rq_stat_mask">rq_stat_mask</a>;</td></tr>
<tr><th id="412">412</th><td>	<a class="local col3 ref" href="#73mbx" title='mbx' data-ref="73mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::reset_stat" title='nic_mbx::(anonymous union)::reset_stat' data-ref="nic_mbx::(anonymous)::reset_stat">reset_stat</a>.<a class="ref field" href="nicvf_mbox.h.html#reset_stat_cfg::sq_stat_mask" title='reset_stat_cfg::sq_stat_mask' data-ref="reset_stat_cfg::sq_stat_mask">sq_stat_mask</a> = <a class="local col2 ref" href="#72sq_stat_mask" title='sq_stat_mask' data-ref="72sq_stat_mask">sq_stat_mask</a>;</td></tr>
<tr><th id="413">413</th><td>	<b>return</b> <a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col8 ref" href="#68nic" title='nic' data-ref="68nic">nic</a>, &amp;<a class="local col3 ref" href="#73mbx" title='mbx' data-ref="73mbx">mbx</a>);</td></tr>
<tr><th id="414">414</th><td>}</td></tr>
<tr><th id="415">415</th><td></td></tr>
<tr><th id="416">416</th><td><em>void</em></td></tr>
<tr><th id="417">417</th><td><dfn class="decl def fn" id="nicvf_mbox_shutdown" title='nicvf_mbox_shutdown' data-ref="nicvf_mbox_shutdown">nicvf_mbox_shutdown</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col4 decl" id="74nic" title='nic' data-type='struct nicvf *' data-ref="74nic">nic</dfn>)</td></tr>
<tr><th id="418">418</th><td>{</td></tr>
<tr><th id="419">419</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col5 decl" id="75mbx" title='mbx' data-type='struct nic_mbx' data-ref="75mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="420">420</th><td></td></tr>
<tr><th id="421">421</th><td>	<a class="local col5 ref" href="#75mbx" title='mbx' data-ref="75mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#44" title="0xF1" data-ref="_M/NIC_MBOX_MSG_SHUTDOWN">NIC_MBOX_MSG_SHUTDOWN</a>;</td></tr>
<tr><th id="422">422</th><td>	<a class="tu ref fn" href="#nicvf_mbox_send_msg_to_pf" title='nicvf_mbox_send_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_msg_to_pf">nicvf_mbox_send_msg_to_pf</a>(<a class="local col4 ref" href="#74nic" title='nic' data-ref="74nic">nic</a>, &amp;<a class="local col5 ref" href="#75mbx" title='mbx' data-ref="75mbx">mbx</a>);</td></tr>
<tr><th id="423">423</th><td>}</td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td><em>void</em></td></tr>
<tr><th id="426">426</th><td><dfn class="decl def fn" id="nicvf_mbox_cfg_done" title='nicvf_mbox_cfg_done' data-ref="nicvf_mbox_cfg_done">nicvf_mbox_cfg_done</dfn>(<b>struct</b> <a class="type" href="../nicvf_struct.h.html#nicvf" title='nicvf' data-ref="nicvf">nicvf</a> *<dfn class="local col6 decl" id="76nic" title='nic' data-type='struct nicvf *' data-ref="76nic">nic</dfn>)</td></tr>
<tr><th id="427">427</th><td>{</td></tr>
<tr><th id="428">428</th><td>	<b>struct</b> <a class="type" href="nicvf_mbox.h.html#nic_mbx" title='nic_mbx' data-ref="nic_mbx">nic_mbx</a> <dfn class="local col7 decl" id="77mbx" title='mbx' data-type='struct nic_mbx' data-ref="77mbx">mbx</dfn> = { .<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a> = { <var>0</var> } };</td></tr>
<tr><th id="429">429</th><td></td></tr>
<tr><th id="430">430</th><td>	<a class="local col7 ref" href="#77mbx" title='mbx' data-ref="77mbx">mbx</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymous)::msg" title='nic_mbx::(anonymous union)::msg' data-ref="nic_mbx::(anonymous)::msg">msg</a>.<a class="ref field" href="nicvf_mbox.h.html#nic_mbx::(anonymousunion)::(anonymous)::msg" title='nic_mbx::(anonymous union)::(anonymous struct)::msg' data-ref="nic_mbx::(anonymousunion)::(anonymous)::msg">msg</a> = <a class="macro" href="nicvf_mbox.h.html#43" title="0xF0" data-ref="_M/NIC_MBOX_MSG_CFG_DONE">NIC_MBOX_MSG_CFG_DONE</a>;</td></tr>
<tr><th id="431">431</th><td>	<a class="tu ref fn" href="#nicvf_mbox_send_async_msg_to_pf" title='nicvf_mbox_send_async_msg_to_pf' data-use='c' data-ref="nicvf_mbox_send_async_msg_to_pf">nicvf_mbox_send_async_msg_to_pf</a>(<a class="local col6 ref" href="#76nic" title='nic' data-ref="76nic">nic</a>, &amp;<a class="local col7 ref" href="#77mbx" title='mbx' data-ref="77mbx">mbx</a>);</td></tr>
<tr><th id="432">432</th><td>}</td></tr>
<tr><th id="433">433</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2018-Oct-01</em> from project master revision <em>master</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
